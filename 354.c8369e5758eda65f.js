"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[354],{4731:(et,M,c)=>{c.d(M,{h:()=>p});var m=c(5758),i=c(3184),d=c(6362),x=c(7317);function k(u,f){if(1&u&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&u){const t=i.oxw();i.xp6(1),i.hij(" ",t.data.message," ")}}class p{constructor(f){this.data=f}ngOnInit(){}}p.\u0275fac=function(f){return new(f||p)(i.Y36(m.WI))},p.\u0275cmp=i.Xpm({type:p,selectors:[["avr-confirm-delete-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(f,t){1&f&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"mat-dialog-content",1),i.TgZ(3,"p"),i._uU(4),i.qZA(),i.YNc(5,k,2,1,"p",2),i.qZA(),i.TgZ(6,"mat-dialog-actions"),i.TgZ(7,"button",3),i._uU(8,"No"),i.qZA(),i.TgZ(9,"button",4),i._uU(10,"Yes"),i.qZA(),i.qZA()),2&f&&(i.xp6(1),i.hij("Deleting ",t.data.name,""),i.xp6(3),i.hij(" Are you sure you want to delete ",t.data.name,"? "),i.xp6(1),i.Q6J("ngIf",t.data.message),i.xp6(4),i.Q6J("mat-dialog-close",!0))},directives:[m.uh,m.xY,d.O5,m.H8,x.lW,m.ZT],styles:[""]})},3354:(et,M,c)=>{c.r(M),c.d(M,{DashboardModule:()=>R});var m=c(6362),i=c(5434),d=c(587),x=c(3992),k=c(138),p=c(9481),u=c(9159),f=c(2524),t=c(3184),O=c(1413),A=c(9910),T=c(7317),v=c(5590),b=c(7778),Y=c(6131),D=c(6531);function C(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(a),t.oxw(),t.MAs(3).toggle()}),t.TgZ(1,"mat-icon"),t._uU(2,"double_arrow"),t.qZA(),t.qZA()}}const h=function(n){return{"side-menu-open":n}},g=function(){return["characters"]},E=function(){return["aliases"]},Q=function(){return["gvars"]};class U extends f.t{constructor(e,a,o){super(o),this.router=e,this.dashboardService=a,this.bp=o,(0,u.jl)()||this.router.navigate(["login"])}logout(){(0,u.gy)(),this.router.navigate([""])}}U.\u0275fac=function(e){return new(e||U)(t.Y36(p.F0),t.Y36(O.s),t.Y36(A.Yg))},U.\u0275cmp=t.Xpm({type:U,selectors:[["avr-dashboard"]],features:[t.qOj],decls:45,vars:12,consts:[["mat-icon-button","","class","small-menu-button mat-fab","color","accent",3,"click",4,"ngIf"],[1,"sidenav-container",3,"ngClass"],["fixedTopGap","56px",1,"sidenav","mat-elevation-z3",3,"opened","mode","openedChange"],["sidenav",""],["mat-list-item","",3,"routerLink","click"],["expanded","",1,"mat-elevation-z0"],[1,"nav-panel"],[1,"nav-panel-body"],["mat-list-item","","routerLink","/dashboard/workshop",3,"click"],["mat-list-item","","routerLink","/dashboard/workshop/my-subscriptions",3,"click"],["mat-list-item","","routerLink","/dashboard/workshop/my-work",3,"click"],["mat-list-item","","routerLink","/dashboard/homebrew/items",3,"click"],["mat-list-item","","routerLink","/dashboard/homebrew/spells",3,"click"],["mat-list-item","","href","https://critterdb.com/#/index","target","_blank","rel","noopener noreferrer",3,"click"],[1,"icon-in-panel"],[1,"spacer"],["mat-list-item","",3,"click"],["mat-icon-button","","color","accent",1,"small-menu-button","mat-fab",3,"click"]],template:function(e,a){if(1&e){const o=t.EpF();t.YNc(0,C,3,0,"button",0),t.TgZ(1,"mat-sidenav-container",1),t.TgZ(2,"mat-sidenav",2,3),t.NdJ("openedChange",function(l){return a.medium=l}),t.TgZ(4,"mat-nav-list"),t.TgZ(5,"a",4),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(6,"Characters"),t.qZA(),t.TgZ(7,"mat-expansion-panel",5),t.TgZ(8,"mat-expansion-panel-header"),t.TgZ(9,"mat-panel-title",6),t._uU(10," Alias Workshop "),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"a",8),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(13,"Explore"),t.qZA(),t.TgZ(14,"a",9),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(15,"My Subscriptions"),t.qZA(),t.TgZ(16,"a",10),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(17,"My Work"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"mat-expansion-panel",5),t.TgZ(19,"mat-expansion-panel-header"),t.TgZ(20,"mat-panel-title",6),t._uU(21," Customization "),t.qZA(),t.qZA(),t.TgZ(22,"div",7),t.TgZ(23,"a",4),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(24,"My Customizations"),t.qZA(),t.TgZ(25,"a",4),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(26,"Global Variables"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"mat-expansion-panel",5),t.TgZ(28,"mat-expansion-panel-header"),t.TgZ(29,"mat-panel-title",6),t._uU(30," Homebrew "),t.qZA(),t.qZA(),t.TgZ(31,"div",7),t.TgZ(32,"a",11),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(33,"Items"),t.qZA(),t.TgZ(34,"a",12),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(35,"Spells"),t.qZA(),t.TgZ(36,"a",13),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(3);return(a.small||a.mobile)&&l.toggle()}),t._uU(37,"Creatures "),t.TgZ(38,"mat-icon",14),t._uU(39,"launch"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(40,"div",15),t.TgZ(41,"a",16),t.NdJ("click",function(){return a.logout()}),t._uU(42,"Logout"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"mat-sidenav-content"),t._UZ(44,"router-outlet"),t.qZA(),t.qZA()}if(2&e){const o=t.MAs(3);t.Q6J("ngIf",(a.small||a.mobile)&&!o.opened),t.xp6(1),t.Q6J("ngClass",t.VKq(7,h,!o.opened)),t.xp6(1),t.Q6J("opened",a.medium)("mode",a.small||a.mobile?"over":"side"),t.xp6(3),t.Q6J("routerLink",t.DdM(9,g)),t.xp6(18),t.Q6J("routerLink",t.DdM(10,E)),t.xp6(2),t.Q6J("routerLink",t.DdM(11,Q))}},directives:[m.O5,T.lW,v.Hw,b.TM,m.mk,b.JX,Y.Hk,Y.Tg,p.yS,D.ib,D.yz,D.yK,b.Rh,p.lC],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.spacer[_ngcontent-%COMP%]{height:32px}mat-expansion-panel-header[_ngcontent-%COMP%]{transition:background-color .5s ease-in-out;padding-left:16px}mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px)}.nav-panel[_ngcontent-%COMP%]{text-decoration:none;font-weight:300}.nav-panel-body[_ngcontent-%COMP%]{margin:0 -24px -16px}.nav-panel-body[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0 24px;height:36px;font-size:90%}.icon-in-panel[_ngcontent-%COMP%]{font-size:16px;height:16px;padding-left:4px}  .small-menu-button>span{padding:0!important}.small-menu-button[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:100px;left:17px;z-index:5}.side-menu-open[_ngcontent-%COMP%]{margin-top:-40px}"]});var H=c(4139),Z=c(7445),_=c(5758),ht=c(6942);class ft{constructor(e="",a=[],o=!1,r=null){this.name=e,this.automation=a,this._v=2,this.proper=o,this.verb=r}}var vt=c(5839),Ct=c(7934),Zt=c(4329),mt=c(9220),F=c(2528),B=c(4770),Tt=c(1434),xt=c(1130),dt=c(89),pt=c(9975),at=c(4683),At=c(1534),bt=c(6225),Mt=c(4742);function kt(n,e){if(1&n&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&n){const a=e.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a.name," ")}}function wt(n,e){1&n&&(t.TgZ(0,"p"),t._uU(1,"Please select an attack."),t.qZA())}function yt(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"div",30),t._UZ(1,"mat-divider",18),t.TgZ(2,"h3"),t._uU(3," Display Options "),t.qZA(),t.TgZ(4,"div",31),t.TgZ(5,"span"),t._uU(6),t.TgZ(7,"mat-form-field"),t.TgZ(8,"input",32),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw(3).selectedAttack.verb=r}),t.qZA(),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"mat-checkbox",33),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw(3).selectedAttack.proper=r}),t._uU(11,"Proper Noun"),t.qZA(),t.TgZ(12,"mat-form-field"),t.TgZ(13,"input",34),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw(3).selectedAttack.thumb=r}),t.qZA(),t.qZA(),t.TgZ(14,"mat-form-field"),t.TgZ(15,"input",35),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw(3).selectedAttack.phrase=r}),t.qZA(),t.qZA(),t.qZA(),t._UZ(16,"mat-divider",18),t.TgZ(17,"h3"),t._uU(18," Critical Hit Options "),t.qZA(),t.TgZ(19,"div",36),t.TgZ(20,"mat-form-field"),t.TgZ(21,"input",37),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw(3).selectedAttack.criton=r}),t.qZA(),t.qZA(),t.TgZ(22,"mat-form-field"),t.TgZ(23,"input",38),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw(3).selectedAttack.extra_crit_damage=r}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const a=t.oxw(3);t.xp6(6),t.hij(" Display: ",a.character.name," "),t.xp6(2),t.Q6J("ngModel",a.selectedAttack.verb),t.xp6(1),t.hij(" ",a.selectedAttack.proper?a.selectedAttack.name:"a "+a.selectedAttack.name,"! "),t.xp6(1),t.Q6J("ngModel",a.selectedAttack.proper),t.xp6(3),t.Q6J("ngModel",a.selectedAttack.thumb),t.xp6(2),t.Q6J("ngModel",a.selectedAttack.phrase),t.xp6(6),t.Q6J("ngModel",a.selectedAttack.criton),t.xp6(2),t.Q6J("ngModel",a.selectedAttack.extra_crit_damage)}}function Dt(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",22),t.TgZ(2,"mat-form-field",17),t.TgZ(3,"input",23),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw(2).selectedAttack.name=r}),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"span",10),t.TgZ(6,"button",24),t.NdJ("click",function(){t.CHM(a);const r=t.oxw(2);return r.deleteAttack(r.selectedAttack)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"span",10),t.TgZ(10,"button",25),t.NdJ("click",function(){t.CHM(a);const r=t.oxw(2);return r.beginYAMLExport(r.selectedAttack)}),t.TgZ(11,"mat-icon",26),t._uU(12,"vertical_align_top"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"span",27),t.NdJ("click",function(){t.CHM(a);const r=t.oxw(2);return r.showAdvancedOptions=!r.showAdvancedOptions}),t._uU(14," Advanced Options "),t.TgZ(15,"mat-icon"),t._uU(16),t.qZA(),t.qZA(),t.YNc(17,yt,24,8,"div",28),t._UZ(18,"mat-divider",18),t.TgZ(19,"h3"),t._uU(20," Automation "),t.qZA(),t._UZ(21,"avr-automation-editor",29),t.qZA()}if(2&n){const a=t.oxw(2);t.xp6(3),t.Q6J("ngModel",a.selectedAttack.name),t.xp6(13),t.hij(" ",a.showAdvancedOptions?"expand_less":"expand_more"," "),t.xp6(1),t.Q6J("ngIf",a.showAdvancedOptions),t.xp6(4),t.Q6J("automation",a.selectedAttack.automation)}}function Ut(n,e){if(1&n&&(t.TgZ(0,"p",39),t._uU(1),t.qZA()),2&n){const a=t.oxw(2);t.xp6(1),t.hij(" ",a.errorValue," ")}}function Ot(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"mat-dialog-content",4),t.TgZ(1,"div"),t.TgZ(2,"p"),t._uU(3," Need help using the editor? Check out the docs "),t.TgZ(4,"a",5),t._uU(5,"here"),t.qZA(),t._uU(6,"! "),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"mat-form-field"),t.TgZ(9,"mat-label"),t._uU(10,"Select an attack"),t.qZA(),t.TgZ(11,"mat-select",7),t.NdJ("valueChange",function(r){t.CHM(a);return t.oxw().selectedAttack=r}),t.YNc(12,kt,2,2,"mat-option",8),t.TgZ(13,"mat-option",9),t.NdJ("click",function(){return t.CHM(a),t.oxw().addAndSelectNewAttack()}),t._uU(14,"New..."),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"span"),t.TgZ(16,"span",10),t.TgZ(17,"button",11),t.NdJ("click",function(){return t.CHM(a),t.oxw().beginYAMLImport()}),t.TgZ(18,"mat-icon",12),t._uU(19,"vertical_align_bottom"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"span",10),t.TgZ(21,"button",13),t.NdJ("click",function(){return t.CHM(a),t.oxw().newFromSRD()}),t.TgZ(22,"mat-icon",14),t._uU(23,"scanner"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"span",10),t.TgZ(25,"button",15),t.NdJ("click",function(){t.CHM(a);const r=t.oxw();return r.beginYAMLExport(r.allAttacks)}),t.TgZ(26,"mat-icon",16),t._uU(27,"vertical_align_top"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(28,"span",17),t.qZA(),t._UZ(29,"mat-divider",18),t.YNc(30,wt,2,0,"p",19),t.YNc(31,Dt,22,4,"div",19),t.YNc(32,Ut,2,1,"p",20),t.qZA()}if(2&n){const a=t.oxw();t.xp6(11),t.Q6J("value",a.selectedAttack),t.xp6(1),t.Q6J("ngForOf",a.allAttacks),t.xp6(18),t.Q6J("ngIf",!a.selectedAttack),t.xp6(1),t.Q6J("ngIf",a.selectedAttack),t.xp6(1),t.Q6J("ngIf",a.errorValue)}}function Nt(n,e){1&n&&(t.TgZ(0,"mat-dialog-content",4),t._UZ(1,"mat-spinner",40),t.TgZ(2,"p"),t._uU(3," Loading attacks... "),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("diameter",24))}class G{constructor(e,a,o,r,l){this.character=e,this.charService=a,this.dialogRef=o,this.dialog=r,this.snackBar=l,this.saveButtonValue="Save",this.saveAndExitButtonValue="Save and Exit",this.saveButtonDisabled=!1,this.showAdvancedOptions=!1}ngOnDestroy(){this.snackBar.dismiss()}ngOnInit(){this.loadAttacks()}loadAttacks(){this.charService.getCharacterAttacks(this.character.upstream).subscribe(e=>{this.allAttacks=e})}addAndSelectNewAttack(){const e=new ft;this.allAttacks.push(e),this.selectedAttack=e}newFromSRD(){this.dialog.open(Zt.b,{width:"60%",disableClose:!0,data:{getter:()=>this.charService.getTemplateAttacks(),namer:a=>a.name}}).afterClosed().subscribe(a=>{a&&(this.allAttacks.push(a),this.selectedAttack=a)})}deleteAttack(e){const a=this.allAttacks.indexOf(e);a>-1&&this.allAttacks.splice(a,1),this.selectedAttack=null}doSave(){return this.saveButtonValue="Saving...",this.saveAndExitButtonValue="Saving...",this.saveButtonDisabled=!0,this.charService.putCharacterAttacks(this.character.upstream,this.allAttacks).pipe((0,ht.U)(e=>(this.saveButtonValue="Save",this.saveAndExitButtonValue="Save and Exit",this.saveButtonDisabled=!1,!e||e.error?this.snackBar.openFromComponent(mt.U,{data:{html:`${e.error}`},horizontalPosition:"right",duration:-1}):this.errorValue=null,e)))}save(){this.doSave().subscribe()}saveAndExit(){this.doSave().subscribe(e=>{e&&!e.error&&this.dialogRef.close()})}beginYAMLExport(e){this.dialog.open(vt.m,{data:{name:e instanceof Array?"All Attacks":e.name,data:e,yaml:!0},width:"60%"})}beginYAMLImport(){const e=this.dialog.open(Ct.Q,{width:"60%",disableClose:!0,data:{validator:a=>this.validateAttackJSON(e,a),yaml:!0}});e.afterClosed().subscribe(a=>{if(a){const o=a;o instanceof Array?this.allAttacks.push(...o):this.allAttacks.push(o)}})}validateAttackJSON(e,a){this.charService.validateAttackJSON(a).subscribe(o=>{e.componentInstance.loading=!1,o.success?e.close(a):this.snackBar.openFromComponent(mt.U,{data:{html:`${o.error}`},horizontalPosition:"right",duration:-1})})}}G.\u0275fac=function(e){return new(e||G)(t.Y36(_.WI),t.Y36(O.s),t.Y36(_.so),t.Y36(_.uw),t.Y36(F.ux))},G.\u0275cmp=t.Xpm({type:G,selectors:[["avr-attack-editor-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-flat-button","","mat-dialog-close","","color","warn"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"mat-typography"],["href","https://avrae.readthedocs.io/en/stable/automation_ref.html","target","_blank","rel","noopener noreferrer"],["fxLayout","row",1,"auto-row"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["fxFlex",""],["mat-icon-button","","matTooltip","Import YAML",3,"click"],["aria-label","Import from YAML"],["mat-icon-button","","matTooltip","Copy SRD Monster Action",3,"click"],["aria-label","Copy SRD Monster Action"],["mat-icon-button","","matTooltip","Export All to YAML",3,"click"],["aria-label","Export All to YAML"],["fxFlex","grow"],[1,"beefy-divider"],[4,"ngIf"],["class","error-text",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutGap","4px",1,"auto-row"],["matInput","","placeholder","Attack Name",3,"ngModel","ngModelChange"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","matTooltip","Export to YAML",3,"click"],["aria-label","Export to YAML"],[1,"toggle-advanced-options",3,"click"],["class","advanced-options",4,"ngIf"],[3,"automation"],[1,"advanced-options"],[1,"display-options-container"],["matInput","","placeholder","attacks with",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["matInput","","placeholder","Thumbnail URL","matTooltip","The URL of an image that will display each time this attack is used.",3,"ngModel","ngModelChange"],["matInput","","placeholder","Flavor Text","matTooltip","Some text that will display each time this attack is used.",3,"ngModel","ngModelChange"],[1,"crit-options-container","auto-row"],["matInput","","placeholder","Criton","type","number","min","1","max","20","matTooltip","The natural roll this attack will crit on.",3,"ngModel","ngModelChange"],["matInput","","placeholder","Extra Crit Damage","matTooltip","How much extra damage this attack does on a crit, beyond doubling dice.",3,"ngModel","ngModelChange"],[1,"error-text"],[3,"diameter"]],template:function(e,a){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.YNc(2,Ot,33,5,"mat-dialog-content",1),t.YNc(3,Nt,4,1,"mat-dialog-content",1),t.TgZ(4,"mat-dialog-actions"),t.TgZ(5,"button",2),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"span"),t.TgZ(8,"button",3),t.NdJ("click",function(){return a.save()}),t._uU(9),t.qZA(),t.TgZ(10,"button",3),t.NdJ("click",function(){return a.saveAndExit()}),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij("Editing Attacks: ",a.character.name,""),t.xp6(1),t.Q6J("ngIf",a.allAttacks),t.xp6(1),t.Q6J("ngIf",!a.allAttacks),t.xp6(5),t.Q6J("disabled",a.saveButtonDisabled),t.xp6(1),t.Oqu(a.saveButtonValue),t.xp6(1),t.Q6J("disabled",a.saveButtonDisabled),t.xp6(1),t.Oqu(a.saveAndExitButtonValue))},directives:[_.uh,m.O5,_.xY,i.xw,B.KE,B.hX,Tt.gD,m.sg,xt.ey,i.yH,T.lW,dt.gM,v.Hw,pt.d,i.SQ,at.Nt,d.Fj,d.JJ,d.On,At.oG,d.qQ,d.Fd,d.wV,bt._,Mt.$g,_.H8,_.ZT],styles:[".beefy-divider[_ngcontent-%COMP%]{margin-bottom:1em;border-width:3px}.error-text[_ngcontent-%COMP%]{color:red;white-space:pre-wrap}.toggle-advanced-options[_ngcontent-%COMP%]{cursor:pointer}.toggle-advanced-options[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px}.display-options-container[_ngcontent-%COMP%]{display:grid}.crit-options-container[_ngcontent-%COMP%]{display:flex;grid-template-columns:auto 1fr;grid-column-gap:8px}mat-dialog-actions[_ngcontent-%COMP%]{gap:8px}@media (max-width: 600px){mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center;flex-direction:column-reverse}}@media (max-width: 960px){.auto-row[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.auto-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .auto-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;justify-content:space-around}.auto-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{gap:8px;display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}}"]});var rt=c(1961),_t=c(3346);function Lt(n,e){if(1&n&&(t.TgZ(0,"mat-card",5),t.TgZ(1,"mat-grid-list",6),t.TgZ(2,"mat-grid-tile",7),t._UZ(3,"img",8),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"mat-grid-tile",9),t.TgZ(6,"div"),t.TgZ(7,"h1",10),t._uU(8),t.ALo(9,"async"),t.TgZ(10,"span",11),t._uU(11),t.ALo(12,"async"),t.qZA(),t.qZA(),t.TgZ(13,"p",12),t._uU(14),t.ALo(15,"async"),t._UZ(16,"br"),t._uU(17),t.ALo(18,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const a=t.oxw();let o,r,l,y,ut;t.xp6(1),t.s9C("rowHeight",a.mobile?"1:2":"1:1"),t.xp6(1),t.s9C("colspan",a.mobile?4:1),t.xp6(1),t.Q6J("src",null==(o=t.lcZ(4,8,a.userInfo))?null:o.avatarUrl,t.LSH),t.xp6(2),t.s9C("colspan",a.mobile?4:3),t.xp6(3),t.hij(" ",null==(r=t.lcZ(9,10,a.userInfo))?null:r.username,""),t.xp6(3),t.hij("#",null==(l=t.lcZ(12,12,a.userInfo))?null:l.discriminator,""),t.xp6(3),t.hij(" Characters: ",null==(y=t.lcZ(15,14,a.userStats))?null:y.numCharacters,""),t.xp6(3),t.hij(" Customizations: ",null==(ut=t.lcZ(18,16,a.userStats))?null:ut.numCustomizations," ")}}function qt(n,e){if(1&n&&(t.TgZ(0,"p",22),t._uU(1),t.qZA()),2&n){const a=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.getInitials(a.name)," ")}}function Pt(n,e){if(1&n&&t._UZ(0,"img",23),2&n){const a=t.oxw().$implicit,o=t.oxw();t.Q6J("src",o.getImage(a),t.LSH)("alt","Image for "+a.name)}}function Et(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"mat-grid-tile",13),t.TgZ(1,"div",14),t.YNc(2,qt,2,1,"p",15),t.qZA(),t.YNc(3,Pt,1,2,"img",16),t.TgZ(4,"div",17),t.TgZ(5,"div",18),t.TgZ(6,"h3"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",19),t.TgZ(11,"a",20),t.TgZ(12,"mat-icon"),t._uU(13,"menu_book"),t.qZA(),t.qZA(),t.TgZ(14,"button",21),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().beginEditAttacks(l)}),t.TgZ(15,"mat-icon"),t._uU(16,"build"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const a=e.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngIf",!o.getImage(a)),t.xp6(1),t.Q6J("ngIf",o.getImage(a)),t.xp6(4),t.hij(" ",a.name," "),t.xp6(2),t.hij(" ",o.getDescription(a)," "),t.xp6(2),t.Q6J("href",o.getUpstreamURL(a.upstream),t.LSH),t.xp6(3),t.Q6J("matTooltip",a.import_version<o.MIN_CHARACTER_AUTOMATION_VERSION?"Please !update your character to use Automation.":"Edit Attacks")}}class $ extends f.t{constructor(e,a,o){super(o),this.dashboardService=e,this.dialog=a,this.bp=o,this.MIN_CHARACTER_AUTOMATION_VERSION=17}ngOnInit(){this.getUserInfo(),this.getUserStats(),this.getCharacters(),this.onResize(null)}getUserInfo(){this.userInfo=(0,H.of)((0,Z.PR)())}getUserStats(){this.userStats=this.dashboardService.getUserStats()}getCharacters(){this.characters=this.dashboardService.getCharacterMeta()}getInitials(e){const a=e.match(/\b\w/g)||[];return((a.shift()||"")+(a.pop()||"")).toUpperCase()}getImage(e){return e.overrides.image||e.image}getDescription(e){return e.overrides.desc||e.description}getUpstreamURL(e){return e.startsWith("dicecloud-")?`https://dicecloud.com/character/${e.slice(10)}`:e.startsWith("google-")?`https://docs.google.com/spreadsheets/d/${e.slice(7)}`:e.startsWith("beyond-")?`https://ddb.ac/characters/${e.slice(7)}`:""}beginEditAttacks(e){e.import_version<this.MIN_CHARACTER_AUTOMATION_VERSION||this.dialog.open(G,{width:"75%",disableClose:!0,data:e,panelClass:"automation-overlay"}).afterClosed().subscribe(a=>{console.log(a)})}onResize(e){window.innerWidth<600?this.numCols=1:window.innerWidth<1024?this.numCols=2:window.innerWidth<1440?this.numCols=4:this.numCols=6}}$.\u0275fac=function(e){return new(e||$)(t.Y36(O.s),t.Y36(_.uw),t.Y36(A.Yg))},$.\u0275cmp=t.Xpm({type:$,selectors:[["avr-characters"]],features:[t.qOj],decls:7,vars:7,consts:[[1,"characterList"],["class","user-card",4,"ngIf"],[1,"spacer-8px"],["rowHeight","5:6","gutterSize","8",3,"cols","resize"],["class","character-tile",4,"ngFor","ngForOf"],[1,"user-card"],["cols","4",3,"rowHeight"],[3,"colspan"],["alt","avatar",1,"avatarImg","mat-elevation-z1",3,"src"],[1,"user-stats",3,"colspan"],[1,"mat-display-2","smallmargin"],[1,"mat-small"],[1,"mat-h3"],[1,"character-tile"],[1,"character-name-underlay","mat-typography","character-image"],["class","ignore-theme",4,"ngIf"],["class","character-image",3,"src","alt",4,"ngIf"],[1,"character-meta"],[1,"mat-typography","ignore-theme","character-text"],[1,"mat-typography","ignore-theme","character-actions"],["mat-icon-button","","matTooltip","View Sheet","target","_blank",3,"href"],["mat-icon-button","",3,"matTooltip","click"],[1,"ignore-theme"],[1,"character-image",3,"src","alt"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Lt,19,18,"mat-card",1),t.ALo(2,"async"),t._UZ(3,"div",2),t.TgZ(4,"mat-grid-list",3),t.NdJ("resize",function(r){return a.onResize(r)},!1,t.Jf7),t.YNc(5,Et,17,6,"mat-grid-tile",4),t.ALo(6,"async"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,a.userInfo)),t.xp6(3),t.Q6J("cols",a.numCols),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,5,a.characters)))},directives:[m.O5,rt.a8,_t.Il,_t.DX,m.sg,T.zs,dt.gM,v.Hw,T.lW],pipes:[m.Ov],styles:[".characterList[_ngcontent-%COMP%]{margin:8px}.avatarImg[_ngcontent-%COMP%]{position:center;height:80%;width:80%;border-radius:50%}.smallmargin[_ngcontent-%COMP%]{margin-bottom:16px}.spacer-8px[_ngcontent-%COMP%]{margin:8px}.character-tile[_ngcontent-%COMP%]{border-radius:10px}.ignore-theme[_ngcontent-%COMP%]{color:#fff}.character-text[_ngcontent-%COMP%]{margin:1em 1em 0;height:calc(100% - (3em + 40px));word-wrap:break-word;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.character-text[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.character-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.character-actions[_ngcontent-%COMP%]{margin:1em;height:40px}.character-name-underlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;background:#424242;z-index:-1}.character-name-underlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative;top:50%;transform:translateY(-50%);font-size:xx-large}.character-tile[_ngcontent-%COMP%]   .character-image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;transition:all .5s ease}.character-tile[_ngcontent-%COMP%]:hover   .character-image[_ngcontent-%COMP%]{filter:blur(3px) brightness(.7);transform:scale(1.05)}.character-meta[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;opacity:0;transition:all .5s ease}.character-meta[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 960px){  .automation-overlay{max-width:95vw!important;width:95%!important}.character-meta[_ngcontent-%COMP%]{opacity:1}.character-tile[_ngcontent-%COMP%]   .character-image[_ngcontent-%COMP%]{filter:blur(3px) brightness(.6);transform:scale(1.05)}.character-meta[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-line-clamp:10;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis}avr-attack-editor-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-wrap:wrap}.mat-typography.ignore-theme.character-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}}@media (max-width: 600px){.avatarImg[_ngcontent-%COMP%]{width:40%}}\n/*# sourceMappingURL=characters.component.css.map*/"]});var nt=c(2379),ot=c(4731);class N{constructor(e){this.data=e}ngOnInit(){}}function St(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"mat-form-field"),t.TgZ(1,"input",7),t.NdJ("ngModelChange",function(r){t.CHM(a);return t.oxw().name=r}),t.qZA(),t.qZA()}if(2&n){const a=t.oxw();t.xp6(1),t.Q6J("ngModel",a.name)}}N.\u0275fac=function(e){return new(e||N)(t.Y36(_.WI))},N.\u0275cmp=t.Xpm({type:N,selectors:[["avr-edit-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["matInput","","spellcheck","false",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"]],template:function(e,a){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content",1),t.TgZ(3,"mat-form-field"),t.TgZ(4,"textarea",2),t.NdJ("ngModelChange",function(r){return a.data.content=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"mat-dialog-actions"),t.TgZ(6,"button",3),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",4),t._uU(9,"Done"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij("Editing ",a.data.name,""),t.xp6(3),t.Q6J("ngModel",a.data.content),t.xp6(4),t.Q6J("mat-dialog-close",a.data.content))},directives:[_.uh,_.xY,B.KE,at.Nt,d.Fj,d.JJ,d.On,_.H8,T.lW,_.ZT],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-family:Courier New,monospace}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){min-height:200px}\n/*# sourceMappingURL=edit-dialog.component.css.map*/"]});const Jt=function(n,e){return{name:n,value:e}};class L{constructor(e){this.data=e}ngOnInit(){}}L.\u0275fac=function(e){return new(e||L)(t.Y36(_.WI))},L.\u0275cmp=t.Xpm({type:L,selectors:[["avr-new-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],[4,"ngIf"],["matInput","","placeholder","Value",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"]],template:function(e,a){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content",1),t.TgZ(3,"div",2),t.YNc(4,St,2,1,"mat-form-field",3),t.TgZ(5,"mat-form-field"),t.TgZ(6,"textarea",4),t.NdJ("ngModelChange",function(r){return a.value=r}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"mat-dialog-actions"),t.TgZ(8,"button",5),t._uU(9,"Cancel"),t.qZA(),t.TgZ(10,"button",6),t._uU(11,"Done"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij("New ",a.data.type,"..."),t.xp6(3),t.Q6J("ngIf",a.data.showName),t.xp6(2),t.Q6J("ngModel",a.value),t.xp6(4),t.Q6J("mat-dialog-close",t.WLB(4,Jt,a.name,a.value)))},directives:[_.uh,_.xY,m.O5,B.KE,at.Nt,d.Fj,d.JJ,d.On,_.H8,T.lW,_.ZT],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace}\n/*# sourceMappingURL=new-dialog.component.css.map*/"]});var it=c(2340),w=c(7418),gt=c(8784);const ct=`${it.N.apiURL}/customizations/aliases`,lt=`${it.N.apiURL}/customizations/snippets`,st=`${it.N.apiURL}/customizations/uvars`;class q{constructor(e){this.http=e}getAliases(){return this.http.get(ct,(0,Z.vC)())}updateAlias(e){return this.http.post(`${ct}/${e.name}`,e,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("updateAlias")))}deleteAlias(e){return this.http.delete(`${ct}/${e.name}`,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("deleteAlias")))}getSnippets(){return this.http.get(lt,(0,Z.vC)())}updateSnippet(e){return this.http.post(`${lt}/${e.name}`,e,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("updateSnippet")))}deleteSnippet(e){return this.http.delete(`${lt}/${e.name}`,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("deleteSnippet")))}getUvars(){return this.http.get(st,(0,Z.vC)())}updateUvar(e){return this.http.post(`${st}/${e.name}`,e,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("updateUvar")))}deleteUvar(e){return this.http.delete(`${st}/${e.name}`,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("deleteUvar")))}handleTextError(e="operation"){return a=>(console.error(a),(0,H.of)(`${e} failed: ${a.error}`))}}q.\u0275fac=function(e){return new(e||q)(t.LFG(gt.eN))},q.\u0275prov=t.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"});var s=c(7939);function It(n,e){1&n&&(t.TgZ(0,"th",12),t._uU(1,"Name"),t.qZA())}function Rt(n,e){if(1&n&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&n){const a=e.$implicit;t.xp6(1),t.Oqu(a.name)}}function Yt(n,e){1&n&&(t.TgZ(0,"td",14),t._uU(1,"Create New"),t.qZA())}function Qt(n,e){1&n&&(t.TgZ(0,"th",15),t._uU(1,"Commands"),t.qZA())}function Ht(n,e){if(1&n&&(t.TgZ(0,"td",13),t.TgZ(1,"pre"),t._uU(2),t.qZA(),t.qZA()),2&n){const a=e.$implicit;t.xp6(2),t.Oqu(a.commands)}}function Ft(n,e){1&n&&t._UZ(0,"td",14)}function Bt(n,e){1&n&&t._UZ(0,"th",16)}function Gt(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"td",13),t.TgZ(1,"button",17),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().beginEdit(l)}),t.TgZ(2,"mat-icon",18),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().confirmDelete(l)}),t.TgZ(5,"mat-icon",20),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function $t(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"td",14),t.TgZ(1,"button",17),t.NdJ("click",function(){return t.CHM(a),t.oxw().beginNew()}),t.TgZ(2,"mat-icon",21),t._uU(3,"launch"),t.qZA(),t.qZA(),t.qZA()}}function zt(n,e){1&n&&t._UZ(0,"tr",22)}function jt(n,e){1&n&&t._UZ(0,"tr",23)}function Wt(n,e){1&n&&t._UZ(0,"tr",24)}class z{constructor(e,a,o){this.dialog=e,this.snackBar=a,this.custService=o,this.columnsToDisplay=["name","commands","buttons"]}ngOnInit(){}refresh(){this.custService.getAliases().subscribe(e=>this.data=e)}beginNew(){this.dialog.open(L,{data:{showName:!0,type:"alias"},width:"60%"}).afterClosed().subscribe(a=>{if(a){if(!a.name||!a.value)return void this.snackBar.open("Name or commands cannot be empty.");let o={name:a.name,commands:a.value};if(o.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");this.post(o)}})}beginEdit(e){this.dialog.open(N,{data:{name:e.name,content:e.commands},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.commands=o,this.post(e))})}confirmDelete(e){this.dialog.open(ot.h,{data:{name:e.name}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}post(e){this.custService.updateAlias(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}delete(e){this.custService.deleteAlias(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}}function Kt(n,e){1&n&&(t.TgZ(0,"th",12),t._uU(1,"Name"),t.qZA())}function Vt(n,e){if(1&n&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&n){const a=e.$implicit;t.xp6(1),t.Oqu(a.name)}}function Xt(n,e){1&n&&(t.TgZ(0,"td",14),t._uU(1,"Create New"),t.qZA())}function te(n,e){1&n&&(t.TgZ(0,"th",15),t._uU(1,"Value"),t.qZA())}function ee(n,e){if(1&n&&(t.TgZ(0,"td",13),t.TgZ(1,"pre"),t._uU(2),t.qZA(),t.qZA()),2&n){const a=e.$implicit;t.xp6(2),t.Oqu(a.snippet)}}function ae(n,e){1&n&&t._UZ(0,"td",14)}function ne(n,e){1&n&&t._UZ(0,"th",16)}function oe(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"td",13),t.TgZ(1,"button",17),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().beginEdit(l)}),t.TgZ(2,"mat-icon",18),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().confirmDelete(l)}),t.TgZ(5,"mat-icon",20),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function ie(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"td",14),t.TgZ(1,"button",17),t.NdJ("click",function(){return t.CHM(a),t.oxw().beginNew()}),t.TgZ(2,"mat-icon",21),t._uU(3,"launch"),t.qZA(),t.qZA(),t.qZA()}}function re(n,e){1&n&&t._UZ(0,"tr",22)}function ce(n,e){1&n&&t._UZ(0,"tr",23)}function le(n,e){1&n&&t._UZ(0,"tr",24)}z.\u0275fac=function(e){return new(e||z)(t.Y36(_.uw),t.Y36(F.ux),t.Y36(q))},z.\u0275cmp=t.Xpm({type:z,selectors:[["avr-alias-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","commands"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,It,2,0,"th",2),t.YNc(3,Rt,2,1,"td",3),t.YNc(4,Yt,2,0,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Qt,2,0,"th",6),t.YNc(7,Ht,3,1,"td",3),t.YNc(8,Ft,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,Bt,1,0,"th",8),t.YNc(11,Gt,7,0,"td",3),t.YNc(12,$t,4,0,"td",4),t.BQk(),t.YNc(13,zt,1,0,"tr",9),t.YNc(14,jt,1,0,"tr",10),t.YNc(15,Wt,1,0,"tr",11),t.qZA()),2&e&&(t.Q6J("dataSource",a.data),t.xp6(13),t.Q6J("matHeaderRowDef",a.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",a.columnsToDisplay),t.xp6(1),t.Q6J("matFooterRowDef",a.columnsToDisplay))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,T.lW,v.Hw,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=alias-list.component.css.map*/"]});class j{constructor(e,a,o){this.dialog=e,this.snackBar=a,this.custService=o,this.columnsToDisplay=["name","snippet","buttons"]}ngOnInit(){}refresh(){this.custService.getSnippets().subscribe(e=>this.data=e)}beginNew(){this.dialog.open(L,{data:{showName:!0,type:"snippet"},width:"60%"}).afterClosed().subscribe(a=>{if(a){if(!a.name||!a.value)return void this.snackBar.open("Name or value cannot be empty.");let o={name:a.name,snippet:a.value};if(o.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");if(o.name.length<2)return void this.snackBar.open("Name must be at least 2 characters.");this.post(o)}})}beginEdit(e){this.dialog.open(N,{data:{name:e.name,content:e.snippet},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.snippet=o,this.post(e))})}confirmDelete(e){this.dialog.open(ot.h,{data:{name:e.name}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}post(e){this.custService.updateSnippet(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}delete(e){this.custService.deleteSnippet(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}}function se(n,e){1&n&&(t.TgZ(0,"th",12),t._uU(1,"Name"),t.qZA())}function me(n,e){if(1&n&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&n){const a=e.$implicit;t.xp6(1),t.Oqu(a.name)}}function de(n,e){1&n&&(t.TgZ(0,"td",14),t._uU(1,"Create New"),t.qZA())}function pe(n,e){1&n&&(t.TgZ(0,"th",15),t._uU(1,"Value"),t.qZA())}function _e(n,e){if(1&n&&(t.TgZ(0,"td",13),t.TgZ(1,"pre"),t._uU(2),t.qZA(),t.qZA()),2&n){const a=e.$implicit;t.xp6(2),t.Oqu(a.value)}}function ge(n,e){1&n&&t._UZ(0,"td",14)}function ue(n,e){1&n&&t._UZ(0,"th",16)}function he(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"td",13),t.TgZ(1,"button",17),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().beginEdit(l)}),t.TgZ(2,"mat-icon",18),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().confirmDelete(l)}),t.TgZ(5,"mat-icon",20),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function fe(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"td",14),t.TgZ(1,"button",17),t.NdJ("click",function(){return t.CHM(a),t.oxw().beginNew()}),t.TgZ(2,"mat-icon",21),t._uU(3,"launch"),t.qZA(),t.qZA(),t.qZA()}}function ve(n,e){1&n&&t._UZ(0,"tr",22)}function Ce(n,e){1&n&&t._UZ(0,"tr",23)}function Ze(n,e){1&n&&t._UZ(0,"tr",24)}j.\u0275fac=function(e){return new(e||j)(t.Y36(_.uw),t.Y36(F.ux),t.Y36(q))},j.\u0275cmp=t.Xpm({type:j,selectors:[["avr-snippet-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","snippet"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,Kt,2,0,"th",2),t.YNc(3,Vt,2,1,"td",3),t.YNc(4,Xt,2,0,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,te,2,0,"th",6),t.YNc(7,ee,3,1,"td",3),t.YNc(8,ae,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,ne,1,0,"th",8),t.YNc(11,oe,7,0,"td",3),t.YNc(12,ie,4,0,"td",4),t.BQk(),t.YNc(13,re,1,0,"tr",9),t.YNc(14,ce,1,0,"tr",10),t.YNc(15,le,1,0,"tr",11),t.qZA()),2&e&&(t.Q6J("dataSource",a.data),t.xp6(13),t.Q6J("matHeaderRowDef",a.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",a.columnsToDisplay),t.xp6(1),t.Q6J("matFooterRowDef",a.columnsToDisplay))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,T.lW,v.Hw,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=snippet-list.component.css.map*/"]});class W{constructor(e,a,o){this.dialog=e,this.snackBar=a,this.custService=o,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}refresh(){this.custService.getUvars().subscribe(e=>this.data=e)}beginNew(){this.dialog.open(L,{data:{showName:!0,type:"uvar"},width:"60%"}).afterClosed().subscribe(a=>{if(a){if(!a.name||!a.value)return void this.snackBar.open("Name or value cannot be empty.");let o={name:a.name,value:a.value};this.post(o)}})}beginEdit(e){this.dialog.open(N,{data:{name:e.name,content:e.value},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.value=o,this.post(e))})}confirmDelete(e){this.dialog.open(ot.h,{data:{name:e.name}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}post(e){this.custService.updateUvar(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}delete(e){this.custService.deleteUvar(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}}W.\u0275fac=function(e){return new(e||W)(t.Y36(_.uw),t.Y36(F.ux),t.Y36(q))},W.\u0275cmp=t.Xpm({type:W,selectors:[["avr-uvar-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,se,2,0,"th",2),t.YNc(3,me,2,1,"td",3),t.YNc(4,de,2,0,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,pe,2,0,"th",6),t.YNc(7,_e,3,1,"td",3),t.YNc(8,ge,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,ue,1,0,"th",8),t.YNc(11,he,7,0,"td",3),t.YNc(12,fe,4,0,"td",4),t.BQk(),t.YNc(13,ve,1,0,"tr",9),t.YNc(14,Ce,1,0,"tr",10),t.YNc(15,Ze,1,0,"tr",11),t.qZA()),2&e&&(t.Q6J("dataSource",a.data),t.xp6(13),t.Q6J("matHeaderRowDef",a.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",a.columnsToDisplay),t.xp6(1),t.Q6J("matFooterRowDef",a.columnsToDisplay))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,T.lW,v.Hw,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=uvar-list.component.css.map*/"]});class K{constructor(e){this.dashboardService=e}ngOnInit(){this.getCustomizations()}getCustomizations(){this.customizations=this.dashboardService.getCustomizations()}}K.\u0275fac=function(e){return new(e||K)(t.Y36(O.s))},K.\u0275cmp=t.Xpm({type:K,selectors:[["avr-customization"]],decls:12,vars:9,consts:[[1,"container"],["label","Aliases"],[3,"data"],["label","Snippets"],["label","Uvars"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-tab-group"),t.TgZ(3,"mat-tab",1),t._UZ(4,"avr-alias-list",2),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-tab",3),t._UZ(7,"avr-snippet-list",2),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"mat-tab",4),t._UZ(10,"avr-uvar-list",2),t.ALo(11,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let o,r,l;t.xp6(4),t.Q6J("data",null==(o=t.lcZ(5,3,a.customizations))?null:o.aliases),t.xp6(3),t.Q6J("data",null==(r=t.lcZ(8,5,a.customizations))?null:r.snippets),t.xp6(3),t.Q6J("data",null==(l=t.lcZ(11,7,a.customizations))?null:l.uvars)}},directives:[rt.a8,nt.SP,nt.uX,z,j,W],pipes:[m.Ov],styles:[".container[_ngcontent-%COMP%]{margin:8px}\n/*# sourceMappingURL=customization.component.css.map*/"]});const S=`${it.N.apiURL}/customizations/gvars`;class P{constructor(e){this.http=e}getAllGvars(){return this.http.get(S,(0,Z.vC)())}getGvars(e){return this.http.get(`${S}/${e?"owned":"editable"}`,(0,Z.vC)())}newGvar(e){return this.http.post(`${S}`,e,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("newGvar")))}getGvar(e){return this.http.get(`${S}/${e}`,(0,Z.vC)()).pipe((0,w.K)(a=>(0,H.of)(!1)))}updateGvar(e){return this.http.post(`${S}/${e.key}`,e,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("updateGvar")))}deleteGvar(e){return this.http.delete(`${S}/${e.key}`,(0,Z.ps)()).pipe((0,w.K)(this.handleTextError("deleteGvar")))}handleTextError(e="operation"){return a=>(console.error(a),(0,H.of)(`${e} failed: ${a.error}`))}}function Te(n,e){1&n&&(t.TgZ(0,"th",11),t._uU(1,"ID"),t.qZA())}function xe(n,e){if(1&n&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&n){const a=e.$implicit;t.xp6(1),t.Oqu(a.key)}}function Ae(n,e){if(1&n&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Oqu(a.owned?"Create New":"")}}function be(n,e){1&n&&(t.TgZ(0,"th",14),t._uU(1,"Value"),t.qZA())}function Me(n,e){if(1&n&&(t.TgZ(0,"td",12),t.TgZ(1,"pre"),t._uU(2),t.qZA(),t.qZA()),2&n){const a=e.$implicit;t.xp6(2),t.Oqu(a.value)}}function ke(n,e){1&n&&t._UZ(0,"td",13)}function we(n,e){1&n&&t._UZ(0,"th",11)}function ye(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(a);const r=t.oxw().$implicit;return t.oxw().confirmDelete(r)}),t.TgZ(1,"mat-icon",19),t._uU(2,"delete"),t.qZA(),t.qZA()}}function De(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"td",12),t.TgZ(1,"button",15),t.NdJ("click",function(){const l=t.CHM(a).$implicit;return t.oxw().beginEdit(l)}),t.TgZ(2,"mat-icon",16),t._uU(3,"edit"),t.qZA(),t.qZA(),t.YNc(4,ye,3,0,"button",17),t.qZA()}if(2&n){const a=t.oxw();t.xp6(4),t.Q6J("ngIf",a.owned)}}function Ue(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).beginNew()}),t.TgZ(1,"mat-icon",21),t._uU(2,"launch"),t.qZA(),t.qZA()}}function Oe(n,e){if(1&n&&(t.TgZ(0,"td",13),t.YNc(1,Ue,3,0,"button",20),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.owned)}}function Ne(n,e){1&n&&t._UZ(0,"tr",22)}function Le(n,e){1&n&&t._UZ(0,"tr",23)}function qe(n,e){1&n&&t._UZ(0,"tr",25)}function Pe(n,e){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,qe,1,0,"tr",24),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Q6J("matFooterRowDef",a.columnsToDisplay)}}P.\u0275fac=function(e){return new(e||P)(t.LFG(gt.eN))},P.\u0275prov=t.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"});class V{constructor(e,a,o){this.dialog=e,this.snackBar=a,this.gvarService=o,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}sortedGvars(e){return null==e?void 0:e.sort((a,o)=>a.key.localeCompare(o.key))}refresh(){this.gvarService.getGvars(this.owned).subscribe(e=>this.data=e)}beginNew(){this.dialog.open(L,{data:{showName:!1,type:"gvar"},width:"60%"}).afterClosed().subscribe(a=>{if(a){if(!a.value)return void this.snackBar.open("Value cannot be empty.");let o={value:a.value};this.new(o)}})}beginEdit(e){this.dialog.open(N,{data:{name:e.key,content:e.value},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.value=o,this.post(e))})}confirmDelete(e){this.dialog.open(ot.h,{data:{name:e.key}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}new(e){this.gvarService.newGvar(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}post(e){this.gvarService.updateGvar(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}delete(e){this.gvarService.deleteGvar(e).subscribe(a=>{this.refresh(),this.snackBar.open(a)})}}function Ee(n,e){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t.TgZ(4,"i"),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"mat-divider"),t.TgZ(7,"div",5),t.TgZ(8,"pre",6),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&n){const a=t.oxw();t.xp6(2),t.hij(" ",a.activeGvar.key," "),t.xp6(3),t.hij("Owned by: ",a.activeGvar.owner_name,""),t.xp6(4),t.Oqu(a.activeGvar.value)}}function Se(n,e){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"p",7),t._uU(2),t.qZA(),t.qZA()),2&n){const a=t.oxw();t.xp6(2),t.hij(" ",a.error," ")}}V.\u0275fac=function(e){return new(e||V)(t.Y36(_.uw),t.Y36(F.ux),t.Y36(P))},V.\u0275cmp=t.Xpm({type:V,selectors:[["avr-gvar-list"]],inputs:{data:"data",owned:"owned"},decls:16,vars:4,consts:[["mat-table","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["mat-icon-button","",3,"click",4,"ngIf"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,Te,2,0,"th",2),t.YNc(3,xe,2,1,"td",3),t.YNc(4,Ae,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,be,2,0,"th",6),t.YNc(7,Me,3,1,"td",3),t.YNc(8,ke,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,we,1,0,"th",2),t.YNc(11,De,5,1,"td",3),t.YNc(12,Oe,2,1,"td",4),t.BQk(),t.YNc(13,Ne,1,0,"tr",8),t.YNc(14,Le,1,0,"tr",9),t.YNc(15,Pe,2,1,"div",10),t.qZA()),2&e&&(t.Q6J("dataSource",a.sortedGvars(a.data)),t.xp6(13),t.Q6J("matHeaderRowDef",a.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",a.columnsToDisplay),t.xp6(1),t.Q6J("ngIf",a.owned))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,T.lW,v.Hw,m.O5,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:55%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=gvar-list.component.css.map*/"]});class X{constructor(e,a){this.gvarService=e,this.route=a}ngOnInit(){this.checkForLookupQuery()}lookupGvar(e){e=e.trim(),console.log(e);const a=new URLSearchParams(window.location.search);a.set("lookup",e);const o=window.location.pathname+"?"+a.toString();history.pushState(null,"",o),this.gvarService.getGvar(e).subscribe(r=>{this.activeGvar=null,this.error=null,!1===r?this.error="Failed to get gvar.":this.activeGvar=r})}checkForLookupQuery(){const e=this.route.snapshot.queryParamMap.get("lookup");e&&this.lookupGvar(e)}}X.\u0275fac=function(e){return new(e||X)(t.Y36(P),t.Y36(p.gz))},X.\u0275cmp=t.Xpm({type:X,selectors:[["avr-gvar-lookup"]],decls:7,vars:2,consts:[[1,"lookup-id-input"],["matInput","","placeholder","Gvar ID"],["lookupIdInput",""],["mat-flat-button","","color","primary",3,"click"],[4,"ngIf"],[1,"gvar-value-container"],[1,"gvar-value-display"],[2,"color","red"]],template:function(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-form-field",0),t._UZ(1,"input",1,2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(2);return a.lookupGvar(l.value)}),t._uU(4,"Lookup"),t.qZA(),t.YNc(5,Ee,10,3,"div",4),t.YNc(6,Se,3,1,"div",4)}2&e&&(t.xp6(5),t.Q6J("ngIf",a.activeGvar),t.xp6(1),t.Q6J("ngIf",a.error))},directives:[B.KE,at.Nt,T.lW,m.O5,pt.d],styles:[".lookup-id-input[_ngcontent-%COMP%]{margin-right:4px;width:50%}.gvar-value-container[_ngcontent-%COMP%]{padding-top:1em}.gvar-value-display[_ngcontent-%COMP%]{white-space:pre-wrap;background-color:#0000001a;margin:0;border-style:solid;border-color:#00000026;border-width:1px;border-radius:6px}\n/*# sourceMappingURL=gvar-lookup.component.css.map*/"]});class tt{constructor(e,a){this.gvarService=e,this.route=a}ngOnInit(){this.getCustomizations(),this.checkForLookupQuery()}getCustomizations(){this.gvars=this.gvarService.getAllGvars()}checkForLookupQuery(){this.route.snapshot.queryParamMap.get("lookup")&&(this.forcedTabIndex=2)}}tt.\u0275fac=function(e){return new(e||tt)(t.Y36(P),t.Y36(p.gz))},tt.\u0275cmp=t.Xpm({type:tt,selectors:[["avr-gvars"]],decls:11,vars:9,consts:[[1,"container"],[3,"selectedIndex","selectedIndexChange"],["label","Owned"],[3,"data","owned"],["label","Editable"],["label","Lookup"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-tab-group",1),t.NdJ("selectedIndexChange",function(r){return a.forcedTabIndex=r}),t.TgZ(3,"mat-tab",2),t._UZ(4,"avr-gvar-list",3),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-tab",4),t._UZ(7,"avr-gvar-list",3),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"mat-tab",5),t._UZ(10,"avr-gvar-lookup"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let o,r;t.xp6(2),t.Q6J("selectedIndex",a.forcedTabIndex),t.xp6(2),t.Q6J("data",null==(o=t.lcZ(5,5,a.gvars))?null:o.owned)("owned",!0),t.xp6(3),t.Q6J("data",null==(r=t.lcZ(8,7,a.gvars))?null:r.editable)("owned",!1)}},directives:[rt.a8,nt.SP,nt.uX,V,X],pipes:[m.Ov],styles:[".container[_ngcontent-%COMP%]{margin:8px}\n/*# sourceMappingURL=gvars.component.css.map*/"]});var Je=c(1909);class J{constructor(e,a){this.router=e,this.platformId=a}canActivate(e,a){return!!(0,u.jl)()||((0,m.PM)(this.platformId)?(this.router.navigateByUrl(`/ssr${a.url}`),!1):((0,Je.qQ)("after-login-redirect",a.url),(0,u.dJ)(),!1))}canActivateChild(e,a){return this.canActivate(e,a)}}J.\u0275fac=function(e){return new(e||J)(t.LFG(p.F0),t.LFG(t.Lbi))},J.\u0275prov=t.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"});const Ie=[{path:"",canActivate:[J],component:U,children:[{path:"characters",component:$},{path:"aliases",component:K},{path:"gvars",component:tt},{path:"homebrew",loadChildren:()=>c.e(978).then(c.bind(c,5978)).then(n=>n.HomebrewModule)},{path:"workshop",loadChildren:()=>Promise.all([c.e(592),c.e(929)]).then(c.bind(c,1929)).then(n=>n.WorkshopModule)},{path:"",redirectTo:"characters",pathMatch:"full"}]}];class I{}I.\u0275fac=function(e){return new(e||I)},I.\u0275mod=t.oAB({type:I}),I.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Ie)],p.Bz]});class R{}R.\u0275fac=function(e){return new(e||R)},R.\u0275mod=t.oAB({type:R}),R.\u0275inj=t.cJS({imports:[[m.ez,x.q,d.u5,I,i.ae,k.l]]})},1413:(et,M,c)=>{c.d(M,{s:()=>A});var m=c(7418),i=c(2340),d=c(7445),x=c(3184),k=c(8784);i.N.apiURL;const u=`${i.N.apiURL}/userStats`,f=`${i.N.apiURL}/characters`,t=`${f}/meta`,O=`${i.N.apiURL}/customizations`;class A{constructor(v){this.http=v}getUserStats(){return this.http.get(u,(0,d.vC)())}getCharacterMeta(){return this.http.get(t,(0,d.vC)())}getCharacterAttacks(v){const b=`${f}/${v}/attacks`;return this.http.get(b,(0,d.vC)())}getTemplateAttacks(){return this.http.get(`${f}/attacks/srd`,(0,d.vC)())}putCharacterAttacks(v,b){const Y=`${f}/${v}/attacks`;return this.http.put(Y,b,(0,d.vC)()).pipe((0,m.K)(d.Vm))}validateAttackJSON(v){const b=`${f}/attacks/validate`;return this.http.post(b,v,(0,d.vC)()).pipe((0,m.K)(d.Vm))}getCustomizations(){return this.http.get(O,(0,d.vC)())}}A.\u0275fac=function(v){return new(v||A)(x.LFG(k.eN))},A.\u0275prov=x.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})},4329:(et,M,c)=>{c.d(M,{b:()=>D});var m=c(5758),i=c(3184),d=c(6362),x=c(4770),k=c(4683),p=c(587),u=c(6131),f=c(4742),t=c(7317);function O(C,h){if(1&C){const g=i.EpF();i.TgZ(0,"mat-list-item",9),i.NdJ("click",function(){const U=i.CHM(g).$implicit;return i.oxw(3).select(U)}),i._uU(1),i.qZA()}if(2&C){const g=h.$implicit,E=i.oxw(3);i.xp6(1),i.hij(" ",E.data.namer(g)," ")}}function A(C,h){if(1&C&&(i.TgZ(0,"div",7),i.TgZ(1,"mat-list"),i.YNc(2,O,2,1,"mat-list-item",8),i.qZA(),i.qZA()),2&C){const g=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",g.filteredTemplates)}}function T(C,h){1&C&&(i.TgZ(0,"div",7),i._uU(1," No results found. "),i.qZA())}function v(C,h){if(1&C){const g=i.EpF();i.TgZ(0,"mat-dialog-content",3),i.TgZ(1,"div",4),i.TgZ(2,"mat-form-field"),i.TgZ(3,"input",5),i.NdJ("ngModelChange",function(Q){i.CHM(g);return i.oxw().search=Q})("keyup",function(){return i.CHM(g),i.oxw().filterTemplates()}),i.qZA(),i.qZA(),i.qZA(),i.YNc(4,A,3,1,"div",6),i.YNc(5,T,2,0,"div",6),i.qZA()}if(2&C){const g=i.oxw();i.xp6(3),i.Q6J("ngModel",g.search),i.xp6(1),i.Q6J("ngIf",null==g.filteredTemplates?null:g.filteredTemplates.length),i.xp6(1),i.Q6J("ngIf",!(null!=g.filteredTemplates&&g.filteredTemplates.length))}}function b(C,h){1&C&&(i.TgZ(0,"mat-dialog-content",3),i._UZ(1,"mat-spinner",10),i.qZA()),2&C&&(i.xp6(1),i.Q6J("diameter",24))}class D{constructor(h,g){this.data=h,this.dialogRef=g,this.search=""}ngOnInit(){this.getTemplates()}select(h){this.dialogRef.close(h)}filterTemplates(){this.filteredTemplates=this.templates.filter(h=>this.data.namer(h).toLowerCase().includes(this.search.toLowerCase()))}getTemplates(){this.data.getter().subscribe(h=>{this.templates=h,this.filterTemplates()})}}D.\u0275fac=function(h){return new(h||D)(i.Y36(m.WI),i.Y36(m.so))},D.\u0275cmp=i.Xpm({type:D,selectors:[["avr-srd-copy-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","keyup"],["class","results",4,"ngIf"],[1,"results"],["class","hoverable pointer",3,"click",4,"ngFor","ngForOf"],[1,"hoverable","pointer",3,"click"],[3,"diameter"]],template:function(h,g){1&h&&(i.TgZ(0,"h2",0),i._uU(1,"Copying SRD object..."),i.qZA(),i.YNc(2,v,6,3,"mat-dialog-content",1),i.YNc(3,b,2,1,"mat-dialog-content",1),i.TgZ(4,"mat-dialog-actions"),i.TgZ(5,"button",2),i._uU(6,"Cancel"),i.qZA(),i.qZA()),2&h&&(i.xp6(2),i.Q6J("ngIf",g.templates),i.xp6(1),i.Q6J("ngIf",!g.templates))},directives:[m.uh,d.O5,m.xY,x.KE,k.Nt,p.Fj,p.JJ,p.On,u.i$,d.sg,u.Tg,f.$g,m.H8,t.lW,m.ZT],encapsulation:2})},9220:(et,M,c)=>{c.d(M,{U:()=>x});var m=c(2528),i=c(3184),d=c(7317);class x{constructor(p,u){this.data=p,this.snackBar=u}}x.\u0275fac=function(p){return new(p||x)(i.Y36(m.qD),i.Y36(m.ux))},x.\u0275cmp=i.Xpm({type:x,selectors:[["validation-snackbar"]],decls:5,vars:1,consts:[[1,"mat-simple-snackbar"],[1,"validation-error",3,"innerHTML"],[1,"mat-simple-snackbar-action","ng-star-inserted"],["mat-raised-button","",1,"mat-focus-indicator","mat-button","mat-button-base",3,"click"]],template:function(p,u){1&p&&(i.TgZ(0,"div",0),i._UZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"button",3),i.NdJ("click",function(){return u.snackBar.dismiss()}),i._uU(4," Close "),i.qZA(),i.qZA(),i.qZA()),2&p&&(i.xp6(1),i.Q6J("innerHTML",u.data.html,i.oJD))},directives:[d.lW],styles:[".validation-error[_ngcontent-%COMP%]{display:flex;flex-direction:column}  .validation-error-header{margin:0 0 .5em}  .validation-error-list{margin:0 0 .25em}  .validation-error-item{margin:0}  .mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1;gap:1rem}\n/*# sourceMappingURL=validation-snackbar.component.css.map*/"]})}}]);
//# sourceMappingURL=354.c8369e5758eda65f.js.map