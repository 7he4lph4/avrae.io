(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9qBq":function(t,e,c){"use strict";c.d(e,"a",(function(){return h}));var a=c("0IaG"),n=c("fXoL"),i=c("kmnG"),o=c("qFsG"),r=c("3Pt+"),s=c("ofXK"),l=c("bTqV"),d=c("Xa2L");function m(t,e){if(1&t&&(n.jc(0,"mat-error"),n.Xc(1),n.ic()),2&t){const t=n.vc();n.Rb(1),n.Yc(t.error)}}function u(t,e){1&t&&n.ec(0,"mat-spinner",8),2&t&&n.Ac("diameter",18)}class h{constructor(t,e){this.dialogRef=t,this.input=e,this.loading=!1}ngOnInit(){}validateAndExit(){let t;this.loading=!0,this.error=null;try{t=JSON.parse(this.data)}catch(e){return this.error="Invalid data format",void(this.loading=!1)}this.input.validator?this.input.validator(t):this.dialogRef.close(t)}}h.\u0275fac=function(t){return new(t||h)(n.dc(a.h),n.dc(a.a))},h.\u0275cmp=n.Xb({type:h,selectors:[["avr-json-import-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","JSON","rows","10",3,"ngModel","ngModelChange"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[3,"diameter",4,"ngIf"],[3,"diameter"]],template:function(t,e){1&t&&(n.jc(0,"h2",0),n.Xc(1,"Importing from JSON..."),n.ic(),n.jc(2,"mat-dialog-content",1),n.jc(3,"p"),n.Xc(4," Paste your JSON here. This should be either an object or list exported from this site. "),n.ic(),n.jc(5,"div",2),n.jc(6,"mat-form-field"),n.jc(7,"textarea",3),n.rc("ngModelChange",(function(t){return e.data=t})),n.ic(),n.ic(),n.ic(),n.Wc(8,m,2,1,"mat-error",4),n.ic(),n.jc(9,"mat-dialog-actions"),n.jc(10,"button",5),n.Xc(11,"Cancel"),n.ic(),n.jc(12,"button",6),n.rc("click",(function(){return e.validateAndExit()})),n.Xc(13," Import "),n.ic(),n.Wc(14,u,1,1,"mat-spinner",7),n.ic()),2&t&&(n.Rb(7),n.Ac("ngModel",e.data),n.Rb(1),n.Ac("ngIf",e.error),n.Rb(6),n.Ac("ngIf",e.loading))},directives:[a.i,a.f,i.c,o.a,r.c,r.n,r.q,s.t,a.c,l.b,a.d,i.b,d.c],styles:[".form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]})},D33r:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var a=c("0IaG"),n=c("fXoL"),i=c("ofXK"),o=c("bTqV");function r(t,e){if(1&t&&(n.jc(0,"p"),n.Xc(1),n.ic()),2&t){const t=n.vc();n.Rb(1),n.Zc(" ",t.data.message," ")}}class s{constructor(t){this.data=t}ngOnInit(){}}s.\u0275fac=function(t){return new(t||s)(n.dc(a.a))},s.\u0275cmp=n.Xb({type:s,selectors:[["avr-confirm-delete-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(n.jc(0,"h2",0),n.Xc(1),n.ic(),n.jc(2,"mat-dialog-content",1),n.jc(3,"p"),n.Xc(4),n.ic(),n.Wc(5,r,2,1,"p",2),n.ic(),n.jc(6,"mat-dialog-actions"),n.jc(7,"button",3),n.Xc(8,"No"),n.ic(),n.jc(9,"button",4),n.Xc(10,"Yes"),n.ic(),n.ic()),2&t&&(n.Rb(1),n.Zc("Deleting ",e.data.name,""),n.Rb(3),n.Zc(" Are you sure you want to delete ",e.data.name,"? "),n.Rb(1),n.Ac("ngIf",e.data.message),n.Rb(4),n.Ac("mat-dialog-close",!0))},directives:[a.i,a.f,i.t,a.c,o.b,a.d],styles:[""]})},QAUA:function(t,e,c){"use strict";c.d(e,"a",(function(){return h}));var a=c("LRne"),n=c("JIr8"),i=c("AytR"),o=(c("rHON"),c("2xJ4")),r=c("fXoL"),s=c("tk/3");i.a.apiURL;const l=i.a.apiURL+"/userStats",d=i.a.apiURL+"/characters",m=d+"/meta",u=i.a.apiURL+"/customizations";class h{constructor(t){this.http=t}getUserStats(){return this.http.get(l,Object(o.b)())}getCharacterMeta(){return this.http.get(m,Object(o.b)())}getCharacterAttacks(t){const e=`${d}/${t}/attacks`;return this.http.get(e,Object(o.b)())}getTemplateAttacks(){return this.http.get(d+"/attacks/srd",Object(o.b)())}putCharacterAttacks(t,e){const c=`${d}/${t}/attacks`;return this.http.put(c,e,Object(o.c)()).pipe(Object(n.a)(t=>Object(a.a)(!1)))}validateAttackJSON(t){const e=d+"/attacks/validate";return this.http.post(e,t,Object(o.b)()).pipe(Object(n.a)(t=>(console.error(t),Object(a.a)({success:!1,result:t.error}))))}getCustomizations(){return this.http.get(u,Object(o.b)())}}h.\u0275fac=function(t){return new(t||h)(r.nc(s.b))},h.\u0275prov=r.Zb({token:h,factory:h.\u0275fac,providedIn:"root"})},TDBs:function(t,e,c){"use strict";c.r(e),c.d(e,"DashboardModule",(function(){return ye}));var a=c("ofXK"),n=c("XiUz"),i=c("3Pt+"),o=c("hctd"),r=c("WVau"),s=c("tyNb"),l=c("fD3i"),d=c("QAUA"),m=c("fXoL"),u=c("XhcP"),h=c("MutI"),p=c("7EHt"),b=c("NFeN");const f=function(){return["characters"]},g=function(){return["aliases"]},v=function(){return["gvars"]};class j{constructor(t,e){this.router=t,this.dashboardService=e,Object(l.b)()||this.router.navigate(["login"])}logout(){Object(l.d)(),this.router.navigate([""])}}j.\u0275fac=function(t){return new(t||j)(m.dc(s.b),m.dc(d.a))},j.\u0275cmp=m.Xb({type:j,selectors:[["avr-dashboard"]],decls:43,vars:6,consts:[[1,"sidenav-container"],["opened","","mode","side","fixedTopGap","56px","disableClose","true",1,"sidenav","mat-elevation-z3"],["mat-list-item","",3,"routerLink"],["expanded","",1,"mat-elevation-z0"],[1,"nav-panel"],[1,"nav-panel-body"],["mat-list-item","","routerLink","/dashboard/workshop"],["mat-list-item","","routerLink","/dashboard/workshop/my-subscriptions"],["mat-list-item","","routerLink","/dashboard/workshop/my-work"],["mat-list-item","","routerLink","/dashboard/homebrew/items"],["mat-list-item","","routerLink","/dashboard/homebrew/spells"],["mat-list-item","","href","https://critterdb.com/#/index","target","_blank","rel","noopener noreferrer"],[1,"icon-in-panel"],[1,"spacer"],["mat-list-item","",3,"click"]],template:function(t,e){1&t&&(m.jc(0,"mat-sidenav-container",0),m.jc(1,"mat-sidenav",1),m.jc(2,"mat-nav-list"),m.jc(3,"a",2),m.Xc(4,"Characters"),m.ic(),m.jc(5,"mat-expansion-panel",3),m.jc(6,"mat-expansion-panel-header"),m.jc(7,"mat-panel-title",4),m.Xc(8," Alias Workshop "),m.ic(),m.ic(),m.jc(9,"div",5),m.jc(10,"a",6),m.Xc(11,"Explore"),m.ic(),m.jc(12,"a",7),m.Xc(13,"My Subscriptions"),m.ic(),m.jc(14,"a",8),m.Xc(15,"My Work"),m.ic(),m.ic(),m.ic(),m.jc(16,"mat-expansion-panel",3),m.jc(17,"mat-expansion-panel-header"),m.jc(18,"mat-panel-title",4),m.Xc(19," Customization "),m.ic(),m.ic(),m.jc(20,"div",5),m.jc(21,"a",2),m.Xc(22,"My Customizations"),m.ic(),m.jc(23,"a",2),m.Xc(24,"Global Variables"),m.ic(),m.ic(),m.ic(),m.jc(25,"mat-expansion-panel",3),m.jc(26,"mat-expansion-panel-header"),m.jc(27,"mat-panel-title",4),m.Xc(28," Homebrew "),m.ic(),m.ic(),m.jc(29,"div",5),m.jc(30,"a",9),m.Xc(31,"Items"),m.ic(),m.jc(32,"a",10),m.Xc(33,"Spells"),m.ic(),m.jc(34,"a",11),m.Xc(35,"Creatures "),m.jc(36,"mat-icon",12),m.Xc(37,"launch"),m.ic(),m.ic(),m.ic(),m.ic(),m.ec(38,"div",13),m.jc(39,"a",14),m.rc("click",(function(){return e.logout()})),m.Xc(40,"Logout"),m.ic(),m.ic(),m.ic(),m.jc(41,"mat-sidenav-content"),m.ec(42,"router-outlet"),m.ic(),m.ic()),2&t&&(m.Rb(3),m.Ac("routerLink",m.Dc(3,f)),m.Rb(18),m.Ac("routerLink",m.Dc(4,g)),m.Rb(2),m.Ac("routerLink",m.Dc(5,v)))},directives:[u.e,u.d,h.h,h.d,s.c,p.c,p.g,p.h,b.a,u.f,s.e],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.spacer[_ngcontent-%COMP%]{height:32px}mat-expansion-panel-header[_ngcontent-%COMP%]{transition:background-color .5s ease-in-out;padding-left:16px}mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - (56px + 56px))}.nav-panel[_ngcontent-%COMP%]{text-decoration:none;font-weight:300}.nav-panel-body[_ngcontent-%COMP%]{margin:0 -24px -16px}.nav-panel-body[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0 24px;height:36px;font-size:90%}.icon-in-panel[_ngcontent-%COMP%]{font-size:16px;height:16px;padding-left:4px}@media only screen and (max-width:840px){.sidenav[_ngcontent-%COMP%]{width:150px}}"]});var w=c("LRne"),k=c("2xJ4"),C=c("0IaG");class O{constructor(t="",e=[],c=!1,a=null){this.name=t,this.automation=e,this._v=2,this.proper=c,this.verb=a}}var y=c("hMdP"),x=c("9qBq"),M=c("XwxW"),A=c("bTqV"),R=c("kmnG"),X=c("d3UM"),I=c("FKr1"),_=c("Qu3c"),D=c("f0Cb"),S=c("qFsG"),P=c("bSwM"),W=c("UgTo"),N=c("Xa2L");function T(t,e){if(1&t&&(m.jc(0,"mat-option",21),m.Xc(1),m.ic()),2&t){const t=e.$implicit;m.Ac("value",t),m.Rb(1),m.Zc(" ",t.name," ")}}function E(t,e){1&t&&(m.jc(0,"p"),m.Xc(1,"Please select an attack."),m.ic())}function L(t,e){if(1&t){const t=m.kc();m.jc(0,"div"),m.jc(1,"div",22),m.jc(2,"mat-form-field",17),m.jc(3,"input",23),m.rc("ngModelChange",(function(e){m.Mc(t);return m.vc(2).selectedAttack.name=e})),m.ic(),m.ic(),m.ec(4,"span",17),m.jc(5,"span",10),m.jc(6,"button",24),m.rc("click",(function(){m.Mc(t);const e=m.vc(2);return e.deleteAttack(e.selectedAttack)})),m.jc(7,"mat-icon"),m.Xc(8,"delete"),m.ic(),m.ic(),m.ic(),m.jc(9,"span",10),m.jc(10,"button",25),m.rc("click",(function(){m.Mc(t);const e=m.vc(2);return e.beginJSONExport(e.selectedAttack)})),m.jc(11,"mat-icon",26),m.Xc(12,"vertical_align_top"),m.ic(),m.ic(),m.ic(),m.ic(),m.jc(13,"div",27),m.jc(14,"mat-checkbox",28),m.rc("ngModelChange",(function(e){m.Mc(t);return m.vc(2).selectedAttack.proper=e})),m.Xc(15,"Proper Noun"),m.ic(),m.jc(16,"mat-form-field",10),m.jc(17,"input",29),m.rc("ngModelChange",(function(e){m.Mc(t);return m.vc(2).selectedAttack.verb=e})),m.ic(),m.ic(),m.jc(18,"span",30),m.Xc(19),m.ic(),m.ec(20,"span",17),m.ic(),m.ec(21,"avr-automation-editor",31),m.ic()}if(2&t){const t=m.vc(2);m.Rb(3),m.Ac("ngModel",t.selectedAttack.name),m.Rb(11),m.Ac("ngModel",t.selectedAttack.proper),m.Rb(3),m.Ac("ngModel",t.selectedAttack.verb),m.Rb(2),m.bd(" Display: ",t.character.name," ",t.selectedAttack.verb||"attacks with"," ",t.selectedAttack.proper?t.selectedAttack.name:"a "+t.selectedAttack.name,"! "),m.Rb(2),m.Ac("automation",t.selectedAttack.automation)}}function $(t,e){if(1&t&&(m.jc(0,"p",32),m.Xc(1),m.ic()),2&t){const t=m.vc(2);m.Rb(1),m.Zc(" ",t.errorValue," ")}}function F(t,e){if(1&t){const t=m.kc();m.jc(0,"mat-dialog-content",4),m.jc(1,"div"),m.jc(2,"p"),m.Xc(3," Need help using the editor? Check out the docs "),m.jc(4,"a",5),m.Xc(5,"here"),m.ic(),m.Xc(6,"! "),m.ic(),m.ic(),m.jc(7,"div",6),m.jc(8,"mat-form-field"),m.jc(9,"mat-label"),m.Xc(10,"Select an attack"),m.ic(),m.jc(11,"mat-select",7),m.rc("valueChange",(function(e){m.Mc(t);return m.vc().selectedAttack=e})),m.Wc(12,T,2,2,"mat-option",8),m.jc(13,"mat-option",9),m.rc("click",(function(){m.Mc(t);return m.vc().addAndSelectNewAttack()})),m.Xc(14,"New..."),m.ic(),m.ic(),m.ic(),m.jc(15,"span",10),m.jc(16,"button",11),m.rc("click",(function(){m.Mc(t);return m.vc().beginJSONImport()})),m.jc(17,"mat-icon",12),m.Xc(18,"vertical_align_bottom"),m.ic(),m.ic(),m.ic(),m.jc(19,"span",10),m.jc(20,"button",13),m.rc("click",(function(){m.Mc(t);return m.vc().newFromSRD()})),m.jc(21,"mat-icon",14),m.Xc(22,"scanner"),m.ic(),m.ic(),m.ic(),m.jc(23,"span",10),m.jc(24,"button",15),m.rc("click",(function(){m.Mc(t);const e=m.vc();return e.beginJSONExport(e.allAttacks)})),m.jc(25,"mat-icon",16),m.Xc(26,"vertical_align_top"),m.ic(),m.ic(),m.ic(),m.ec(27,"span",17),m.ic(),m.ec(28,"mat-divider",18),m.Wc(29,E,2,0,"p",19),m.Wc(30,L,22,7,"div",19),m.Wc(31,$,2,1,"p",20),m.ic()}if(2&t){const t=m.vc();m.Rb(11),m.Ac("value",t.selectedAttack),m.Rb(1),m.Ac("ngForOf",t.allAttacks),m.Rb(17),m.Ac("ngIf",!t.selectedAttack),m.Rb(1),m.Ac("ngIf",t.selectedAttack),m.Rb(1),m.Ac("ngIf",t.errorValue)}}function G(t,e){1&t&&(m.jc(0,"mat-dialog-content",4),m.ec(1,"mat-spinner",33),m.jc(2,"p"),m.Xc(3," Loading attacks... "),m.ic(),m.ic()),2&t&&(m.Rb(1),m.Ac("diameter",24))}class U{constructor(t,e,c,a){this.character=t,this.charService=e,this.dialogRef=c,this.dialog=a,this.saveButtonValue="Save and Exit",this.saveButtonDisabled=!1}ngOnInit(){this.loadAttacks()}loadAttacks(){this.charService.getCharacterAttacks(this.character.upstream).subscribe(t=>{this.allAttacks=t})}addAndSelectNewAttack(){const t=new O;this.allAttacks.push(t),this.selectedAttack=t}newFromSRD(){this.dialog.open(M.a,{width:"60%",disableClose:!0,data:{getter:()=>this.charService.getTemplateAttacks(),namer:t=>t.name}}).afterClosed().subscribe(t=>{t&&(this.allAttacks.push(t),this.selectedAttack=t)})}deleteAttack(t){const e=this.allAttacks.indexOf(t);e>-1&&this.allAttacks.splice(e,1),this.selectedAttack=null}saveAndExit(){this.saveButtonValue="Saving...",this.saveButtonDisabled=!0,this.charService.putCharacterAttacks(this.character.upstream,this.allAttacks).subscribe(t=>{this.saveButtonValue="Save and Exit",this.saveButtonDisabled=!1,t?this.dialogRef.close():this.errorValue="Failed to save attacks."})}beginJSONExport(t){this.dialog.open(y.a,{data:{name:t instanceof Array?"All Attacks":t.name,data:t},width:"60%"})}beginJSONImport(){const t=this.dialog.open(x.a,{width:"60%",disableClose:!0,data:{validator:e=>this.validateAttackJSON(t,e)}});t.afterClosed().subscribe(t=>{if(t){const e=t;e instanceof Array?this.allAttacks.push(...e):this.allAttacks.push(e)}})}validateAttackJSON(t,e){this.charService.validateAttackJSON(e).subscribe(e=>{console.log(e),t.componentInstance.loading=!1,e.success?t.close(JSON.parse(t.componentInstance.data)):t.componentInstance.error=e.result})}}U.\u0275fac=function(t){return new(t||U)(m.dc(C.a),m.dc(d.a),m.dc(C.h),m.dc(C.b))},U.\u0275cmp=m.Xb({type:U,selectors:[["avr-attack-editor-dialog"]],decls:9,vars:5,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],[1,"mat-typography"],["href","https://avrae.readthedocs.io/en/latest/automation_ref.html","target","_blank","rel","noopener noreferrer"],["fxLayout","row"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["fxFlex",""],["mat-icon-button","","matTooltip","Import JSON",3,"click"],["aria-label","Import from JSON"],["mat-icon-button","","matTooltip","Copy SRD Monster Action",3,"click"],["aria-label","Copy SRD Monster Action"],["mat-icon-button","","matTooltip","Export All to JSON",3,"click"],["aria-label","Export All to JSON"],["fxFlex","grow"],[1,"beefy-divider"],[4,"ngIf"],["class","error-text",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutGap","4px"],["matInput","","placeholder","Attack Name",3,"ngModel","ngModelChange"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","matTooltip","Export to JSON",3,"click"],["aria-label","Export to JSON"],["fxLayout","row","fxLayoutGap","4px","fxLayoutAlign","center center"],["fxFlex","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Verb",3,"ngModel","ngModelChange"],["fxFlex","noshrink"],[3,"automation"],[1,"error-text"],[3,"diameter"]],template:function(t,e){1&t&&(m.jc(0,"h2",0),m.Xc(1),m.ic(),m.Wc(2,F,32,5,"mat-dialog-content",1),m.Wc(3,G,4,1,"mat-dialog-content",1),m.jc(4,"mat-dialog-actions"),m.jc(5,"button",2),m.Xc(6,"Cancel"),m.ic(),m.jc(7,"button",3),m.rc("click",(function(){return e.saveAndExit()})),m.Xc(8),m.ic(),m.ic()),2&t&&(m.Rb(1),m.Zc("Editing Attacks: ",e.character.name,""),m.Rb(1),m.Ac("ngIf",e.allAttacks),m.Rb(1),m.Ac("ngIf",!e.allAttacks),m.Rb(4),m.Ac("disabled",e.saveButtonDisabled),m.Rb(1),m.Yc(e.saveButtonValue))},directives:[C.i,a.t,C.c,A.b,C.d,C.f,n.f,R.c,R.g,X.a,a.s,I.j,n.b,_.a,b.a,D.a,n.g,S.a,i.c,i.n,i.q,n.e,P.a,W.a,N.c],styles:[".beefy-divider[_ngcontent-%COMP%]{margin-bottom:1em}.error-text[_ngcontent-%COMP%]{color:red}"]});var z=c("zkoq"),J=c("Wp6s");function B(t,e){if(1&t&&(m.jc(0,"mat-card",5),m.jc(1,"mat-grid-list",6),m.jc(2,"mat-grid-tile"),m.ec(3,"img",7),m.wc(4,"async"),m.ic(),m.jc(5,"mat-grid-tile",8),m.jc(6,"div"),m.jc(7,"h1",9),m.Xc(8),m.wc(9,"async"),m.jc(10,"span",10),m.Xc(11),m.wc(12,"async"),m.ic(),m.ic(),m.jc(13,"p",11),m.Xc(14),m.wc(15,"async"),m.ec(16,"br"),m.Xc(17),m.wc(18,"async"),m.ic(),m.ic(),m.ic(),m.ic(),m.ic()),2&t){const t=m.vc();var c;const e=null==(c=m.xc(4,5,t.userInfo))?null:c.avatarUrl;var a,n,i,o;m.Rb(3),m.Ac("src",e,m.Oc),m.Rb(5),m.Zc(" ",null==(a=m.xc(9,7,t.userInfo))?null:a.username,""),m.Rb(3),m.Zc("#",null==(n=m.xc(12,9,t.userInfo))?null:n.discriminator,""),m.Rb(3),m.Zc(" Characters: ",null==(i=m.xc(15,11,t.userStats))?null:i.numCharacters,""),m.Rb(3),m.Zc(" Customizations: ",null==(o=m.xc(18,13,t.userStats))?null:o.numCustomizations," ")}}function H(t,e){if(1&t&&(m.jc(0,"p",21),m.Xc(1),m.ic()),2&t){const t=m.vc().$implicit,e=m.vc();m.Rb(1),m.Zc(" ",e.getInitials(t.name)," ")}}function Z(t,e){if(1&t&&m.ec(0,"img",22),2&t){const t=m.vc().$implicit,e=m.vc();m.Ac("src",e.getImage(t),m.Oc)("alt","Image for "+t.name)}}function V(t,e){if(1&t){const t=m.kc();m.jc(0,"mat-grid-tile",12),m.jc(1,"div",13),m.Wc(2,H,2,1,"p",14),m.ic(),m.Wc(3,Z,1,2,"img",15),m.jc(4,"div",16),m.jc(5,"div",17),m.jc(6,"h3"),m.Xc(7),m.ic(),m.Xc(8),m.ic(),m.jc(9,"div",18),m.jc(10,"a",19),m.jc(11,"mat-icon"),m.Xc(12,"menu_book"),m.ic(),m.ic(),m.jc(13,"button",20),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().beginEditAttacks(c)})),m.jc(14,"mat-icon"),m.Xc(15,"build"),m.ic(),m.ic(),m.ic(),m.ic(),m.ic()}if(2&t){const t=e.$implicit,c=m.vc();m.Rb(2),m.Ac("ngIf",!c.getImage(t)),m.Rb(1),m.Ac("ngIf",c.getImage(t)),m.Rb(4),m.Zc(" ",t.name," "),m.Rb(1),m.Zc(" ",c.getDescription(t)," "),m.Rb(2),m.Ac("href",c.getUpstreamURL(t.upstream),m.Oc),m.Rb(3),m.Ac("matTooltip",t.import_version<c.MIN_CHARACTER_AUTOMATION_VERSION?"Please !update your character to use Automation.":"Edit Attacks")}}class q{constructor(t,e){this.dashboardService=t,this.dialog=e,this.MIN_CHARACTER_AUTOMATION_VERSION=17}ngOnInit(){this.getUserInfo(),this.getUserStats(),this.getCharacters(),this.onResize(null)}getUserInfo(){this.userInfo=Object(w.a)(Object(k.d)())}getUserStats(){this.userStats=this.dashboardService.getUserStats()}getCharacters(){this.characters=this.dashboardService.getCharacterMeta()}getInitials(t){const e=t.match(/\b\w/g)||[];return((e.shift()||"")+(e.pop()||"")).toUpperCase()}getImage(t){return t.overrides.image||t.image}getDescription(t){return t.overrides.desc||t.description}getUpstreamURL(t){return t.startsWith("dicecloud-")?"https://dicecloud.com/character/"+t.slice(10):t.startsWith("google-")?"https://docs.google.com/spreadsheets/d/"+t.slice(7):t.startsWith("beyond-")?"https://ddb.ac/characters/"+t.slice(7):""}beginEditAttacks(t){t.import_version<this.MIN_CHARACTER_AUTOMATION_VERSION||this.dialog.open(U,{width:"75%",disableClose:!0,data:t}).afterClosed().subscribe(t=>{console.log(t)})}onResize(t){window.innerWidth<600?this.numCols=1:window.innerWidth<1024?this.numCols=2:window.innerWidth<1440?this.numCols=4:this.numCols=6}}q.\u0275fac=function(t){return new(t||q)(m.dc(d.a),m.dc(C.b))},q.\u0275cmp=m.Xb({type:q,selectors:[["avr-characters"]],decls:7,vars:7,consts:[[1,"characterList"],["class","user-card",4,"ngIf"],[1,"spacer-8px"],["rowHeight","5:6","gutterSize","8",3,"cols","resize"],["class","character-tile",4,"ngFor","ngForOf"],[1,"user-card"],["cols","4","rowHeight","1:1"],["alt","avatar",1,"avatarImg","mat-elevation-z1",3,"src"],["colspan","3"],[1,"mat-display-2","smallmargin"],[1,"mat-small"],[1,"mat-h3"],[1,"character-tile"],[1,"character-name-underlay","mat-typography","character-image"],["class","ignore-theme",4,"ngIf"],["class","character-image",3,"src","alt",4,"ngIf"],[1,"character-meta"],[1,"mat-typography","ignore-theme","character-text"],[1,"mat-typography","ignore-theme","character-actions"],["mat-icon-button","","matTooltip","View Sheet","target","_blank",3,"href"],["mat-icon-button","",3,"matTooltip","click"],[1,"ignore-theme"],[1,"character-image",3,"src","alt"]],template:function(t,e){1&t&&(m.jc(0,"div",0),m.Wc(1,B,19,15,"mat-card",1),m.wc(2,"async"),m.ec(3,"div",2),m.jc(4,"mat-grid-list",3),m.rc("resize",(function(t){return e.onResize(t)}),!1,m.Lc),m.Wc(5,V,16,6,"mat-grid-tile",4),m.wc(6,"async"),m.ic(),m.ic()),2&t&&(m.Rb(1),m.Ac("ngIf",m.xc(2,3,e.userInfo)),m.Rb(3),m.Ac("cols",e.numCols),m.Rb(1),m.Ac("ngForOf",m.xc(6,5,e.characters)))},directives:[a.t,z.b,a.s,J.a,z.d,A.a,_.a,b.a,A.b],pipes:[a.b],styles:[".characterList[_ngcontent-%COMP%]{margin:8px}.avatarImg[_ngcontent-%COMP%]{position:center;height:80%;width:80%;border-radius:50%}.smallmargin[_ngcontent-%COMP%]{margin-bottom:16px}.spacer-8px[_ngcontent-%COMP%]{margin:8px}.character-tile[_ngcontent-%COMP%]{border-radius:10px}.ignore-theme[_ngcontent-%COMP%]{color:#fff}.character-text[_ngcontent-%COMP%]{margin:1em 1em 0;height:calc(100% - (3em + 40px));word-wrap:break-word;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.character-text[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.character-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.character-actions[_ngcontent-%COMP%]{margin:1em;height:40px}.character-name-underlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;background:#424242;z-index:-1}.character-name-underlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative;top:50%;transform:translateY(-50%);font-size:xx-large}.character-tile[_ngcontent-%COMP%]   .character-image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;transition:all .5s ease}.character-tile[_ngcontent-%COMP%]:hover   .character-image[_ngcontent-%COMP%]{webkit-filter:blur(3px) brightness(.7);-webkit-filter:blur(3px) brightness(.7);filter:blur(3px) brightness(.7);transform:scale(1.05)}.character-meta[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;opacity:0;transition:all .5s ease}.character-meta[_ngcontent-%COMP%]:hover{opacity:1}"]});var Y=c("wZkO"),Q=c("D33r"),K=c("AytR"),tt=c("JIr8"),et=c("tk/3");const ct=K.a.apiURL+"/customizations/aliases",at=K.a.apiURL+"/customizations/snippets",nt=K.a.apiURL+"/customizations/uvars";class it{constructor(t){this.http=t}getAliases(){return this.http.get(ct,Object(k.b)())}updateAlias(t){return this.http.post(`${ct}/${t.name}`,t,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("updateAlias")))}deleteAlias(t){return this.http.delete(`${ct}/${t.name}`,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("deleteAlias")))}getSnippets(){return this.http.get(at,Object(k.b)())}updateSnippet(t){return this.http.post(`${at}/${t.name}`,t,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("updateSnippet")))}deleteSnippet(t){return this.http.delete(`${at}/${t.name}`,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("deleteSnippet")))}getUvars(){return this.http.get(nt,Object(k.b)())}updateUvar(t){return this.http.post(`${nt}/${t.name}`,t,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("updateUvar")))}deleteUvar(t){return this.http.delete(`${nt}/${t.name}`,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("deleteUvar")))}handleTextError(t="operation"){return e=>(console.error(e),Object(w.a)(`${t} failed: ${e.error}`))}}it.\u0275fac=function(t){return new(t||it)(m.nc(et.b))},it.\u0275prov=m.Zb({token:it,factory:it.\u0275fac,providedIn:"root"});class ot{constructor(t){this.data=t}ngOnInit(){}}function rt(t,e){if(1&t){const t=m.kc();m.jc(0,"mat-form-field"),m.jc(1,"input",7),m.rc("ngModelChange",(function(e){m.Mc(t);return m.vc().name=e})),m.ic(),m.ic()}if(2&t){const t=m.vc();m.Rb(1),m.Ac("ngModel",t.name)}}ot.\u0275fac=function(t){return new(t||ot)(m.dc(C.a))},ot.\u0275cmp=m.Xb({type:ot,selectors:[["avr-edit-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["matInput","","spellcheck","false",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(m.jc(0,"h2",0),m.Xc(1),m.ic(),m.jc(2,"mat-dialog-content",1),m.jc(3,"mat-form-field"),m.jc(4,"textarea",2),m.rc("ngModelChange",(function(t){return e.data.content=t})),m.ic(),m.ic(),m.ic(),m.jc(5,"mat-dialog-actions"),m.jc(6,"button",3),m.Xc(7,"Cancel"),m.ic(),m.jc(8,"button",4),m.Xc(9,"Done"),m.ic(),m.ic()),2&t&&(m.Rb(1),m.Zc("Editing ",e.data.name,""),m.Rb(3),m.Ac("ngModel",e.data.content),m.Rb(4),m.Ac("mat-dialog-close",e.data.content))},directives:[C.i,C.f,R.c,S.a,i.c,i.n,i.q,C.c,A.b,C.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-family:Courier New,monospace}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){min-height:200px}"]});const st=function(t,e){return{name:t,value:e}};class lt{constructor(t){this.data=t}ngOnInit(){}}lt.\u0275fac=function(t){return new(t||lt)(m.dc(C.a))},lt.\u0275cmp=m.Xb({type:lt,selectors:[["avr-new-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],[4,"ngIf"],["matInput","","placeholder","Value",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(m.jc(0,"h2",0),m.Xc(1),m.ic(),m.jc(2,"mat-dialog-content",1),m.jc(3,"div",2),m.Wc(4,rt,2,1,"mat-form-field",3),m.jc(5,"mat-form-field"),m.jc(6,"textarea",4),m.rc("ngModelChange",(function(t){return e.value=t})),m.ic(),m.ic(),m.ic(),m.ic(),m.jc(7,"mat-dialog-actions"),m.jc(8,"button",5),m.Xc(9,"Cancel"),m.ic(),m.jc(10,"button",6),m.Xc(11,"Done"),m.ic(),m.ic()),2&t&&(m.Rb(1),m.Zc("New ",e.data.type,"..."),m.Rb(3),m.Ac("ngIf",e.data.showName),m.Rb(2),m.Ac("ngModel",e.value),m.Rb(4),m.Ac("mat-dialog-close",m.Fc(4,st,e.name,e.value)))},directives:[C.i,C.f,a.t,R.c,S.a,i.c,i.n,i.q,C.c,A.b,C.d],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace}"]});var dt=c("dNgK"),mt=c("+0xr");function ut(t,e){1&t&&(m.jc(0,"th",12),m.Xc(1,"Name"),m.ic())}function ht(t,e){if(1&t&&(m.jc(0,"td",13),m.Xc(1),m.ic()),2&t){const t=e.$implicit;m.Rb(1),m.Yc(t.name)}}function pt(t,e){1&t&&(m.jc(0,"td",14),m.Xc(1,"Create New"),m.ic())}function bt(t,e){1&t&&(m.jc(0,"th",15),m.Xc(1,"Commands"),m.ic())}function ft(t,e){if(1&t&&(m.jc(0,"td",13),m.jc(1,"pre"),m.Xc(2),m.ic(),m.ic()),2&t){const t=e.$implicit;m.Rb(2),m.Yc(t.commands)}}function gt(t,e){1&t&&m.ec(0,"td",14)}function vt(t,e){1&t&&m.ec(0,"th",16)}function jt(t,e){if(1&t){const t=m.kc();m.jc(0,"td",13),m.jc(1,"button",17),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().beginEdit(c)})),m.jc(2,"mat-icon",18),m.Xc(3,"edit"),m.ic(),m.ic(),m.jc(4,"button",19),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().confirmDelete(c)})),m.jc(5,"mat-icon",20),m.Xc(6,"delete"),m.ic(),m.ic(),m.ic()}}function wt(t,e){if(1&t){const t=m.kc();m.jc(0,"td",14),m.jc(1,"button",17),m.rc("click",(function(){m.Mc(t);return m.vc().beginNew()})),m.jc(2,"mat-icon",21),m.Xc(3,"launch"),m.ic(),m.ic(),m.ic()}}function kt(t,e){1&t&&m.ec(0,"tr",22)}function Ct(t,e){1&t&&m.ec(0,"tr",23)}function Ot(t,e){1&t&&m.ec(0,"tr",24)}class yt{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.custService=c,this.columnsToDisplay=["name","commands","buttons"]}ngOnInit(){}refresh(){this.custService.getAliases().subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!0,type:"alias"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.name||!t.value)return void this.snackBar.open("Name or commands cannot be empty.");let e={name:t.name,commands:t.value};if(e.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");this.post(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.name,content:t.commands},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.commands=e,this.post(t))})}confirmDelete(t){this.dialog.open(Q.a,{data:{name:t.name}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}post(t){this.custService.updateAlias(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.custService.deleteAlias(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}function xt(t,e){1&t&&(m.jc(0,"th",12),m.Xc(1,"Name"),m.ic())}function Mt(t,e){if(1&t&&(m.jc(0,"td",13),m.Xc(1),m.ic()),2&t){const t=e.$implicit;m.Rb(1),m.Yc(t.name)}}function At(t,e){1&t&&(m.jc(0,"td",14),m.Xc(1,"Create New"),m.ic())}function Rt(t,e){1&t&&(m.jc(0,"th",15),m.Xc(1,"Value"),m.ic())}function Xt(t,e){if(1&t&&(m.jc(0,"td",13),m.jc(1,"pre"),m.Xc(2),m.ic(),m.ic()),2&t){const t=e.$implicit;m.Rb(2),m.Yc(t.snippet)}}function It(t,e){1&t&&m.ec(0,"td",14)}function _t(t,e){1&t&&m.ec(0,"th",16)}function Dt(t,e){if(1&t){const t=m.kc();m.jc(0,"td",13),m.jc(1,"button",17),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().beginEdit(c)})),m.jc(2,"mat-icon",18),m.Xc(3,"edit"),m.ic(),m.ic(),m.jc(4,"button",19),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().confirmDelete(c)})),m.jc(5,"mat-icon",20),m.Xc(6,"delete"),m.ic(),m.ic(),m.ic()}}function St(t,e){if(1&t){const t=m.kc();m.jc(0,"td",14),m.jc(1,"button",17),m.rc("click",(function(){m.Mc(t);return m.vc().beginNew()})),m.jc(2,"mat-icon",21),m.Xc(3,"launch"),m.ic(),m.ic(),m.ic()}}function Pt(t,e){1&t&&m.ec(0,"tr",22)}function Wt(t,e){1&t&&m.ec(0,"tr",23)}function Nt(t,e){1&t&&m.ec(0,"tr",24)}yt.\u0275fac=function(t){return new(t||yt)(m.dc(C.b),m.dc(dt.b),m.dc(it))},yt.\u0275cmp=m.Xb({type:yt,selectors:[["avr-alias-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","commands"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(m.jc(0,"table",0),m.hc(1,1),m.Wc(2,ut,2,0,"th",2),m.Wc(3,ht,2,1,"td",3),m.Wc(4,pt,2,0,"td",4),m.gc(),m.hc(5,5),m.Wc(6,bt,2,0,"th",6),m.Wc(7,ft,3,1,"td",3),m.Wc(8,gt,1,0,"td",4),m.gc(),m.hc(9,7),m.Wc(10,vt,1,0,"th",8),m.Wc(11,jt,7,0,"td",3),m.Wc(12,wt,4,0,"td",4),m.gc(),m.Wc(13,kt,1,0,"tr",9),m.Wc(14,Ct,1,0,"tr",10),m.Wc(15,Ot,1,0,"tr",11),m.ic()),2&t&&(m.Ac("dataSource",e.data),m.Rb(13),m.Ac("matHeaderRowDef",e.columnsToDisplay),m.Rb(1),m.Ac("matRowDefColumns",e.columnsToDisplay),m.Rb(1),m.Ac("matFooterRowDef",e.columnsToDisplay))},directives:[mt.o,mt.c,mt.i,mt.b,mt.e,mt.k,mt.n,mt.g,mt.h,mt.a,mt.d,A.b,b.a,mt.j,mt.m,mt.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class Tt{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.custService=c,this.columnsToDisplay=["name","snippet","buttons"]}ngOnInit(){}refresh(){this.custService.getSnippets().subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!0,type:"snippet"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.name||!t.value)return void this.snackBar.open("Name or value cannot be empty.");let e={name:t.name,snippet:t.value};if(e.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");if(e.name.length<2)return void this.snackBar.open("Name must be at least 2 characters.");this.post(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.name,content:t.snippet},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.snippet=e,this.post(t))})}confirmDelete(t){this.dialog.open(Q.a,{data:{name:t.name}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}post(t){this.custService.updateSnippet(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.custService.deleteSnippet(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}function Et(t,e){1&t&&(m.jc(0,"th",12),m.Xc(1,"Name"),m.ic())}function Lt(t,e){if(1&t&&(m.jc(0,"td",13),m.Xc(1),m.ic()),2&t){const t=e.$implicit;m.Rb(1),m.Yc(t.name)}}function $t(t,e){1&t&&(m.jc(0,"td",14),m.Xc(1,"Create New"),m.ic())}function Ft(t,e){1&t&&(m.jc(0,"th",15),m.Xc(1,"Value"),m.ic())}function Gt(t,e){if(1&t&&(m.jc(0,"td",13),m.jc(1,"pre"),m.Xc(2),m.ic(),m.ic()),2&t){const t=e.$implicit;m.Rb(2),m.Yc(t.value)}}function Ut(t,e){1&t&&m.ec(0,"td",14)}function zt(t,e){1&t&&m.ec(0,"th",16)}function Jt(t,e){if(1&t){const t=m.kc();m.jc(0,"td",13),m.jc(1,"button",17),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().beginEdit(c)})),m.jc(2,"mat-icon",18),m.Xc(3,"edit"),m.ic(),m.ic(),m.jc(4,"button",19),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().confirmDelete(c)})),m.jc(5,"mat-icon",20),m.Xc(6,"delete"),m.ic(),m.ic(),m.ic()}}function Bt(t,e){if(1&t){const t=m.kc();m.jc(0,"td",14),m.jc(1,"button",17),m.rc("click",(function(){m.Mc(t);return m.vc().beginNew()})),m.jc(2,"mat-icon",21),m.Xc(3,"launch"),m.ic(),m.ic(),m.ic()}}function Ht(t,e){1&t&&m.ec(0,"tr",22)}function Zt(t,e){1&t&&m.ec(0,"tr",23)}function Vt(t,e){1&t&&m.ec(0,"tr",24)}Tt.\u0275fac=function(t){return new(t||Tt)(m.dc(C.b),m.dc(dt.b),m.dc(it))},Tt.\u0275cmp=m.Xb({type:Tt,selectors:[["avr-snippet-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","snippet"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(m.jc(0,"table",0),m.hc(1,1),m.Wc(2,xt,2,0,"th",2),m.Wc(3,Mt,2,1,"td",3),m.Wc(4,At,2,0,"td",4),m.gc(),m.hc(5,5),m.Wc(6,Rt,2,0,"th",6),m.Wc(7,Xt,3,1,"td",3),m.Wc(8,It,1,0,"td",4),m.gc(),m.hc(9,7),m.Wc(10,_t,1,0,"th",8),m.Wc(11,Dt,7,0,"td",3),m.Wc(12,St,4,0,"td",4),m.gc(),m.Wc(13,Pt,1,0,"tr",9),m.Wc(14,Wt,1,0,"tr",10),m.Wc(15,Nt,1,0,"tr",11),m.ic()),2&t&&(m.Ac("dataSource",e.data),m.Rb(13),m.Ac("matHeaderRowDef",e.columnsToDisplay),m.Rb(1),m.Ac("matRowDefColumns",e.columnsToDisplay),m.Rb(1),m.Ac("matFooterRowDef",e.columnsToDisplay))},directives:[mt.o,mt.c,mt.i,mt.b,mt.e,mt.k,mt.n,mt.g,mt.h,mt.a,mt.d,A.b,b.a,mt.j,mt.m,mt.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class qt{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.custService=c,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}refresh(){this.custService.getUvars().subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!0,type:"uvar"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.name||!t.value)return void this.snackBar.open("Name or value cannot be empty.");let e={name:t.name,value:t.value};this.post(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.name,content:t.value},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.value=e,this.post(t))})}confirmDelete(t){this.dialog.open(Q.a,{data:{name:t.name}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}post(t){this.custService.updateUvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.custService.deleteUvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}qt.\u0275fac=function(t){return new(t||qt)(m.dc(C.b),m.dc(dt.b),m.dc(it))},qt.\u0275cmp=m.Xb({type:qt,selectors:[["avr-uvar-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(m.jc(0,"table",0),m.hc(1,1),m.Wc(2,Et,2,0,"th",2),m.Wc(3,Lt,2,1,"td",3),m.Wc(4,$t,2,0,"td",4),m.gc(),m.hc(5,5),m.Wc(6,Ft,2,0,"th",6),m.Wc(7,Gt,3,1,"td",3),m.Wc(8,Ut,1,0,"td",4),m.gc(),m.hc(9,7),m.Wc(10,zt,1,0,"th",8),m.Wc(11,Jt,7,0,"td",3),m.Wc(12,Bt,4,0,"td",4),m.gc(),m.Wc(13,Ht,1,0,"tr",9),m.Wc(14,Zt,1,0,"tr",10),m.Wc(15,Vt,1,0,"tr",11),m.ic()),2&t&&(m.Ac("dataSource",e.data),m.Rb(13),m.Ac("matHeaderRowDef",e.columnsToDisplay),m.Rb(1),m.Ac("matRowDefColumns",e.columnsToDisplay),m.Rb(1),m.Ac("matFooterRowDef",e.columnsToDisplay))},directives:[mt.o,mt.c,mt.i,mt.b,mt.e,mt.k,mt.n,mt.g,mt.h,mt.a,mt.d,A.b,b.a,mt.j,mt.m,mt.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class Yt{constructor(t){this.dashboardService=t}ngOnInit(){this.getCustomizations()}getCustomizations(){this.customizations=this.dashboardService.getCustomizations()}}Yt.\u0275fac=function(t){return new(t||Yt)(m.dc(d.a))},Yt.\u0275cmp=m.Xb({type:Yt,selectors:[["avr-customization"]],decls:12,vars:9,consts:[[1,"container"],["label","Aliases"],[3,"data"],["label","Snippets"],["label","Uvars"]],template:function(t,e){if(1&t&&(m.jc(0,"div",0),m.jc(1,"mat-card"),m.jc(2,"mat-tab-group"),m.jc(3,"mat-tab",1),m.ec(4,"avr-alias-list",2),m.wc(5,"async"),m.ic(),m.jc(6,"mat-tab",3),m.ec(7,"avr-snippet-list",2),m.wc(8,"async"),m.ic(),m.jc(9,"mat-tab",4),m.ec(10,"avr-uvar-list",2),m.wc(11,"async"),m.ic(),m.ic(),m.ic(),m.ic()),2&t){var c;const t=null==(c=m.xc(5,3,e.customizations))?null:c.aliases;var a;const i=null==(a=m.xc(8,5,e.customizations))?null:a.snippets;var n;const o=null==(n=m.xc(11,7,e.customizations))?null:n.uvars;m.Rb(4),m.Ac("data",t),m.Rb(3),m.Ac("data",i),m.Rb(3),m.Ac("data",o)}},directives:[J.a,Y.c,Y.a,yt,Tt,qt],pipes:[a.b],styles:[".container[_ngcontent-%COMP%]{margin:8px}"]});const Qt=K.a.apiURL+"/customizations/gvars";class Kt{constructor(t){this.http=t}getAllGvars(){return this.http.get(Qt,Object(k.b)())}getGvars(t){return this.http.get(`${Qt}/${t?"owned":"editable"}`,Object(k.b)())}newGvar(t){return this.http.post(""+Qt,t,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("newGvar")))}getGvar(t){return this.http.get(`${Qt}/${t}`,Object(k.b)()).pipe(Object(tt.a)(t=>Object(w.a)(!1)))}updateGvar(t){return this.http.post(`${Qt}/${t.key}`,t,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("updateGvar")))}deleteGvar(t){return this.http.delete(`${Qt}/${t.key}`,Object(k.c)()).pipe(Object(tt.a)(this.handleTextError("deleteGvar")))}handleTextError(t="operation"){return e=>(console.error(e),Object(w.a)(`${t} failed: ${e.error}`))}}function te(t,e){1&t&&(m.jc(0,"th",12),m.Xc(1,"ID"),m.ic())}function ee(t,e){if(1&t&&(m.jc(0,"td",13),m.Xc(1),m.ic()),2&t){const t=e.$implicit;m.Rb(1),m.Yc(t.key)}}function ce(t,e){if(1&t&&(m.jc(0,"td",14),m.Xc(1),m.ic()),2&t){const t=m.vc();m.Rb(1),m.Yc(t.owned?"Create New":"")}}function ae(t,e){1&t&&(m.jc(0,"th",15),m.Xc(1,"Value"),m.ic())}function ne(t,e){if(1&t&&(m.jc(0,"td",13),m.jc(1,"pre"),m.Xc(2),m.ic(),m.ic()),2&t){const t=e.$implicit;m.Rb(2),m.Yc(t.value)}}function ie(t,e){1&t&&m.ec(0,"td",14)}function oe(t,e){1&t&&m.ec(0,"th",16)}function re(t,e){if(1&t){const t=m.kc();m.jc(0,"button",20),m.rc("click",(function(){m.Mc(t);const e=m.vc().$implicit;return m.vc().confirmDelete(e)})),m.jc(1,"mat-icon",21),m.Xc(2,"delete"),m.ic(),m.ic()}}function se(t,e){if(1&t){const t=m.kc();m.jc(0,"td",13),m.jc(1,"button",17),m.rc("click",(function(){m.Mc(t);const c=e.$implicit;return m.vc().beginEdit(c)})),m.jc(2,"mat-icon",18),m.Xc(3,"edit"),m.ic(),m.ic(),m.Wc(4,re,3,0,"button",19),m.ic()}if(2&t){const t=m.vc();m.Rb(4),m.Ac("ngIf",t.owned)}}function le(t,e){if(1&t){const t=m.kc();m.jc(0,"button",17),m.rc("click",(function(){m.Mc(t);return m.vc(2).beginNew()})),m.jc(1,"mat-icon",23),m.Xc(2,"launch"),m.ic(),m.ic()}}function de(t,e){if(1&t&&(m.jc(0,"td",14),m.Wc(1,le,3,0,"button",22),m.ic()),2&t){const t=m.vc();m.Rb(1),m.Ac("ngIf",t.owned)}}function me(t,e){1&t&&m.ec(0,"tr",24)}function ue(t,e){1&t&&m.ec(0,"tr",25)}function he(t,e){1&t&&m.ec(0,"tr",27)}function pe(t,e){if(1&t&&(m.jc(0,"div"),m.Wc(1,he,1,0,"tr",26),m.ic()),2&t){const t=m.vc();m.Rb(1),m.Ac("matFooterRowDef",t.columnsToDisplay)}}Kt.\u0275fac=function(t){return new(t||Kt)(m.nc(et.b))},Kt.\u0275prov=m.Zb({token:Kt,factory:Kt.\u0275fac,providedIn:"root"});class be{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.gvarService=c,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}refresh(){this.gvarService.getGvars(this.owned).subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!1,type:"gvar"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.value)return void this.snackBar.open("Value cannot be empty.");let e={value:t.value};this.new(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.key,content:t.value},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.value=e,this.post(t))})}confirmDelete(t){this.dialog.open(Q.a,{data:{name:t.key}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}new(t){this.gvarService.newGvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}post(t){this.gvarService.updateGvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.gvarService.deleteGvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}function fe(t,e){if(1&t&&(m.jc(0,"div"),m.jc(1,"p"),m.Xc(2),m.ic(),m.jc(3,"p"),m.jc(4,"i"),m.Xc(5),m.ic(),m.ic(),m.ec(6,"mat-divider"),m.jc(7,"div",5),m.jc(8,"pre",6),m.Xc(9),m.ic(),m.ic(),m.ic()),2&t){const t=m.vc();m.Rb(2),m.Zc(" ",t.activeGvar.key," "),m.Rb(3),m.Zc("Owned by: ",t.activeGvar.owner_name,""),m.Rb(4),m.Yc(t.activeGvar.value)}}function ge(t,e){if(1&t&&(m.jc(0,"div"),m.jc(1,"p",7),m.Xc(2),m.ic(),m.ic()),2&t){const t=m.vc();m.Rb(2),m.Zc(" ",t.error," ")}}be.\u0275fac=function(t){return new(t||be)(m.dc(C.b),m.dc(dt.b),m.dc(Kt))},be.\u0275cmp=m.Xb({type:be,selectors:[["avr-gvar-list"]],inputs:{data:"data",owned:"owned"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["mat-icon-button","",3,"click",4,"ngIf"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(t,e){1&t&&(m.jc(0,"table",0),m.hc(1,1),m.Wc(2,te,2,0,"th",2),m.Wc(3,ee,2,1,"td",3),m.Wc(4,ce,2,1,"td",4),m.gc(),m.hc(5,5),m.Wc(6,ae,2,0,"th",6),m.Wc(7,ne,3,1,"td",3),m.Wc(8,ie,1,0,"td",4),m.gc(),m.hc(9,7),m.Wc(10,oe,1,0,"th",8),m.Wc(11,se,5,1,"td",3),m.Wc(12,de,2,1,"td",4),m.gc(),m.Wc(13,me,1,0,"tr",9),m.Wc(14,ue,1,0,"tr",10),m.Wc(15,pe,2,1,"div",11),m.ic()),2&t&&(m.Ac("dataSource",e.data),m.Rb(13),m.Ac("matHeaderRowDef",e.columnsToDisplay),m.Rb(1),m.Ac("matRowDefColumns",e.columnsToDisplay),m.Rb(1),m.Ac("ngIf",e.owned))},directives:[mt.o,mt.c,mt.i,mt.b,mt.e,mt.k,mt.n,a.t,mt.h,mt.a,mt.d,A.b,b.a,mt.j,mt.m,mt.g,mt.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:55%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class ve{constructor(t,e){this.gvarService=t,this.route=e}ngOnInit(){this.checkForLookupQuery()}lookupGvar(t){t=t.trim(),console.log(t);const e=new URLSearchParams(window.location.search);e.set("lookup",t);const c=window.location.pathname+"?"+e.toString();history.pushState(null,"",c),this.gvarService.getGvar(t).subscribe(t=>{this.activeGvar=null,this.error=null,!1===t?this.error="Failed to get gvar.":this.activeGvar=t})}checkForLookupQuery(){const t=this.route.snapshot.queryParamMap.get("lookup");t&&this.lookupGvar(t)}}ve.\u0275fac=function(t){return new(t||ve)(m.dc(Kt),m.dc(s.a))},ve.\u0275cmp=m.Xb({type:ve,selectors:[["avr-gvar-lookup"]],decls:7,vars:2,consts:[[1,"lookup-id-input"],["matInput","","placeholder","Gvar ID"],["lookupIdInput",""],["mat-flat-button","","color","primary",3,"click"],[4,"ngIf"],[1,"gvar-value-container"],[1,"gvar-value-display"],[2,"color","red"]],template:function(t,e){if(1&t){const t=m.kc();m.jc(0,"mat-form-field",0),m.ec(1,"input",1,2),m.ic(),m.jc(3,"button",3),m.rc("click",(function(){m.Mc(t);const c=m.Jc(2);return e.lookupGvar(c.value)})),m.Xc(4,"Lookup"),m.ic(),m.Wc(5,fe,10,3,"div",4),m.Wc(6,ge,3,1,"div",4)}2&t&&(m.Rb(5),m.Ac("ngIf",e.activeGvar),m.Rb(1),m.Ac("ngIf",e.error))},directives:[R.c,S.a,A.b,a.t,D.a],styles:[".lookup-id-input[_ngcontent-%COMP%]{margin-right:4px;width:50%}.gvar-value-container[_ngcontent-%COMP%]{padding-top:1em}.gvar-value-display[_ngcontent-%COMP%]{white-space:pre-wrap;background-color:rgba(0,0,0,.1);margin:0;border:1px solid rgba(0,0,0,.15);border-radius:6px}"]});class je{constructor(t,e){this.gvarService=t,this.route=e}ngOnInit(){this.getCustomizations(),this.checkForLookupQuery()}getCustomizations(){this.gvars=this.gvarService.getAllGvars()}checkForLookupQuery(){this.route.snapshot.queryParamMap.get("lookup")&&(this.forcedTabIndex=2)}}je.\u0275fac=function(t){return new(t||je)(m.dc(Kt),m.dc(s.a))},je.\u0275cmp=m.Xb({type:je,selectors:[["avr-gvars"]],decls:11,vars:9,consts:[[1,"container"],[3,"selectedIndex","selectedIndexChange"],["label","Owned"],[3,"data","owned"],["label","Editable"],["label","Lookup"]],template:function(t,e){if(1&t&&(m.jc(0,"div",0),m.jc(1,"mat-card"),m.jc(2,"mat-tab-group",1),m.rc("selectedIndexChange",(function(t){return e.forcedTabIndex=t})),m.jc(3,"mat-tab",2),m.ec(4,"avr-gvar-list",3),m.wc(5,"async"),m.ic(),m.jc(6,"mat-tab",4),m.ec(7,"avr-gvar-list",3),m.wc(8,"async"),m.ic(),m.jc(9,"mat-tab",5),m.ec(10,"avr-gvar-lookup"),m.ic(),m.ic(),m.ic(),m.ic()),2&t){var c;const t=null==(c=m.xc(5,5,e.gvars))?null:c.owned;var a;const n=null==(a=m.xc(8,7,e.gvars))?null:a.editable;m.Rb(2),m.Ac("selectedIndex",e.forcedTabIndex),m.Rb(2),m.Ac("data",t)("owned",!0),m.Rb(3),m.Ac("data",n)("owned",!1)}},directives:[J.a,Y.c,Y.a,be,ve],pipes:[a.b],styles:[".container[_ngcontent-%COMP%]{margin:8px}"]});var we=c("E6a1");class ke{constructor(t){this.router=t}canActivate(t,e){return!!Object(l.b)()||(Object(we.c)("after-login-redirect",e.url),Object(l.c)(),!1)}}ke.\u0275fac=function(t){return new(t||ke)(m.nc(s.b))},ke.\u0275prov=m.Zb({token:ke,factory:ke.\u0275fac,providedIn:"root"});const Ce=[{path:"",canActivate:[ke],component:j,children:[{path:"characters",component:q},{path:"aliases",component:Yt},{path:"gvars",component:je},{path:"homebrew",loadChildren:()=>c.e(11).then(c.bind(null,"XljO")).then(t=>t.HomebrewModule)},{path:"workshop",loadChildren:()=>c.e(10).then(c.bind(null,"vTLJ")).then(t=>t.WorkshopModule)},{path:"",redirectTo:"characters",pathMatch:"full"}]}];class Oe{}Oe.\u0275mod=m.bc({type:Oe}),Oe.\u0275inj=m.ac({factory:function(t){return new(t||Oe)},imports:[[s.d.forChild(Ce)],s.d]});class ye{}ye.\u0275mod=m.bc({type:ye}),ye.\u0275inj=m.ac({factory:function(t){return new(t||ye)},imports:[[a.c,o.a,i.h,Oe,n.i,r.a]]})},XwxW:function(t,e,c){"use strict";c.d(e,"a",(function(){return g}));var a=c("0IaG"),n=c("fXoL"),i=c("ofXK"),o=c("bTqV"),r=c("kmnG"),s=c("qFsG"),l=c("3Pt+"),d=c("MutI"),m=c("Xa2L");function u(t,e){if(1&t){const t=n.kc();n.jc(0,"mat-list-item",9),n.rc("click",(function(){n.Mc(t);const c=e.$implicit;return n.vc(3).select(c)})),n.Xc(1),n.ic()}if(2&t){const t=e.$implicit,c=n.vc(3);n.Rb(1),n.Zc(" ",c.data.namer(t)," ")}}function h(t,e){if(1&t&&(n.jc(0,"div",7),n.jc(1,"mat-list"),n.Wc(2,u,2,1,"mat-list-item",8),n.ic(),n.ic()),2&t){const t=n.vc(2);n.Rb(2),n.Ac("ngForOf",t.filteredTemplates)}}function p(t,e){1&t&&(n.jc(0,"div",7),n.Xc(1," No results found. "),n.ic())}function b(t,e){if(1&t){const t=n.kc();n.jc(0,"mat-dialog-content",3),n.jc(1,"div",4),n.jc(2,"mat-form-field"),n.jc(3,"input",5),n.rc("ngModelChange",(function(e){n.Mc(t);return n.vc().search=e}))("keyup",(function(){n.Mc(t);return n.vc().filterTemplates()})),n.ic(),n.ic(),n.ic(),n.Wc(4,h,3,1,"div",6),n.Wc(5,p,2,0,"div",6),n.ic()}if(2&t){const t=n.vc();n.Rb(3),n.Ac("ngModel",t.search),n.Rb(1),n.Ac("ngIf",null==t.filteredTemplates?null:t.filteredTemplates.length),n.Rb(1),n.Ac("ngIf",!(null!=t.filteredTemplates&&t.filteredTemplates.length))}}function f(t,e){1&t&&(n.jc(0,"mat-dialog-content",3),n.ec(1,"mat-spinner",10),n.ic()),2&t&&(n.Rb(1),n.Ac("diameter",24))}class g{constructor(t,e){this.data=t,this.dialogRef=e,this.search=""}ngOnInit(){this.getTemplates()}select(t){this.dialogRef.close(t)}filterTemplates(){this.filteredTemplates=this.templates.filter(t=>this.data.namer(t).toLowerCase().includes(this.search.toLowerCase()))}getTemplates(){this.data.getter().subscribe(t=>{this.templates=t,this.filterTemplates()})}}g.\u0275fac=function(t){return new(t||g)(n.dc(a.a),n.dc(a.h))},g.\u0275cmp=n.Xb({type:g,selectors:[["avr-srd-copy-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","keyup"],["class","results",4,"ngIf"],[1,"results"],["class","hoverable pointer",3,"click",4,"ngFor","ngForOf"],[1,"hoverable","pointer",3,"click"],[3,"diameter"]],template:function(t,e){1&t&&(n.jc(0,"h2",0),n.Xc(1,"Copying SRD object..."),n.ic(),n.Wc(2,b,6,3,"mat-dialog-content",1),n.Wc(3,f,2,1,"mat-dialog-content",1),n.jc(4,"mat-dialog-actions"),n.jc(5,"button",2),n.Xc(6,"Cancel"),n.ic(),n.ic()),2&t&&(n.Rb(2),n.Ac("ngIf",e.templates),n.Rb(1),n.Ac("ngIf",!e.templates))},directives:[a.i,i.t,a.c,o.b,a.d,a.f,r.c,s.a,l.c,l.n,l.q,d.a,i.s,d.d,m.c],encapsulation:2})},hMdP:function(t,e,c){"use strict";c.d(e,"a",(function(){return d}));var a=c("0IaG"),n=c("fXoL"),i=c("kmnG"),o=c("qFsG"),r=c("bTqV"),s=c("Qu3c"),l=c("NFeN");class d{constructor(t){this.data=t,this.jsonData=JSON.stringify(this.data.data)}ngOnInit(){}copy(t){t.select(),document.execCommand("copy"),t.setSelectionRange(0,0)}}d.\u0275fac=function(t){return new(t||d)(n.dc(a.a))},d.\u0275cmp=n.Xb({type:d,selectors:[["avr-json-export-dialog"]],decls:13,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],["matInput","","readonly","","placeholder","JSON","rows","10",3,"value"],["jsonElem",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Copy","matTooltip","Copy to clipboard",3,"click"],["mat-button","","mat-dialog-close",""]],template:function(t,e){if(1&t){const t=n.kc();n.jc(0,"h2",0),n.Xc(1),n.ic(),n.jc(2,"mat-dialog-content",1),n.jc(3,"div",2),n.jc(4,"mat-form-field"),n.ec(5,"textarea",3,4),n.jc(7,"button",5),n.rc("click",(function(){n.Mc(t);const c=n.Jc(6);return e.copy(c)})),n.jc(8,"mat-icon"),n.Xc(9,"file_copy"),n.ic(),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(10,"mat-dialog-actions"),n.jc(11,"button",6),n.Xc(12,"Done"),n.ic(),n.ic()}2&t&&(n.Rb(1),n.Zc("JSON - ",e.data.name,""),n.Rb(4),n.Ac("value",e.jsonData))},directives:[a.i,a.f,i.c,o.a,r.b,i.j,s.a,l.a,a.c,a.d],styles:[".form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]})}}]);
//# sourceMappingURL=9-es2015.b75353aab603211f1f16.js.map