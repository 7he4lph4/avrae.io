(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9qBq":function(t,e,c){"use strict";c.d(e,"a",(function(){return h}));var a=c("0IaG"),n=c("fXoL"),i=c("kmnG"),o=c("qFsG"),r=c("3Pt+"),s=c("ofXK"),l=c("bTqV"),d=c("Xa2L");function u(t,e){if(1&t&&(n.jc(0,"mat-error"),n.Wc(1),n.ic()),2&t){const t=n.uc();n.Rb(1),n.Xc(t.error)}}function m(t,e){1&t&&n.ec(0,"mat-spinner",8),2&t&&n.zc("diameter",18)}class h{constructor(t,e){this.dialogRef=t,this.input=e,this.loading=!1}ngOnInit(){}validateAndExit(){let t;this.loading=!0,this.error=null;try{t=JSON.parse(this.data)}catch(e){return this.error="Invalid data format",void(this.loading=!1)}this.input.validator?this.input.validator(t):this.dialogRef.close(t)}}h.\u0275fac=function(t){return new(t||h)(n.dc(a.h),n.dc(a.a))},h.\u0275cmp=n.Xb({type:h,selectors:[["avr-json-import-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","JSON","rows","10",3,"ngModel","ngModelChange"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[3,"diameter",4,"ngIf"],[3,"diameter"]],template:function(t,e){1&t&&(n.jc(0,"h2",0),n.Wc(1,"Importing from JSON..."),n.ic(),n.jc(2,"mat-dialog-content",1),n.jc(3,"p"),n.Wc(4," Paste your JSON here. This should be either an object or list exported from this site. "),n.ic(),n.jc(5,"div",2),n.jc(6,"mat-form-field"),n.jc(7,"textarea",3),n.qc("ngModelChange",(function(t){return e.data=t})),n.ic(),n.ic(),n.ic(),n.Vc(8,u,2,1,"mat-error",4),n.ic(),n.jc(9,"mat-dialog-actions"),n.jc(10,"button",5),n.Wc(11,"Cancel"),n.ic(),n.jc(12,"button",6),n.qc("click",(function(){return e.validateAndExit()})),n.Wc(13," Import "),n.ic(),n.Vc(14,m,1,1,"mat-spinner",7),n.ic()),2&t&&(n.Rb(7),n.zc("ngModel",e.data),n.Rb(1),n.zc("ngIf",e.error),n.Rb(6),n.zc("ngIf",e.loading))},directives:[a.i,a.f,i.c,o.a,r.c,r.n,r.q,s.t,a.c,l.b,a.d,i.b,d.c],styles:[".form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]})},D33r:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var a=c("0IaG"),n=c("fXoL"),i=c("ofXK"),o=c("bTqV");function r(t,e){if(1&t&&(n.jc(0,"p"),n.Wc(1),n.ic()),2&t){const t=n.uc();n.Rb(1),n.Yc(" ",t.data.message," ")}}class s{constructor(t){this.data=t}ngOnInit(){}}s.\u0275fac=function(t){return new(t||s)(n.dc(a.a))},s.\u0275cmp=n.Xb({type:s,selectors:[["avr-confirm-delete-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(n.jc(0,"h2",0),n.Wc(1),n.ic(),n.jc(2,"mat-dialog-content",1),n.jc(3,"p"),n.Wc(4),n.ic(),n.Vc(5,r,2,1,"p",2),n.ic(),n.jc(6,"mat-dialog-actions"),n.jc(7,"button",3),n.Wc(8,"No"),n.ic(),n.jc(9,"button",4),n.Wc(10,"Yes"),n.ic(),n.ic()),2&t&&(n.Rb(1),n.Yc("Deleting ",e.data.name,""),n.Rb(3),n.Yc(" Are you sure you want to delete ",e.data.name,"? "),n.Rb(1),n.zc("ngIf",e.data.message),n.Rb(4),n.zc("mat-dialog-close",!0))},directives:[a.i,a.f,i.t,a.c,o.b,a.d],styles:[""]})},QAUA:function(t,e,c){"use strict";c.d(e,"a",(function(){return h}));var a=c("LRne"),n=c("JIr8"),i=c("AytR"),o=(c("rHON"),c("2xJ4")),r=c("fXoL"),s=c("tk/3");i.a.apiURL;const l=i.a.apiURL+"/userStats",d=i.a.apiURL+"/characters",u=d+"/meta",m=i.a.apiURL+"/customizations";class h{constructor(t){this.http=t}getUserStats(){return this.http.get(l,Object(o.b)())}getCharacterMeta(){return this.http.get(u,Object(o.b)())}getCharacterAttacks(t){const e=`${d}/${t}/attacks`;return this.http.get(e,Object(o.b)())}getTemplateAttacks(){return this.http.get(d+"/attacks/srd",Object(o.b)())}putCharacterAttacks(t,e){const c=`${d}/${t}/attacks`;return this.http.put(c,e,Object(o.c)()).pipe(Object(n.a)(t=>Object(a.a)(!1)))}validateAttackJSON(t){const e=d+"/attacks/validate";return this.http.post(e,t,Object(o.b)()).pipe(Object(n.a)(t=>(console.error(t),Object(a.a)({success:!1,result:t.error}))))}getCustomizations(){return this.http.get(m,Object(o.b)())}}h.\u0275fac=function(t){return new(t||h)(r.nc(s.b))},h.\u0275prov=r.Zb({token:h,factory:h.\u0275fac,providedIn:"root"})},TDBs:function(t,e,c){"use strict";c.r(e),c.d(e,"DashboardModule",(function(){return ye}));var a=c("ofXK"),n=c("XiUz"),i=c("3Pt+"),o=c("hctd"),r=c("WVau"),s=c("tyNb"),l=c("fD3i"),d=c("QAUA"),u=c("fXoL"),m=c("XhcP"),h=c("MutI"),p=c("7EHt"),f=c("NFeN");const g=function(){return["characters"]},b=function(){return["aliases"]},v=function(){return["gvars"]};class j{constructor(t,e){this.router=t,this.dashboardService=e,Object(l.b)()||this.router.navigate(["login"])}logout(){Object(l.d)(),this.router.navigate([""])}}j.\u0275fac=function(t){return new(t||j)(u.dc(s.b),u.dc(d.a))},j.\u0275cmp=u.Xb({type:j,selectors:[["avr-dashboard"]],decls:43,vars:6,consts:[[1,"sidenav-container"],["opened","","mode","side","fixedTopGap","56px","disableClose","true",1,"sidenav","mat-elevation-z3"],["mat-list-item","",3,"routerLink"],["expanded","",1,"mat-elevation-z0"],[1,"nav-panel"],[1,"nav-panel-body"],["mat-list-item","","routerLink","/dashboard/workshop"],["mat-list-item","","routerLink","/dashboard/workshop/my-subscriptions"],["mat-list-item","","routerLink","/dashboard/workshop/my-work"],["mat-list-item","","routerLink","/dashboard/homebrew/items"],["mat-list-item","","routerLink","/dashboard/homebrew/spells"],["mat-list-item","","href","https://critterdb.com/#/index","target","_blank","rel","noopener noreferrer"],[1,"icon-in-panel"],[1,"spacer"],["mat-list-item","",3,"click"]],template:function(t,e){1&t&&(u.jc(0,"mat-sidenav-container",0),u.jc(1,"mat-sidenav",1),u.jc(2,"mat-nav-list"),u.jc(3,"a",2),u.Wc(4,"Characters"),u.ic(),u.jc(5,"mat-expansion-panel",3),u.jc(6,"mat-expansion-panel-header"),u.jc(7,"mat-panel-title",4),u.Wc(8," Alias Workshop "),u.ic(),u.ic(),u.jc(9,"div",5),u.jc(10,"a",6),u.Wc(11,"Explore"),u.ic(),u.jc(12,"a",7),u.Wc(13,"My Subscriptions"),u.ic(),u.jc(14,"a",8),u.Wc(15,"My Work"),u.ic(),u.ic(),u.ic(),u.jc(16,"mat-expansion-panel",3),u.jc(17,"mat-expansion-panel-header"),u.jc(18,"mat-panel-title",4),u.Wc(19," Customization "),u.ic(),u.ic(),u.jc(20,"div",5),u.jc(21,"a",2),u.Wc(22,"My Customizations"),u.ic(),u.jc(23,"a",2),u.Wc(24,"Global Variables"),u.ic(),u.ic(),u.ic(),u.jc(25,"mat-expansion-panel",3),u.jc(26,"mat-expansion-panel-header"),u.jc(27,"mat-panel-title",4),u.Wc(28," Homebrew "),u.ic(),u.ic(),u.jc(29,"div",5),u.jc(30,"a",9),u.Wc(31,"Items"),u.ic(),u.jc(32,"a",10),u.Wc(33,"Spells"),u.ic(),u.jc(34,"a",11),u.Wc(35,"Creatures "),u.jc(36,"mat-icon",12),u.Wc(37,"launch"),u.ic(),u.ic(),u.ic(),u.ic(),u.ec(38,"div",13),u.jc(39,"a",14),u.qc("click",(function(){return e.logout()})),u.Wc(40,"Logout"),u.ic(),u.ic(),u.ic(),u.jc(41,"mat-sidenav-content"),u.ec(42,"router-outlet"),u.ic(),u.ic()),2&t&&(u.Rb(3),u.zc("routerLink",u.Cc(3,g)),u.Rb(18),u.zc("routerLink",u.Cc(4,b)),u.Rb(2),u.zc("routerLink",u.Cc(5,v)))},directives:[m.e,m.d,h.h,h.d,s.c,p.c,p.g,p.h,f.a,m.f,s.e],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.spacer[_ngcontent-%COMP%]{height:32px}mat-expansion-panel-header[_ngcontent-%COMP%]{transition:background-color .5s ease-in-out;padding-left:16px}mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - (56px + 56px))}.nav-panel[_ngcontent-%COMP%]{text-decoration:none;font-weight:300}.nav-panel-body[_ngcontent-%COMP%]{margin:0 -24px -16px}.nav-panel-body[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0 24px;height:36px;font-size:90%}.icon-in-panel[_ngcontent-%COMP%]{font-size:16px;height:16px;padding-left:4px}@media only screen and (max-width:840px){.sidenav[_ngcontent-%COMP%]{width:150px}}"]});var w=c("LRne"),C=c("2xJ4"),k=c("0IaG");class O{constructor(t="",e=[],c=!1,a=null){this.name=t,this.automation=e,this._v=2,this.proper=c,this.verb=a}}var y=c("hMdP"),x=c("9qBq"),R=c("XwxW"),M=c("bTqV"),I=c("kmnG"),_=c("d3UM"),W=c("FKr1"),D=c("Qu3c"),S=c("f0Cb"),z=c("qFsG"),P=c("bSwM"),A=c("UgTo"),V=c("Xa2L");function N(t,e){if(1&t&&(u.jc(0,"mat-option",21),u.Wc(1),u.ic()),2&t){const t=e.$implicit;u.zc("value",t),u.Rb(1),u.Yc(" ",t.name," ")}}function L(t,e){1&t&&(u.jc(0,"p"),u.Wc(1,"Please select an attack."),u.ic())}function T(t,e){if(1&t){const t=u.kc();u.jc(0,"div"),u.jc(1,"div",22),u.jc(2,"mat-form-field",17),u.jc(3,"input",23),u.qc("ngModelChange",(function(e){u.Lc(t);return u.uc(2).selectedAttack.name=e})),u.ic(),u.ic(),u.ec(4,"span",17),u.jc(5,"span",10),u.jc(6,"button",24),u.qc("click",(function(){u.Lc(t);const e=u.uc(2);return e.deleteAttack(e.selectedAttack)})),u.jc(7,"mat-icon"),u.Wc(8,"delete"),u.ic(),u.ic(),u.ic(),u.jc(9,"span",10),u.jc(10,"button",25),u.qc("click",(function(){u.Lc(t);const e=u.uc(2);return e.beginJSONExport(e.selectedAttack)})),u.jc(11,"mat-icon",26),u.Wc(12,"vertical_align_top"),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(13,"div",27),u.jc(14,"mat-checkbox",28),u.qc("ngModelChange",(function(e){u.Lc(t);return u.uc(2).selectedAttack.proper=e})),u.Wc(15,"Proper Noun"),u.ic(),u.jc(16,"mat-form-field",10),u.jc(17,"input",29),u.qc("ngModelChange",(function(e){u.Lc(t);return u.uc(2).selectedAttack.verb=e})),u.ic(),u.ic(),u.jc(18,"span",30),u.Wc(19),u.ic(),u.ec(20,"span",17),u.ic(),u.ec(21,"avr-automation-editor",31),u.ic()}if(2&t){const t=u.uc(2);u.Rb(3),u.zc("ngModel",t.selectedAttack.name),u.Rb(11),u.zc("ngModel",t.selectedAttack.proper),u.Rb(3),u.zc("ngModel",t.selectedAttack.verb),u.Rb(2),u.ad(" Display: ",t.character.name," ",t.selectedAttack.verb||"attacks with"," ",t.selectedAttack.proper?t.selectedAttack.name:"a "+t.selectedAttack.name,"! "),u.Rb(2),u.zc("automation",t.selectedAttack.automation)}}function q(t,e){if(1&t&&(u.jc(0,"p",32),u.Wc(1),u.ic()),2&t){const t=u.uc(2);u.Rb(1),u.Yc(" ",t.errorValue," ")}}function E(t,e){if(1&t){const t=u.kc();u.jc(0,"mat-dialog-content",4),u.jc(1,"div"),u.jc(2,"p"),u.Wc(3," Need help using the editor? Check out the docs "),u.jc(4,"a",5),u.Wc(5,"here"),u.ic(),u.Wc(6,"! "),u.ic(),u.ic(),u.jc(7,"div",6),u.jc(8,"mat-form-field"),u.jc(9,"mat-label"),u.Wc(10,"Select an attack"),u.ic(),u.jc(11,"mat-select",7),u.qc("valueChange",(function(e){u.Lc(t);return u.uc().selectedAttack=e})),u.Vc(12,N,2,2,"mat-option",8),u.jc(13,"mat-option",9),u.qc("click",(function(){u.Lc(t);return u.uc().addAndSelectNewAttack()})),u.Wc(14,"New..."),u.ic(),u.ic(),u.ic(),u.jc(15,"span",10),u.jc(16,"button",11),u.qc("click",(function(){u.Lc(t);return u.uc().beginJSONImport()})),u.jc(17,"mat-icon",12),u.Wc(18,"vertical_align_bottom"),u.ic(),u.ic(),u.ic(),u.jc(19,"span",10),u.jc(20,"button",13),u.qc("click",(function(){u.Lc(t);return u.uc().newFromSRD()})),u.jc(21,"mat-icon",14),u.Wc(22,"scanner"),u.ic(),u.ic(),u.ic(),u.jc(23,"span",10),u.jc(24,"button",15),u.qc("click",(function(){u.Lc(t);const e=u.uc();return e.beginJSONExport(e.allAttacks)})),u.jc(25,"mat-icon",16),u.Wc(26,"vertical_align_top"),u.ic(),u.ic(),u.ic(),u.ec(27,"span",17),u.ic(),u.ec(28,"mat-divider",18),u.Vc(29,L,2,0,"p",19),u.Vc(30,T,22,7,"div",19),u.Vc(31,q,2,1,"p",20),u.ic()}if(2&t){const t=u.uc();u.Rb(11),u.zc("value",t.selectedAttack),u.Rb(1),u.zc("ngForOf",t.allAttacks),u.Rb(17),u.zc("ngIf",!t.selectedAttack),u.Rb(1),u.zc("ngIf",t.selectedAttack),u.Rb(1),u.zc("ngIf",t.errorValue)}}function $(t,e){1&t&&(u.jc(0,"mat-dialog-content",4),u.ec(1,"mat-spinner",33),u.jc(2,"p"),u.Wc(3," Loading attacks... "),u.ic(),u.ic()),2&t&&(u.Rb(1),u.zc("diameter",24))}class X{constructor(t,e,c,a){this.character=t,this.charService=e,this.dialogRef=c,this.dialog=a,this.saveButtonValue="Save and Exit",this.saveButtonDisabled=!1}ngOnInit(){this.loadAttacks()}loadAttacks(){this.charService.getCharacterAttacks(this.character.upstream).subscribe(t=>{this.allAttacks=t})}addAndSelectNewAttack(){const t=new O;this.allAttacks.push(t),this.selectedAttack=t}newFromSRD(){this.dialog.open(R.a,{width:"60%",disableClose:!0,data:{getter:()=>this.charService.getTemplateAttacks(),namer:t=>t.name}}).afterClosed().subscribe(t=>{t&&(this.allAttacks.push(t),this.selectedAttack=t)})}deleteAttack(t){const e=this.allAttacks.indexOf(t);e>-1&&this.allAttacks.splice(e,1),this.selectedAttack=null}saveAndExit(){this.saveButtonValue="Saving...",this.saveButtonDisabled=!0,this.charService.putCharacterAttacks(this.character.upstream,this.allAttacks).subscribe(t=>{this.saveButtonValue="Save and Exit",this.saveButtonDisabled=!1,t?this.dialogRef.close():this.errorValue="Failed to save attacks."})}beginJSONExport(t){this.dialog.open(y.a,{data:{name:t instanceof Array?"All Attacks":t.name,data:t},width:"60%"})}beginJSONImport(){const t=this.dialog.open(x.a,{width:"60%",disableClose:!0,data:{validator:e=>this.validateAttackJSON(t,e)}});t.afterClosed().subscribe(t=>{if(t){const e=t;e instanceof Array?this.allAttacks.push(...e):this.allAttacks.push(e)}})}validateAttackJSON(t,e){this.charService.validateAttackJSON(e).subscribe(e=>{console.log(e),t.componentInstance.loading=!1,e.success?t.close(JSON.parse(t.componentInstance.data)):t.componentInstance.error=e.result})}}X.\u0275fac=function(t){return new(t||X)(u.dc(k.a),u.dc(d.a),u.dc(k.h),u.dc(k.b))},X.\u0275cmp=u.Xb({type:X,selectors:[["avr-attack-editor-dialog"]],decls:9,vars:5,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],[1,"mat-typography"],["href","https://avrae.readthedocs.io/en/latest/automation_ref.html","target","_blank","rel","noopener noreferrer"],["fxLayout","row"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["fxFlex",""],["mat-icon-button","","matTooltip","Import JSON",3,"click"],["aria-label","Import from JSON"],["mat-icon-button","","matTooltip","Copy SRD Monster Action",3,"click"],["aria-label","Copy SRD Monster Action"],["mat-icon-button","","matTooltip","Export All to JSON",3,"click"],["aria-label","Export All to JSON"],["fxFlex","grow"],[1,"beefy-divider"],[4,"ngIf"],["class","error-text",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutGap","4px"],["matInput","","placeholder","Attack Name",3,"ngModel","ngModelChange"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","matTooltip","Export to JSON",3,"click"],["aria-label","Export to JSON"],["fxLayout","row","fxLayoutGap","4px","fxLayoutAlign","center center"],["fxFlex","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Verb",3,"ngModel","ngModelChange"],["fxFlex","noshrink"],[3,"automation"],[1,"error-text"],[3,"diameter"]],template:function(t,e){1&t&&(u.jc(0,"h2",0),u.Wc(1),u.ic(),u.Vc(2,E,32,5,"mat-dialog-content",1),u.Vc(3,$,4,1,"mat-dialog-content",1),u.jc(4,"mat-dialog-actions"),u.jc(5,"button",2),u.Wc(6,"Cancel"),u.ic(),u.jc(7,"button",3),u.qc("click",(function(){return e.saveAndExit()})),u.Wc(8),u.ic(),u.ic()),2&t&&(u.Rb(1),u.Yc("Editing Attacks: ",e.character.name,""),u.Rb(1),u.zc("ngIf",e.allAttacks),u.Rb(1),u.zc("ngIf",!e.allAttacks),u.Rb(4),u.zc("disabled",e.saveButtonDisabled),u.Rb(1),u.Xc(e.saveButtonValue))},directives:[k.i,a.t,k.c,M.b,k.d,k.f,n.f,I.c,I.g,_.a,a.s,W.j,n.b,D.a,f.a,S.a,n.g,z.a,i.c,i.n,i.q,n.e,P.a,A.a,V.c],styles:[".beefy-divider[_ngcontent-%COMP%]{margin-bottom:1em}.error-text[_ngcontent-%COMP%]{color:red}"]});var G=c("zkoq"),F=c("Wp6s");function U(t,e){if(1&t&&(u.jc(0,"mat-card",5),u.jc(1,"mat-grid-list",6),u.jc(2,"mat-grid-tile"),u.ec(3,"img",7),u.vc(4,"async"),u.ic(),u.jc(5,"mat-grid-tile",8),u.jc(6,"div"),u.jc(7,"h1",9),u.Wc(8),u.vc(9,"async"),u.jc(10,"span",10),u.Wc(11),u.vc(12,"async"),u.ic(),u.ic(),u.jc(13,"p",11),u.Wc(14),u.vc(15,"async"),u.ec(16,"br"),u.Wc(17),u.vc(18,"async"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()),2&t){const t=u.uc();var c,a,n,i,o;u.Rb(3),u.zc("src",null==(c=u.wc(4,5,t.userInfo))?null:c.avatarUrl,u.Nc),u.Rb(5),u.Yc(" ",null==(a=u.wc(9,7,t.userInfo))?null:a.username,""),u.Rb(3),u.Yc("#",null==(n=u.wc(12,9,t.userInfo))?null:n.discriminator,""),u.Rb(3),u.Yc(" Characters: ",null==(i=u.wc(15,11,t.userStats))?null:i.numCharacters,""),u.Rb(3),u.Yc(" Customizations: ",null==(o=u.wc(18,13,t.userStats))?null:o.numCustomizations," ")}}function B(t,e){if(1&t&&(u.jc(0,"p",21),u.Wc(1),u.ic()),2&t){const t=u.uc().$implicit,e=u.uc();u.Rb(1),u.Yc(" ",e.getInitials(t.name)," ")}}function J(t,e){if(1&t&&u.ec(0,"img",22),2&t){const t=u.uc().$implicit,e=u.uc();u.zc("src",e.getImage(t),u.Nc)("alt","Image for "+t.name)}}function H(t,e){if(1&t){const t=u.kc();u.jc(0,"mat-grid-tile",12),u.jc(1,"div",13),u.Vc(2,B,2,1,"p",14),u.ic(),u.Vc(3,J,1,2,"img",15),u.jc(4,"div",16),u.jc(5,"div",17),u.jc(6,"h3"),u.Wc(7),u.ic(),u.Wc(8),u.ic(),u.jc(9,"div",18),u.jc(10,"a",19),u.jc(11,"mat-icon"),u.Wc(12,"menu_book"),u.ic(),u.ic(),u.jc(13,"button",20),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().beginEditAttacks(c)})),u.jc(14,"mat-icon"),u.Wc(15,"build"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}if(2&t){const t=e.$implicit,c=u.uc();u.Rb(2),u.zc("ngIf",!c.getImage(t)),u.Rb(1),u.zc("ngIf",c.getImage(t)),u.Rb(4),u.Yc(" ",t.name," "),u.Rb(1),u.Yc(" ",c.getDescription(t)," "),u.Rb(2),u.zc("href",c.getUpstreamURL(t.upstream),u.Nc),u.Rb(3),u.zc("matTooltip",t.import_version<c.MIN_CHARACTER_AUTOMATION_VERSION?"Please !update your character to use Automation.":"Edit Attacks")}}class Y{constructor(t,e){this.dashboardService=t,this.dialog=e,this.MIN_CHARACTER_AUTOMATION_VERSION=17}ngOnInit(){this.getUserInfo(),this.getUserStats(),this.getCharacters(),this.onResize(null)}getUserInfo(){this.userInfo=Object(w.a)(Object(C.d)())}getUserStats(){this.userStats=this.dashboardService.getUserStats()}getCharacters(){this.characters=this.dashboardService.getCharacterMeta()}getInitials(t){const e=t.match(/\b\w/g)||[];return((e.shift()||"")+(e.pop()||"")).toUpperCase()}getImage(t){return t.overrides.image||t.image}getDescription(t){return t.overrides.desc||t.description}getUpstreamURL(t){return t.startsWith("dicecloud-")?"https://dicecloud.com/character/"+t.slice(10):t.startsWith("google-")?"https://docs.google.com/spreadsheets/d/"+t.slice(7):t.startsWith("beyond-")?"https://ddb.ac/characters/"+t.slice(7):""}beginEditAttacks(t){t.import_version<this.MIN_CHARACTER_AUTOMATION_VERSION||this.dialog.open(X,{width:"75%",disableClose:!0,data:t}).afterClosed().subscribe(t=>{console.log(t)})}onResize(t){window.innerWidth<600?this.numCols=1:window.innerWidth<1024?this.numCols=2:window.innerWidth<1440?this.numCols=4:this.numCols=6}}Y.\u0275fac=function(t){return new(t||Y)(u.dc(d.a),u.dc(k.b))},Y.\u0275cmp=u.Xb({type:Y,selectors:[["avr-characters"]],decls:7,vars:7,consts:[[1,"characterList"],["class","user-card",4,"ngIf"],[1,"spacer-8px"],["rowHeight","5:6","gutterSize","8",3,"cols","resize"],["class","character-tile",4,"ngFor","ngForOf"],[1,"user-card"],["cols","4","rowHeight","1:1"],["alt","avatar",1,"avatarImg","mat-elevation-z1",3,"src"],["colspan","3"],[1,"mat-display-2","smallmargin"],[1,"mat-small"],[1,"mat-h3"],[1,"character-tile"],[1,"character-name-underlay","mat-typography","character-image"],["class","ignore-theme",4,"ngIf"],["class","character-image",3,"src","alt",4,"ngIf"],[1,"character-meta"],[1,"mat-typography","ignore-theme","character-text"],[1,"mat-typography","ignore-theme","character-actions"],["mat-icon-button","","matTooltip","View Sheet","target","_blank",3,"href"],["mat-icon-button","",3,"matTooltip","click"],[1,"ignore-theme"],[1,"character-image",3,"src","alt"]],template:function(t,e){1&t&&(u.jc(0,"div",0),u.Vc(1,U,19,15,"mat-card",1),u.vc(2,"async"),u.ec(3,"div",2),u.jc(4,"mat-grid-list",3),u.qc("resize",(function(t){return e.onResize(t)}),!1,u.Kc),u.Vc(5,H,16,6,"mat-grid-tile",4),u.vc(6,"async"),u.ic(),u.ic()),2&t&&(u.Rb(1),u.zc("ngIf",u.wc(2,3,e.userInfo)),u.Rb(3),u.zc("cols",e.numCols),u.Rb(1),u.zc("ngForOf",u.wc(6,5,e.characters)))},directives:[a.t,G.b,a.s,F.a,G.d,M.a,D.a,f.a,M.b],pipes:[a.b],styles:[".characterList[_ngcontent-%COMP%]{margin:8px}.avatarImg[_ngcontent-%COMP%]{position:center;height:80%;width:80%;border-radius:50%}.smallmargin[_ngcontent-%COMP%]{margin-bottom:16px}.spacer-8px[_ngcontent-%COMP%]{margin:8px}.character-tile[_ngcontent-%COMP%]{border-radius:10px}.ignore-theme[_ngcontent-%COMP%]{color:#fff}.character-text[_ngcontent-%COMP%]{margin:1em 1em 0;height:calc(100% - (3em + 40px));word-wrap:break-word;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.character-text[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.character-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.character-actions[_ngcontent-%COMP%]{margin:1em;height:40px}.character-name-underlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;background:#424242;z-index:-1}.character-name-underlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative;top:50%;transform:translateY(-50%);font-size:xx-large}.character-tile[_ngcontent-%COMP%]   .character-image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;transition:all .5s ease}.character-tile[_ngcontent-%COMP%]:hover   .character-image[_ngcontent-%COMP%]{webkit-filter:blur(3px) brightness(.7);filter:blur(3px) brightness(.7);transform:scale(1.05)}.character-meta[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;opacity:0;transition:all .5s ease}.character-meta[_ngcontent-%COMP%]:hover{opacity:1}"]});var Q=c("wZkO"),K=c("D33r"),Z=c("AytR"),tt=c("JIr8"),et=c("tk/3");const ct=Z.a.apiURL+"/customizations/aliases",at=Z.a.apiURL+"/customizations/snippets",nt=Z.a.apiURL+"/customizations/uvars";class it{constructor(t){this.http=t}getAliases(){return this.http.get(ct,Object(C.b)())}updateAlias(t){return this.http.post(`${ct}/${t.name}`,t,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("updateAlias")))}deleteAlias(t){return this.http.delete(`${ct}/${t.name}`,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("deleteAlias")))}getSnippets(){return this.http.get(at,Object(C.b)())}updateSnippet(t){return this.http.post(`${at}/${t.name}`,t,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("updateSnippet")))}deleteSnippet(t){return this.http.delete(`${at}/${t.name}`,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("deleteSnippet")))}getUvars(){return this.http.get(nt,Object(C.b)())}updateUvar(t){return this.http.post(`${nt}/${t.name}`,t,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("updateUvar")))}deleteUvar(t){return this.http.delete(`${nt}/${t.name}`,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("deleteUvar")))}handleTextError(t="operation"){return e=>(console.error(e),Object(w.a)(`${t} failed: ${e.error}`))}}it.\u0275fac=function(t){return new(t||it)(u.nc(et.b))},it.\u0275prov=u.Zb({token:it,factory:it.\u0275fac,providedIn:"root"});class ot{constructor(t){this.data=t}ngOnInit(){}}function rt(t,e){if(1&t){const t=u.kc();u.jc(0,"mat-form-field"),u.jc(1,"input",7),u.qc("ngModelChange",(function(e){u.Lc(t);return u.uc().name=e})),u.ic(),u.ic()}if(2&t){const t=u.uc();u.Rb(1),u.zc("ngModel",t.name)}}ot.\u0275fac=function(t){return new(t||ot)(u.dc(k.a))},ot.\u0275cmp=u.Xb({type:ot,selectors:[["avr-edit-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["matInput","","spellcheck","false",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(u.jc(0,"h2",0),u.Wc(1),u.ic(),u.jc(2,"mat-dialog-content",1),u.jc(3,"mat-form-field"),u.jc(4,"textarea",2),u.qc("ngModelChange",(function(t){return e.data.content=t})),u.ic(),u.ic(),u.ic(),u.jc(5,"mat-dialog-actions"),u.jc(6,"button",3),u.Wc(7,"Cancel"),u.ic(),u.jc(8,"button",4),u.Wc(9,"Done"),u.ic(),u.ic()),2&t&&(u.Rb(1),u.Yc("Editing ",e.data.name,""),u.Rb(3),u.zc("ngModel",e.data.content),u.Rb(4),u.zc("mat-dialog-close",e.data.content))},directives:[k.i,k.f,I.c,z.a,i.c,i.n,i.q,k.c,M.b,k.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-family:Courier New,monospace}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){min-height:200px}"]});const st=function(t,e){return{name:t,value:e}};class lt{constructor(t){this.data=t}ngOnInit(){}}lt.\u0275fac=function(t){return new(t||lt)(u.dc(k.a))},lt.\u0275cmp=u.Xb({type:lt,selectors:[["avr-new-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],[4,"ngIf"],["matInput","","placeholder","Value",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(u.jc(0,"h2",0),u.Wc(1),u.ic(),u.jc(2,"mat-dialog-content",1),u.jc(3,"div",2),u.Vc(4,rt,2,1,"mat-form-field",3),u.jc(5,"mat-form-field"),u.jc(6,"textarea",4),u.qc("ngModelChange",(function(t){return e.value=t})),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(7,"mat-dialog-actions"),u.jc(8,"button",5),u.Wc(9,"Cancel"),u.ic(),u.jc(10,"button",6),u.Wc(11,"Done"),u.ic(),u.ic()),2&t&&(u.Rb(1),u.Yc("New ",e.data.type,"..."),u.Rb(3),u.zc("ngIf",e.data.showName),u.Rb(2),u.zc("ngModel",e.value),u.Rb(4),u.zc("mat-dialog-close",u.Ec(4,st,e.name,e.value)))},directives:[k.i,k.f,a.t,I.c,z.a,i.c,i.n,i.q,k.c,M.b,k.d],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace}"]});var dt=c("dNgK"),ut=c("+0xr");function mt(t,e){1&t&&(u.jc(0,"th",12),u.Wc(1,"Name"),u.ic())}function ht(t,e){if(1&t&&(u.jc(0,"td",13),u.Wc(1),u.ic()),2&t){const t=e.$implicit;u.Rb(1),u.Xc(t.name)}}function pt(t,e){1&t&&(u.jc(0,"td",14),u.Wc(1,"Create New"),u.ic())}function ft(t,e){1&t&&(u.jc(0,"th",15),u.Wc(1,"Commands"),u.ic())}function gt(t,e){if(1&t&&(u.jc(0,"td",13),u.jc(1,"pre"),u.Wc(2),u.ic(),u.ic()),2&t){const t=e.$implicit;u.Rb(2),u.Xc(t.commands)}}function bt(t,e){1&t&&u.ec(0,"td",14)}function vt(t,e){1&t&&u.ec(0,"th",16)}function jt(t,e){if(1&t){const t=u.kc();u.jc(0,"td",13),u.jc(1,"button",17),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().beginEdit(c)})),u.jc(2,"mat-icon",18),u.Wc(3,"edit"),u.ic(),u.ic(),u.jc(4,"button",19),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().confirmDelete(c)})),u.jc(5,"mat-icon",20),u.Wc(6,"delete"),u.ic(),u.ic(),u.ic()}}function wt(t,e){if(1&t){const t=u.kc();u.jc(0,"td",14),u.jc(1,"button",17),u.qc("click",(function(){u.Lc(t);return u.uc().beginNew()})),u.jc(2,"mat-icon",21),u.Wc(3,"launch"),u.ic(),u.ic(),u.ic()}}function Ct(t,e){1&t&&u.ec(0,"tr",22)}function kt(t,e){1&t&&u.ec(0,"tr",23)}function Ot(t,e){1&t&&u.ec(0,"tr",24)}class yt{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.custService=c,this.columnsToDisplay=["name","commands","buttons"]}ngOnInit(){}refresh(){this.custService.getAliases().subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!0,type:"alias"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.name||!t.value)return void this.snackBar.open("Name or commands cannot be empty.");let e={name:t.name,commands:t.value};if(e.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");this.post(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.name,content:t.commands},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.commands=e,this.post(t))})}confirmDelete(t){this.dialog.open(K.a,{data:{name:t.name}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}post(t){this.custService.updateAlias(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.custService.deleteAlias(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}function xt(t,e){1&t&&(u.jc(0,"th",12),u.Wc(1,"Name"),u.ic())}function Rt(t,e){if(1&t&&(u.jc(0,"td",13),u.Wc(1),u.ic()),2&t){const t=e.$implicit;u.Rb(1),u.Xc(t.name)}}function Mt(t,e){1&t&&(u.jc(0,"td",14),u.Wc(1,"Create New"),u.ic())}function It(t,e){1&t&&(u.jc(0,"th",15),u.Wc(1,"Value"),u.ic())}function _t(t,e){if(1&t&&(u.jc(0,"td",13),u.jc(1,"pre"),u.Wc(2),u.ic(),u.ic()),2&t){const t=e.$implicit;u.Rb(2),u.Xc(t.snippet)}}function Wt(t,e){1&t&&u.ec(0,"td",14)}function Dt(t,e){1&t&&u.ec(0,"th",16)}function St(t,e){if(1&t){const t=u.kc();u.jc(0,"td",13),u.jc(1,"button",17),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().beginEdit(c)})),u.jc(2,"mat-icon",18),u.Wc(3,"edit"),u.ic(),u.ic(),u.jc(4,"button",19),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().confirmDelete(c)})),u.jc(5,"mat-icon",20),u.Wc(6,"delete"),u.ic(),u.ic(),u.ic()}}function zt(t,e){if(1&t){const t=u.kc();u.jc(0,"td",14),u.jc(1,"button",17),u.qc("click",(function(){u.Lc(t);return u.uc().beginNew()})),u.jc(2,"mat-icon",21),u.Wc(3,"launch"),u.ic(),u.ic(),u.ic()}}function Pt(t,e){1&t&&u.ec(0,"tr",22)}function At(t,e){1&t&&u.ec(0,"tr",23)}function Vt(t,e){1&t&&u.ec(0,"tr",24)}yt.\u0275fac=function(t){return new(t||yt)(u.dc(k.b),u.dc(dt.b),u.dc(it))},yt.\u0275cmp=u.Xb({type:yt,selectors:[["avr-alias-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","commands"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(u.jc(0,"table",0),u.hc(1,1),u.Vc(2,mt,2,0,"th",2),u.Vc(3,ht,2,1,"td",3),u.Vc(4,pt,2,0,"td",4),u.gc(),u.hc(5,5),u.Vc(6,ft,2,0,"th",6),u.Vc(7,gt,3,1,"td",3),u.Vc(8,bt,1,0,"td",4),u.gc(),u.hc(9,7),u.Vc(10,vt,1,0,"th",8),u.Vc(11,jt,7,0,"td",3),u.Vc(12,wt,4,0,"td",4),u.gc(),u.Vc(13,Ct,1,0,"tr",9),u.Vc(14,kt,1,0,"tr",10),u.Vc(15,Ot,1,0,"tr",11),u.ic()),2&t&&(u.zc("dataSource",e.data),u.Rb(13),u.zc("matHeaderRowDef",e.columnsToDisplay),u.Rb(1),u.zc("matRowDefColumns",e.columnsToDisplay),u.Rb(1),u.zc("matFooterRowDef",e.columnsToDisplay))},directives:[ut.o,ut.c,ut.i,ut.b,ut.e,ut.k,ut.n,ut.g,ut.h,ut.a,ut.d,M.b,f.a,ut.j,ut.m,ut.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class Nt{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.custService=c,this.columnsToDisplay=["name","snippet","buttons"]}ngOnInit(){}refresh(){this.custService.getSnippets().subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!0,type:"snippet"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.name||!t.value)return void this.snackBar.open("Name or value cannot be empty.");let e={name:t.name,snippet:t.value};if(e.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");if(e.name.length<2)return void this.snackBar.open("Name must be at least 2 characters.");this.post(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.name,content:t.snippet},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.snippet=e,this.post(t))})}confirmDelete(t){this.dialog.open(K.a,{data:{name:t.name}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}post(t){this.custService.updateSnippet(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.custService.deleteSnippet(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}function Lt(t,e){1&t&&(u.jc(0,"th",12),u.Wc(1,"Name"),u.ic())}function Tt(t,e){if(1&t&&(u.jc(0,"td",13),u.Wc(1),u.ic()),2&t){const t=e.$implicit;u.Rb(1),u.Xc(t.name)}}function qt(t,e){1&t&&(u.jc(0,"td",14),u.Wc(1,"Create New"),u.ic())}function Et(t,e){1&t&&(u.jc(0,"th",15),u.Wc(1,"Value"),u.ic())}function $t(t,e){if(1&t&&(u.jc(0,"td",13),u.jc(1,"pre"),u.Wc(2),u.ic(),u.ic()),2&t){const t=e.$implicit;u.Rb(2),u.Xc(t.value)}}function Xt(t,e){1&t&&u.ec(0,"td",14)}function Gt(t,e){1&t&&u.ec(0,"th",16)}function Ft(t,e){if(1&t){const t=u.kc();u.jc(0,"td",13),u.jc(1,"button",17),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().beginEdit(c)})),u.jc(2,"mat-icon",18),u.Wc(3,"edit"),u.ic(),u.ic(),u.jc(4,"button",19),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().confirmDelete(c)})),u.jc(5,"mat-icon",20),u.Wc(6,"delete"),u.ic(),u.ic(),u.ic()}}function Ut(t,e){if(1&t){const t=u.kc();u.jc(0,"td",14),u.jc(1,"button",17),u.qc("click",(function(){u.Lc(t);return u.uc().beginNew()})),u.jc(2,"mat-icon",21),u.Wc(3,"launch"),u.ic(),u.ic(),u.ic()}}function Bt(t,e){1&t&&u.ec(0,"tr",22)}function Jt(t,e){1&t&&u.ec(0,"tr",23)}function Ht(t,e){1&t&&u.ec(0,"tr",24)}Nt.\u0275fac=function(t){return new(t||Nt)(u.dc(k.b),u.dc(dt.b),u.dc(it))},Nt.\u0275cmp=u.Xb({type:Nt,selectors:[["avr-snippet-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","snippet"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(u.jc(0,"table",0),u.hc(1,1),u.Vc(2,xt,2,0,"th",2),u.Vc(3,Rt,2,1,"td",3),u.Vc(4,Mt,2,0,"td",4),u.gc(),u.hc(5,5),u.Vc(6,It,2,0,"th",6),u.Vc(7,_t,3,1,"td",3),u.Vc(8,Wt,1,0,"td",4),u.gc(),u.hc(9,7),u.Vc(10,Dt,1,0,"th",8),u.Vc(11,St,7,0,"td",3),u.Vc(12,zt,4,0,"td",4),u.gc(),u.Vc(13,Pt,1,0,"tr",9),u.Vc(14,At,1,0,"tr",10),u.Vc(15,Vt,1,0,"tr",11),u.ic()),2&t&&(u.zc("dataSource",e.data),u.Rb(13),u.zc("matHeaderRowDef",e.columnsToDisplay),u.Rb(1),u.zc("matRowDefColumns",e.columnsToDisplay),u.Rb(1),u.zc("matFooterRowDef",e.columnsToDisplay))},directives:[ut.o,ut.c,ut.i,ut.b,ut.e,ut.k,ut.n,ut.g,ut.h,ut.a,ut.d,M.b,f.a,ut.j,ut.m,ut.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class Yt{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.custService=c,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}refresh(){this.custService.getUvars().subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!0,type:"uvar"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.name||!t.value)return void this.snackBar.open("Name or value cannot be empty.");let e={name:t.name,value:t.value};this.post(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.name,content:t.value},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.value=e,this.post(t))})}confirmDelete(t){this.dialog.open(K.a,{data:{name:t.name}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}post(t){this.custService.updateUvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.custService.deleteUvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}Yt.\u0275fac=function(t){return new(t||Yt)(u.dc(k.b),u.dc(dt.b),u.dc(it))},Yt.\u0275cmp=u.Xb({type:Yt,selectors:[["avr-uvar-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(u.jc(0,"table",0),u.hc(1,1),u.Vc(2,Lt,2,0,"th",2),u.Vc(3,Tt,2,1,"td",3),u.Vc(4,qt,2,0,"td",4),u.gc(),u.hc(5,5),u.Vc(6,Et,2,0,"th",6),u.Vc(7,$t,3,1,"td",3),u.Vc(8,Xt,1,0,"td",4),u.gc(),u.hc(9,7),u.Vc(10,Gt,1,0,"th",8),u.Vc(11,Ft,7,0,"td",3),u.Vc(12,Ut,4,0,"td",4),u.gc(),u.Vc(13,Bt,1,0,"tr",9),u.Vc(14,Jt,1,0,"tr",10),u.Vc(15,Ht,1,0,"tr",11),u.ic()),2&t&&(u.zc("dataSource",e.data),u.Rb(13),u.zc("matHeaderRowDef",e.columnsToDisplay),u.Rb(1),u.zc("matRowDefColumns",e.columnsToDisplay),u.Rb(1),u.zc("matFooterRowDef",e.columnsToDisplay))},directives:[ut.o,ut.c,ut.i,ut.b,ut.e,ut.k,ut.n,ut.g,ut.h,ut.a,ut.d,M.b,f.a,ut.j,ut.m,ut.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class Qt{constructor(t){this.dashboardService=t}ngOnInit(){this.getCustomizations()}getCustomizations(){this.customizations=this.dashboardService.getCustomizations()}}Qt.\u0275fac=function(t){return new(t||Qt)(u.dc(d.a))},Qt.\u0275cmp=u.Xb({type:Qt,selectors:[["avr-customization"]],decls:12,vars:9,consts:[[1,"container"],["label","Aliases"],[3,"data"],["label","Snippets"],["label","Uvars"]],template:function(t,e){if(1&t&&(u.jc(0,"div",0),u.jc(1,"mat-card"),u.jc(2,"mat-tab-group"),u.jc(3,"mat-tab",1),u.ec(4,"avr-alias-list",2),u.vc(5,"async"),u.ic(),u.jc(6,"mat-tab",3),u.ec(7,"avr-snippet-list",2),u.vc(8,"async"),u.ic(),u.jc(9,"mat-tab",4),u.ec(10,"avr-uvar-list",2),u.vc(11,"async"),u.ic(),u.ic(),u.ic(),u.ic()),2&t){var c,a,n;u.Rb(4),u.zc("data",null==(c=u.wc(5,3,e.customizations))?null:c.aliases),u.Rb(3),u.zc("data",null==(a=u.wc(8,5,e.customizations))?null:a.snippets),u.Rb(3),u.zc("data",null==(n=u.wc(11,7,e.customizations))?null:n.uvars)}},directives:[F.a,Q.c,Q.a,yt,Nt,Yt],pipes:[a.b],styles:[".container[_ngcontent-%COMP%]{margin:8px}"]});const Kt=Z.a.apiURL+"/customizations/gvars";class Zt{constructor(t){this.http=t}getAllGvars(){return this.http.get(Kt,Object(C.b)())}getGvars(t){return this.http.get(`${Kt}/${t?"owned":"editable"}`,Object(C.b)())}newGvar(t){return this.http.post(""+Kt,t,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("newGvar")))}getGvar(t){return this.http.get(`${Kt}/${t}`,Object(C.b)()).pipe(Object(tt.a)(t=>Object(w.a)(!1)))}updateGvar(t){return this.http.post(`${Kt}/${t.key}`,t,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("updateGvar")))}deleteGvar(t){return this.http.delete(`${Kt}/${t.key}`,Object(C.c)()).pipe(Object(tt.a)(this.handleTextError("deleteGvar")))}handleTextError(t="operation"){return e=>(console.error(e),Object(w.a)(`${t} failed: ${e.error}`))}}function te(t,e){1&t&&(u.jc(0,"th",12),u.Wc(1,"ID"),u.ic())}function ee(t,e){if(1&t&&(u.jc(0,"td",13),u.Wc(1),u.ic()),2&t){const t=e.$implicit;u.Rb(1),u.Xc(t.key)}}function ce(t,e){if(1&t&&(u.jc(0,"td",14),u.Wc(1),u.ic()),2&t){const t=u.uc();u.Rb(1),u.Xc(t.owned?"Create New":"")}}function ae(t,e){1&t&&(u.jc(0,"th",15),u.Wc(1,"Value"),u.ic())}function ne(t,e){if(1&t&&(u.jc(0,"td",13),u.jc(1,"pre"),u.Wc(2),u.ic(),u.ic()),2&t){const t=e.$implicit;u.Rb(2),u.Xc(t.value)}}function ie(t,e){1&t&&u.ec(0,"td",14)}function oe(t,e){1&t&&u.ec(0,"th",16)}function re(t,e){if(1&t){const t=u.kc();u.jc(0,"button",20),u.qc("click",(function(){u.Lc(t);const e=u.uc().$implicit;return u.uc().confirmDelete(e)})),u.jc(1,"mat-icon",21),u.Wc(2,"delete"),u.ic(),u.ic()}}function se(t,e){if(1&t){const t=u.kc();u.jc(0,"td",13),u.jc(1,"button",17),u.qc("click",(function(){u.Lc(t);const c=e.$implicit;return u.uc().beginEdit(c)})),u.jc(2,"mat-icon",18),u.Wc(3,"edit"),u.ic(),u.ic(),u.Vc(4,re,3,0,"button",19),u.ic()}if(2&t){const t=u.uc();u.Rb(4),u.zc("ngIf",t.owned)}}function le(t,e){if(1&t){const t=u.kc();u.jc(0,"button",17),u.qc("click",(function(){u.Lc(t);return u.uc(2).beginNew()})),u.jc(1,"mat-icon",23),u.Wc(2,"launch"),u.ic(),u.ic()}}function de(t,e){if(1&t&&(u.jc(0,"td",14),u.Vc(1,le,3,0,"button",22),u.ic()),2&t){const t=u.uc();u.Rb(1),u.zc("ngIf",t.owned)}}function ue(t,e){1&t&&u.ec(0,"tr",24)}function me(t,e){1&t&&u.ec(0,"tr",25)}function he(t,e){1&t&&u.ec(0,"tr",27)}function pe(t,e){if(1&t&&(u.jc(0,"div"),u.Vc(1,he,1,0,"tr",26),u.ic()),2&t){const t=u.uc();u.Rb(1),u.zc("matFooterRowDef",t.columnsToDisplay)}}Zt.\u0275fac=function(t){return new(t||Zt)(u.nc(et.b))},Zt.\u0275prov=u.Zb({token:Zt,factory:Zt.\u0275fac,providedIn:"root"});class fe{constructor(t,e,c){this.dialog=t,this.snackBar=e,this.gvarService=c,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}refresh(){this.gvarService.getGvars(this.owned).subscribe(t=>this.data=t)}beginNew(){this.dialog.open(lt,{data:{showName:!1,type:"gvar"},width:"60%"}).afterClosed().subscribe(t=>{if(t){if(!t.value)return void this.snackBar.open("Value cannot be empty.");let e={value:t.value};this.new(e)}})}beginEdit(t){this.dialog.open(ot,{data:{name:t.key,content:t.value},width:"60%"}).afterClosed().subscribe(e=>{e&&(t.value=e,this.post(t))})}confirmDelete(t){this.dialog.open(K.a,{data:{name:t.key}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}new(t){this.gvarService.newGvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}post(t){this.gvarService.updateGvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}delete(t){this.gvarService.deleteGvar(t).subscribe(t=>{this.refresh(),this.snackBar.open(t)})}}function ge(t,e){if(1&t&&(u.jc(0,"div"),u.jc(1,"p"),u.Wc(2),u.ic(),u.jc(3,"p"),u.jc(4,"i"),u.Wc(5),u.ic(),u.ic(),u.ec(6,"mat-divider"),u.jc(7,"div",5),u.jc(8,"pre",6),u.Wc(9),u.ic(),u.ic(),u.ic()),2&t){const t=u.uc();u.Rb(2),u.Yc(" ",t.activeGvar.key," "),u.Rb(3),u.Yc("Owned by: ",t.activeGvar.owner_name,""),u.Rb(4),u.Xc(t.activeGvar.value)}}function be(t,e){if(1&t&&(u.jc(0,"div"),u.jc(1,"p",7),u.Wc(2),u.ic(),u.ic()),2&t){const t=u.uc();u.Rb(2),u.Yc(" ",t.error," ")}}fe.\u0275fac=function(t){return new(t||fe)(u.dc(k.b),u.dc(dt.b),u.dc(Zt))},fe.\u0275cmp=u.Xb({type:fe,selectors:[["avr-gvar-list"]],inputs:{data:"data",owned:"owned"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["mat-icon-button","",3,"click",4,"ngIf"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(t,e){1&t&&(u.jc(0,"table",0),u.hc(1,1),u.Vc(2,te,2,0,"th",2),u.Vc(3,ee,2,1,"td",3),u.Vc(4,ce,2,1,"td",4),u.gc(),u.hc(5,5),u.Vc(6,ae,2,0,"th",6),u.Vc(7,ne,3,1,"td",3),u.Vc(8,ie,1,0,"td",4),u.gc(),u.hc(9,7),u.Vc(10,oe,1,0,"th",8),u.Vc(11,se,5,1,"td",3),u.Vc(12,de,2,1,"td",4),u.gc(),u.Vc(13,ue,1,0,"tr",9),u.Vc(14,me,1,0,"tr",10),u.Vc(15,pe,2,1,"div",11),u.ic()),2&t&&(u.zc("dataSource",e.data),u.Rb(13),u.zc("matHeaderRowDef",e.columnsToDisplay),u.Rb(1),u.zc("matRowDefColumns",e.columnsToDisplay),u.Rb(1),u.zc("ngIf",e.owned))},directives:[ut.o,ut.c,ut.i,ut.b,ut.e,ut.k,ut.n,a.t,ut.h,ut.a,ut.d,M.b,f.a,ut.j,ut.m,ut.g,ut.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:55%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});class ve{constructor(t,e){this.gvarService=t,this.route=e}ngOnInit(){this.checkForLookupQuery()}lookupGvar(t){t=t.trim(),console.log(t);const e=new URLSearchParams(window.location.search);e.set("lookup",t);const c=window.location.pathname+"?"+e.toString();history.pushState(null,"",c),this.gvarService.getGvar(t).subscribe(t=>{this.activeGvar=null,this.error=null,!1===t?this.error="Failed to get gvar.":this.activeGvar=t})}checkForLookupQuery(){const t=this.route.snapshot.queryParamMap.get("lookup");t&&this.lookupGvar(t)}}ve.\u0275fac=function(t){return new(t||ve)(u.dc(Zt),u.dc(s.a))},ve.\u0275cmp=u.Xb({type:ve,selectors:[["avr-gvar-lookup"]],decls:7,vars:2,consts:[[1,"lookup-id-input"],["matInput","","placeholder","Gvar ID"],["lookupIdInput",""],["mat-flat-button","","color","primary",3,"click"],[4,"ngIf"],[1,"gvar-value-container"],[1,"gvar-value-display"],[2,"color","red"]],template:function(t,e){if(1&t){const t=u.kc();u.jc(0,"mat-form-field",0),u.ec(1,"input",1,2),u.ic(),u.jc(3,"button",3),u.qc("click",(function(){u.Lc(t);const c=u.Ic(2);return e.lookupGvar(c.value)})),u.Wc(4,"Lookup"),u.ic(),u.Vc(5,ge,10,3,"div",4),u.Vc(6,be,3,1,"div",4)}2&t&&(u.Rb(5),u.zc("ngIf",e.activeGvar),u.Rb(1),u.zc("ngIf",e.error))},directives:[I.c,z.a,M.b,a.t,S.a],styles:[".lookup-id-input[_ngcontent-%COMP%]{margin-right:4px;width:50%}.gvar-value-container[_ngcontent-%COMP%]{padding-top:1em}.gvar-value-display[_ngcontent-%COMP%]{white-space:pre-wrap;background-color:rgba(0,0,0,.1);margin:0;border:1px solid rgba(0,0,0,.15);border-radius:6px}"]});class je{constructor(t,e){this.gvarService=t,this.route=e}ngOnInit(){this.getCustomizations(),this.checkForLookupQuery()}getCustomizations(){this.gvars=this.gvarService.getAllGvars()}checkForLookupQuery(){this.route.snapshot.queryParamMap.get("lookup")&&(this.forcedTabIndex=2)}}je.\u0275fac=function(t){return new(t||je)(u.dc(Zt),u.dc(s.a))},je.\u0275cmp=u.Xb({type:je,selectors:[["avr-gvars"]],decls:11,vars:9,consts:[[1,"container"],[3,"selectedIndex","selectedIndexChange"],["label","Owned"],[3,"data","owned"],["label","Editable"],["label","Lookup"]],template:function(t,e){if(1&t&&(u.jc(0,"div",0),u.jc(1,"mat-card"),u.jc(2,"mat-tab-group",1),u.qc("selectedIndexChange",(function(t){return e.forcedTabIndex=t})),u.jc(3,"mat-tab",2),u.ec(4,"avr-gvar-list",3),u.vc(5,"async"),u.ic(),u.jc(6,"mat-tab",4),u.ec(7,"avr-gvar-list",3),u.vc(8,"async"),u.ic(),u.jc(9,"mat-tab",5),u.ec(10,"avr-gvar-lookup"),u.ic(),u.ic(),u.ic(),u.ic()),2&t){var c,a;u.Rb(2),u.zc("selectedIndex",e.forcedTabIndex),u.Rb(2),u.zc("data",null==(c=u.wc(5,5,e.gvars))?null:c.owned)("owned",!0),u.Rb(3),u.zc("data",null==(a=u.wc(8,7,e.gvars))?null:a.editable)("owned",!1)}},directives:[F.a,Q.c,Q.a,fe,ve],pipes:[a.b],styles:[".container[_ngcontent-%COMP%]{margin:8px}"]});var we=c("E6a1");class Ce{constructor(t){this.router=t}canActivate(t,e){return!!Object(l.b)()||(Object(we.c)("after-login-redirect",e.url),Object(l.c)(),!1)}}Ce.\u0275fac=function(t){return new(t||Ce)(u.nc(s.b))},Ce.\u0275prov=u.Zb({token:Ce,factory:Ce.\u0275fac,providedIn:"root"});const ke=[{path:"",canActivate:[Ce],component:j,children:[{path:"characters",component:Y},{path:"aliases",component:Qt},{path:"gvars",component:je},{path:"homebrew",loadChildren:()=>c.e(11).then(c.bind(null,"XljO")).then(t=>t.HomebrewModule)},{path:"workshop",loadChildren:()=>c.e(10).then(c.bind(null,"vTLJ")).then(t=>t.WorkshopModule)},{path:"",redirectTo:"characters",pathMatch:"full"}]}];class Oe{}Oe.\u0275mod=u.bc({type:Oe}),Oe.\u0275inj=u.ac({factory:function(t){return new(t||Oe)},imports:[[s.d.forChild(ke)],s.d]});class ye{}ye.\u0275mod=u.bc({type:ye}),ye.\u0275inj=u.ac({factory:function(t){return new(t||ye)},imports:[[a.c,o.a,i.h,Oe,n.i,r.a]]})},XwxW:function(t,e,c){"use strict";c.d(e,"a",(function(){return b}));var a=c("0IaG"),n=c("fXoL"),i=c("ofXK"),o=c("bTqV"),r=c("kmnG"),s=c("qFsG"),l=c("3Pt+"),d=c("MutI"),u=c("Xa2L");function m(t,e){if(1&t){const t=n.kc();n.jc(0,"mat-list-item",9),n.qc("click",(function(){n.Lc(t);const c=e.$implicit;return n.uc(3).select(c)})),n.Wc(1),n.ic()}if(2&t){const t=e.$implicit,c=n.uc(3);n.Rb(1),n.Yc(" ",c.data.namer(t)," ")}}function h(t,e){if(1&t&&(n.jc(0,"div",7),n.jc(1,"mat-list"),n.Vc(2,m,2,1,"mat-list-item",8),n.ic(),n.ic()),2&t){const t=n.uc(2);n.Rb(2),n.zc("ngForOf",t.filteredTemplates)}}function p(t,e){1&t&&(n.jc(0,"div",7),n.Wc(1," No results found. "),n.ic())}function f(t,e){if(1&t){const t=n.kc();n.jc(0,"mat-dialog-content",3),n.jc(1,"div",4),n.jc(2,"mat-form-field"),n.jc(3,"input",5),n.qc("ngModelChange",(function(e){n.Lc(t);return n.uc().search=e}))("keyup",(function(){n.Lc(t);return n.uc().filterTemplates()})),n.ic(),n.ic(),n.ic(),n.Vc(4,h,3,1,"div",6),n.Vc(5,p,2,0,"div",6),n.ic()}if(2&t){const t=n.uc();n.Rb(3),n.zc("ngModel",t.search),n.Rb(1),n.zc("ngIf",null==t.filteredTemplates?null:t.filteredTemplates.length),n.Rb(1),n.zc("ngIf",!(null!=t.filteredTemplates&&t.filteredTemplates.length))}}function g(t,e){1&t&&(n.jc(0,"mat-dialog-content",3),n.ec(1,"mat-spinner",10),n.ic()),2&t&&(n.Rb(1),n.zc("diameter",24))}class b{constructor(t,e){this.data=t,this.dialogRef=e,this.search=""}ngOnInit(){this.getTemplates()}select(t){this.dialogRef.close(t)}filterTemplates(){this.filteredTemplates=this.templates.filter(t=>this.data.namer(t).toLowerCase().includes(this.search.toLowerCase()))}getTemplates(){this.data.getter().subscribe(t=>{this.templates=t,this.filterTemplates()})}}b.\u0275fac=function(t){return new(t||b)(n.dc(a.a),n.dc(a.h))},b.\u0275cmp=n.Xb({type:b,selectors:[["avr-srd-copy-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","keyup"],["class","results",4,"ngIf"],[1,"results"],["class","hoverable pointer",3,"click",4,"ngFor","ngForOf"],[1,"hoverable","pointer",3,"click"],[3,"diameter"]],template:function(t,e){1&t&&(n.jc(0,"h2",0),n.Wc(1,"Copying SRD object..."),n.ic(),n.Vc(2,f,6,3,"mat-dialog-content",1),n.Vc(3,g,2,1,"mat-dialog-content",1),n.jc(4,"mat-dialog-actions"),n.jc(5,"button",2),n.Wc(6,"Cancel"),n.ic(),n.ic()),2&t&&(n.Rb(2),n.zc("ngIf",e.templates),n.Rb(1),n.zc("ngIf",!e.templates))},directives:[a.i,i.t,a.c,o.b,a.d,a.f,r.c,s.a,l.c,l.n,l.q,d.a,i.s,d.d,u.c],encapsulation:2})},hMdP:function(t,e,c){"use strict";c.d(e,"a",(function(){return d}));var a=c("0IaG"),n=c("fXoL"),i=c("kmnG"),o=c("qFsG"),r=c("bTqV"),s=c("Qu3c"),l=c("NFeN");class d{constructor(t){this.data=t,this.jsonData=JSON.stringify(this.data.data)}ngOnInit(){}copy(t){t.select(),document.execCommand("copy"),t.setSelectionRange(0,0)}}d.\u0275fac=function(t){return new(t||d)(n.dc(a.a))},d.\u0275cmp=n.Xb({type:d,selectors:[["avr-json-export-dialog"]],decls:13,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],["matInput","","readonly","","placeholder","JSON","rows","10",3,"value"],["jsonElem",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Copy","matTooltip","Copy to clipboard",3,"click"],["mat-button","","mat-dialog-close",""]],template:function(t,e){if(1&t){const t=n.kc();n.jc(0,"h2",0),n.Wc(1),n.ic(),n.jc(2,"mat-dialog-content",1),n.jc(3,"div",2),n.jc(4,"mat-form-field"),n.ec(5,"textarea",3,4),n.jc(7,"button",5),n.qc("click",(function(){n.Lc(t);const c=n.Ic(6);return e.copy(c)})),n.jc(8,"mat-icon"),n.Wc(9,"file_copy"),n.ic(),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(10,"mat-dialog-actions"),n.jc(11,"button",6),n.Wc(12,"Done"),n.ic(),n.ic()}2&t&&(n.Rb(1),n.Yc("JSON - ",e.data.name,""),n.Rb(4),n.zc("value",e.jsonData))},directives:[a.i,a.f,i.c,o.a,r.b,i.j,s.a,l.a,a.c,a.d],styles:[".form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]})}}]);
//# sourceMappingURL=9-es2015.e2dffdd41703cff2b095.js.map