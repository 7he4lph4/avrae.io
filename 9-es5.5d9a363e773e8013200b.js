!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,c){if(!t)return;if("string"==typeof t)return e(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,c)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var c=0,a=new Array(e);c<e;c++)a[c]=t[c];return a}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var c=0;c<e.length;c++){var a=e[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,c){return e&&a(t.prototype,e),c&&a(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9qBq":function(t,e,a){"use strict";a.d(e,"a",(function(){return p}));var i=a("0IaG"),o=a("fXoL"),r=a("kmnG"),l=a("qFsG"),s=a("3Pt+"),u=a("ofXK"),d=a("bTqV"),m=a("Xa2L");function f(t,e){if(1&t&&(o.jc(0,"mat-error"),o.Wc(1),o.ic()),2&t){var c=o.uc();o.Rb(1),o.Xc(c.error)}}function h(t,e){1&t&&o.ec(0,"mat-spinner",8),2&t&&o.zc("diameter",18)}var p=function(){function t(e,a){c(this,t),this.dialogRef=e,this.input=a,this.loading=!1}return n(t,[{key:"ngOnInit",value:function(){}},{key:"validateAndExit",value:function(){var t;this.loading=!0,this.error=null;try{t=JSON.parse(this.data)}catch(e){return this.error="Invalid data format",void(this.loading=!1)}this.input.validator?this.input.validator(t):this.dialogRef.close(t)}}]),t}();p.\u0275fac=function(t){return new(t||p)(o.dc(i.h),o.dc(i.a))},p.\u0275cmp=o.Xb({type:p,selectors:[["avr-json-import-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","JSON","rows","10",3,"ngModel","ngModelChange"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[3,"diameter",4,"ngIf"],[3,"diameter"]],template:function(t,e){1&t&&(o.jc(0,"h2",0),o.Wc(1,"Importing from JSON..."),o.ic(),o.jc(2,"mat-dialog-content",1),o.jc(3,"p"),o.Wc(4," Paste your JSON here. This should be either an object or list exported from this site. "),o.ic(),o.jc(5,"div",2),o.jc(6,"mat-form-field"),o.jc(7,"textarea",3),o.qc("ngModelChange",(function(t){return e.data=t})),o.ic(),o.ic(),o.ic(),o.Vc(8,f,2,1,"mat-error",4),o.ic(),o.jc(9,"mat-dialog-actions"),o.jc(10,"button",5),o.Wc(11,"Cancel"),o.ic(),o.jc(12,"button",6),o.qc("click",(function(){return e.validateAndExit()})),o.Wc(13," Import "),o.ic(),o.Vc(14,h,1,1,"mat-spinner",7),o.ic()),2&t&&(o.Rb(7),o.zc("ngModel",e.data),o.Rb(1),o.zc("ngIf",e.error),o.Rb(6),o.zc("ngIf",e.loading))},directives:[i.i,i.f,r.c,l.a,s.c,s.n,s.q,u.t,i.c,d.b,i.d,r.b,m.c],styles:[".form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]})},D33r:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var i=a("0IaG"),o=a("fXoL"),r=a("ofXK"),l=a("bTqV");function s(t,e){if(1&t&&(o.jc(0,"p"),o.Wc(1),o.ic()),2&t){var c=o.uc();o.Rb(1),o.Yc(" ",c.data.message," ")}}var u=function(){function t(e){c(this,t),this.data=e}return n(t,[{key:"ngOnInit",value:function(){}}]),t}();u.\u0275fac=function(t){return new(t||u)(o.dc(i.a))},u.\u0275cmp=o.Xb({type:u,selectors:[["avr-confirm-delete-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(o.jc(0,"h2",0),o.Wc(1),o.ic(),o.jc(2,"mat-dialog-content",1),o.jc(3,"p"),o.Wc(4),o.ic(),o.Vc(5,s,2,1,"p",2),o.ic(),o.jc(6,"mat-dialog-actions"),o.jc(7,"button",3),o.Wc(8,"No"),o.ic(),o.jc(9,"button",4),o.Wc(10,"Yes"),o.ic(),o.ic()),2&t&&(o.Rb(1),o.Yc("Deleting ",e.data.name,""),o.Rb(3),o.Yc(" Are you sure you want to delete ",e.data.name,"? "),o.Rb(1),o.zc("ngIf",e.data.message),o.Rb(4),o.zc("mat-dialog-close",!0))},directives:[i.i,i.f,r.t,i.c,l.b,i.d],styles:[""]})},QAUA:function(t,e,a){"use strict";a.d(e,"a",(function(){return p}));var i=a("LRne"),o=a("JIr8"),r=a("AytR"),l=(a("rHON"),a("2xJ4")),s=a("fXoL"),u=a("tk/3");r.a.apiURL;var d=r.a.apiURL+"/userStats",m=r.a.apiURL+"/characters",f=m+"/meta",h=r.a.apiURL+"/customizations",p=function(){function t(e){c(this,t),this.http=e}return n(t,[{key:"getUserStats",value:function(){return this.http.get(d,Object(l.b)())}},{key:"getCharacterMeta",value:function(){return this.http.get(f,Object(l.b)())}},{key:"getCharacterAttacks",value:function(t){var e="".concat(m,"/").concat(t,"/attacks");return this.http.get(e,Object(l.b)())}},{key:"getTemplateAttacks",value:function(){return this.http.get(m+"/attacks/srd",Object(l.b)())}},{key:"putCharacterAttacks",value:function(t,e){var c="".concat(m,"/").concat(t,"/attacks");return this.http.put(c,e,Object(l.c)()).pipe(Object(o.a)((function(t){return Object(i.a)(!1)})))}},{key:"validateAttackJSON",value:function(t){var e=m+"/attacks/validate";return this.http.post(e,t,Object(l.b)()).pipe(Object(o.a)((function(t){return console.error(t),Object(i.a)({success:!1,result:t.error})})))}},{key:"getCustomizations",value:function(){return this.http.get(h,Object(l.b)())}}]),t}();p.\u0275fac=function(t){return new(t||p)(s.nc(u.b))},p.\u0275prov=s.Zb({token:p,factory:p.\u0275fac,providedIn:"root"})},TDBs:function(e,a,i){"use strict";i.r(a),i.d(a,"DashboardModule",(function(){return Me}));var o=i("ofXK"),r=i("XiUz"),l=i("3Pt+"),s=i("hctd"),u=i("WVau"),d=i("tyNb"),m=i("fD3i"),f=i("QAUA"),h=i("fXoL"),p=i("XhcP"),v=i("MutI"),b=i("7EHt"),g=i("NFeN"),k=function(){return["characters"]},y=function(){return["aliases"]},j=function(){return["gvars"]},w=function(){function t(e,a){c(this,t),this.router=e,this.dashboardService=a,Object(m.b)()||this.router.navigate(["login"])}return n(t,[{key:"logout",value:function(){Object(m.d)(),this.router.navigate([""])}}]),t}();w.\u0275fac=function(t){return new(t||w)(h.dc(d.b),h.dc(f.a))},w.\u0275cmp=h.Xb({type:w,selectors:[["avr-dashboard"]],decls:43,vars:6,consts:[[1,"sidenav-container"],["opened","","mode","side","fixedTopGap","56px","disableClose","true",1,"sidenav","mat-elevation-z3"],["mat-list-item","",3,"routerLink"],["expanded","",1,"mat-elevation-z0"],[1,"nav-panel"],[1,"nav-panel-body"],["mat-list-item","","routerLink","/dashboard/workshop"],["mat-list-item","","routerLink","/dashboard/workshop/my-subscriptions"],["mat-list-item","","routerLink","/dashboard/workshop/my-work"],["mat-list-item","","routerLink","/dashboard/homebrew/items"],["mat-list-item","","routerLink","/dashboard/homebrew/spells"],["mat-list-item","","href","https://critterdb.com/#/index","target","_blank","rel","noopener noreferrer"],[1,"icon-in-panel"],[1,"spacer"],["mat-list-item","",3,"click"]],template:function(t,e){1&t&&(h.jc(0,"mat-sidenav-container",0),h.jc(1,"mat-sidenav",1),h.jc(2,"mat-nav-list"),h.jc(3,"a",2),h.Wc(4,"Characters"),h.ic(),h.jc(5,"mat-expansion-panel",3),h.jc(6,"mat-expansion-panel-header"),h.jc(7,"mat-panel-title",4),h.Wc(8," Alias Workshop "),h.ic(),h.ic(),h.jc(9,"div",5),h.jc(10,"a",6),h.Wc(11,"Explore"),h.ic(),h.jc(12,"a",7),h.Wc(13,"My Subscriptions"),h.ic(),h.jc(14,"a",8),h.Wc(15,"My Work"),h.ic(),h.ic(),h.ic(),h.jc(16,"mat-expansion-panel",3),h.jc(17,"mat-expansion-panel-header"),h.jc(18,"mat-panel-title",4),h.Wc(19," Customization "),h.ic(),h.ic(),h.jc(20,"div",5),h.jc(21,"a",2),h.Wc(22,"My Customizations"),h.ic(),h.jc(23,"a",2),h.Wc(24,"Global Variables"),h.ic(),h.ic(),h.ic(),h.jc(25,"mat-expansion-panel",3),h.jc(26,"mat-expansion-panel-header"),h.jc(27,"mat-panel-title",4),h.Wc(28," Homebrew "),h.ic(),h.ic(),h.jc(29,"div",5),h.jc(30,"a",9),h.Wc(31,"Items"),h.ic(),h.jc(32,"a",10),h.Wc(33,"Spells"),h.ic(),h.jc(34,"a",11),h.Wc(35,"Creatures "),h.jc(36,"mat-icon",12),h.Wc(37,"launch"),h.ic(),h.ic(),h.ic(),h.ic(),h.ec(38,"div",13),h.jc(39,"a",14),h.qc("click",(function(){return e.logout()})),h.Wc(40,"Logout"),h.ic(),h.ic(),h.ic(),h.jc(41,"mat-sidenav-content"),h.ec(42,"router-outlet"),h.ic(),h.ic()),2&t&&(h.Rb(3),h.zc("routerLink",h.Cc(3,k)),h.Rb(18),h.zc("routerLink",h.Cc(4,y)),h.Rb(2),h.zc("routerLink",h.Cc(5,j)))},directives:[p.e,p.d,v.h,v.d,d.c,b.c,b.g,b.h,g.a,p.f,d.e],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.spacer[_ngcontent-%COMP%]{height:32px}mat-expansion-panel-header[_ngcontent-%COMP%]{transition:background-color .5s ease-in-out;padding-left:16px}mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - (56px + 56px))}.nav-panel[_ngcontent-%COMP%]{text-decoration:none;font-weight:300}.nav-panel-body[_ngcontent-%COMP%]{margin:0 -24px -16px}.nav-panel-body[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0 24px;height:36px;font-size:90%}.icon-in-panel[_ngcontent-%COMP%]{font-size:16px;height:16px;padding-left:4px}@media only screen and (max-width:840px){.sidenav[_ngcontent-%COMP%]{width:150px}}"]});var C=i("LRne"),O=i("2xJ4"),x=i("0IaG"),R=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,t),this.name=e,this.automation=a,this._v=2,this.proper=n,this.verb=i},M=i("hMdP"),I=i("9qBq"),_=i("XwxW"),W=i("bTqV"),S=i("kmnG"),D=i("d3UM"),A=i("FKr1"),P=i("Qu3c"),z=i("f0Cb"),V=i("qFsG"),N=i("bSwM"),L=i("UgTo"),T=i("Xa2L");function q(t,e){if(1&t&&(h.jc(0,"mat-option",21),h.Wc(1),h.ic()),2&t){var c=e.$implicit;h.zc("value",c),h.Rb(1),h.Yc(" ",c.name," ")}}function E(t,e){1&t&&(h.jc(0,"p"),h.Wc(1,"Please select an attack."),h.ic())}function X(t,e){if(1&t){var c=h.kc();h.jc(0,"div"),h.jc(1,"div",22),h.jc(2,"mat-form-field",17),h.jc(3,"input",23),h.qc("ngModelChange",(function(t){return h.Lc(c),h.uc(2).selectedAttack.name=t})),h.ic(),h.ic(),h.ec(4,"span",17),h.jc(5,"span",10),h.jc(6,"button",24),h.qc("click",(function(){h.Lc(c);var t=h.uc(2);return t.deleteAttack(t.selectedAttack)})),h.jc(7,"mat-icon"),h.Wc(8,"delete"),h.ic(),h.ic(),h.ic(),h.jc(9,"span",10),h.jc(10,"button",25),h.qc("click",(function(){h.Lc(c);var t=h.uc(2);return t.beginJSONExport(t.selectedAttack)})),h.jc(11,"mat-icon",26),h.Wc(12,"vertical_align_top"),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(13,"div",27),h.jc(14,"mat-checkbox",28),h.qc("ngModelChange",(function(t){return h.Lc(c),h.uc(2).selectedAttack.proper=t})),h.Wc(15,"Proper Noun"),h.ic(),h.jc(16,"mat-form-field",10),h.jc(17,"input",29),h.qc("ngModelChange",(function(t){return h.Lc(c),h.uc(2).selectedAttack.verb=t})),h.ic(),h.ic(),h.jc(18,"span",30),h.Wc(19),h.ic(),h.ec(20,"span",17),h.ic(),h.ec(21,"avr-automation-editor",31),h.ic()}if(2&t){var a=h.uc(2);h.Rb(3),h.zc("ngModel",a.selectedAttack.name),h.Rb(11),h.zc("ngModel",a.selectedAttack.proper),h.Rb(3),h.zc("ngModel",a.selectedAttack.verb),h.Rb(2),h.ad(" Display: ",a.character.name," ",a.selectedAttack.verb||"attacks with"," ",a.selectedAttack.proper?a.selectedAttack.name:"a "+a.selectedAttack.name,"! "),h.Rb(2),h.zc("automation",a.selectedAttack.automation)}}function G(t,e){if(1&t&&(h.jc(0,"p",32),h.Wc(1),h.ic()),2&t){var c=h.uc(2);h.Rb(1),h.Yc(" ",c.errorValue," ")}}function F(t,e){if(1&t){var c=h.kc();h.jc(0,"mat-dialog-content",4),h.jc(1,"div"),h.jc(2,"p"),h.Wc(3," Need help using the editor? Check out the docs "),h.jc(4,"a",5),h.Wc(5,"here"),h.ic(),h.Wc(6,"! "),h.ic(),h.ic(),h.jc(7,"div",6),h.jc(8,"mat-form-field"),h.jc(9,"mat-label"),h.Wc(10,"Select an attack"),h.ic(),h.jc(11,"mat-select",7),h.qc("valueChange",(function(t){return h.Lc(c),h.uc().selectedAttack=t})),h.Vc(12,q,2,2,"mat-option",8),h.jc(13,"mat-option",9),h.qc("click",(function(){return h.Lc(c),h.uc().addAndSelectNewAttack()})),h.Wc(14,"New..."),h.ic(),h.ic(),h.ic(),h.jc(15,"span",10),h.jc(16,"button",11),h.qc("click",(function(){return h.Lc(c),h.uc().beginJSONImport()})),h.jc(17,"mat-icon",12),h.Wc(18,"vertical_align_bottom"),h.ic(),h.ic(),h.ic(),h.jc(19,"span",10),h.jc(20,"button",13),h.qc("click",(function(){return h.Lc(c),h.uc().newFromSRD()})),h.jc(21,"mat-icon",14),h.Wc(22,"scanner"),h.ic(),h.ic(),h.ic(),h.jc(23,"span",10),h.jc(24,"button",15),h.qc("click",(function(){h.Lc(c);var t=h.uc();return t.beginJSONExport(t.allAttacks)})),h.jc(25,"mat-icon",16),h.Wc(26,"vertical_align_top"),h.ic(),h.ic(),h.ic(),h.ec(27,"span",17),h.ic(),h.ec(28,"mat-divider",18),h.Vc(29,E,2,0,"p",19),h.Vc(30,X,22,7,"div",19),h.Vc(31,G,2,1,"p",20),h.ic()}if(2&t){var a=h.uc();h.Rb(11),h.zc("value",a.selectedAttack),h.Rb(1),h.zc("ngForOf",a.allAttacks),h.Rb(17),h.zc("ngIf",!a.selectedAttack),h.Rb(1),h.zc("ngIf",a.selectedAttack),h.Rb(1),h.zc("ngIf",a.errorValue)}}function U(t,e){1&t&&(h.jc(0,"mat-dialog-content",4),h.ec(1,"mat-spinner",33),h.jc(2,"p"),h.Wc(3," Loading attacks... "),h.ic(),h.ic()),2&t&&(h.Rb(1),h.zc("diameter",24))}var B=function(){function e(t,a,n,i){c(this,e),this.character=t,this.charService=a,this.dialogRef=n,this.dialog=i,this.saveButtonValue="Save and Exit",this.saveButtonDisabled=!1}return n(e,[{key:"ngOnInit",value:function(){this.loadAttacks()}},{key:"loadAttacks",value:function(){var t=this;this.charService.getCharacterAttacks(this.character.upstream).subscribe((function(e){t.allAttacks=e}))}},{key:"addAndSelectNewAttack",value:function(){var t=new R;this.allAttacks.push(t),this.selectedAttack=t}},{key:"newFromSRD",value:function(){var t=this;this.dialog.open(_.a,{width:"60%",disableClose:!0,data:{getter:function(){return t.charService.getTemplateAttacks()},namer:function(t){return t.name}}}).afterClosed().subscribe((function(e){e&&(t.allAttacks.push(e),t.selectedAttack=e)}))}},{key:"deleteAttack",value:function(t){var e=this.allAttacks.indexOf(t);e>-1&&this.allAttacks.splice(e,1),this.selectedAttack=null}},{key:"saveAndExit",value:function(){var t=this;this.saveButtonValue="Saving...",this.saveButtonDisabled=!0,this.charService.putCharacterAttacks(this.character.upstream,this.allAttacks).subscribe((function(e){t.saveButtonValue="Save and Exit",t.saveButtonDisabled=!1,e?t.dialogRef.close():t.errorValue="Failed to save attacks."}))}},{key:"beginJSONExport",value:function(t){this.dialog.open(M.a,{data:{name:t instanceof Array?"All Attacks":t.name,data:t},width:"60%"})}},{key:"beginJSONImport",value:function(){var e=this,c=this.dialog.open(I.a,{width:"60%",disableClose:!0,data:{validator:function(t){return e.validateAttackJSON(c,t)}}});c.afterClosed().subscribe((function(c){if(c){var a,n=c;n instanceof Array?(a=e.allAttacks).push.apply(a,t(n)):e.allAttacks.push(n)}}))}},{key:"validateAttackJSON",value:function(t,e){this.charService.validateAttackJSON(e).subscribe((function(e){console.log(e),t.componentInstance.loading=!1,e.success?t.close(JSON.parse(t.componentInstance.data)):t.componentInstance.error=e.result}))}}]),e}();B.\u0275fac=function(t){return new(t||B)(h.dc(x.a),h.dc(f.a),h.dc(x.h),h.dc(x.b))},B.\u0275cmp=h.Xb({type:B,selectors:[["avr-attack-editor-dialog"]],decls:9,vars:5,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],[1,"mat-typography"],["href","https://avrae.readthedocs.io/en/latest/automation_ref.html","target","_blank","rel","noopener noreferrer"],["fxLayout","row"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["fxFlex",""],["mat-icon-button","","matTooltip","Import JSON",3,"click"],["aria-label","Import from JSON"],["mat-icon-button","","matTooltip","Copy SRD Monster Action",3,"click"],["aria-label","Copy SRD Monster Action"],["mat-icon-button","","matTooltip","Export All to JSON",3,"click"],["aria-label","Export All to JSON"],["fxFlex","grow"],[1,"beefy-divider"],[4,"ngIf"],["class","error-text",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutGap","4px"],["matInput","","placeholder","Attack Name",3,"ngModel","ngModelChange"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","matTooltip","Export to JSON",3,"click"],["aria-label","Export to JSON"],["fxLayout","row","fxLayoutGap","4px","fxLayoutAlign","center center"],["fxFlex","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Verb",3,"ngModel","ngModelChange"],["fxFlex","noshrink"],[3,"automation"],[1,"error-text"],[3,"diameter"]],template:function(t,e){1&t&&(h.jc(0,"h2",0),h.Wc(1),h.ic(),h.Vc(2,F,32,5,"mat-dialog-content",1),h.Vc(3,U,4,1,"mat-dialog-content",1),h.jc(4,"mat-dialog-actions"),h.jc(5,"button",2),h.Wc(6,"Cancel"),h.ic(),h.jc(7,"button",3),h.qc("click",(function(){return e.saveAndExit()})),h.Wc(8),h.ic(),h.ic()),2&t&&(h.Rb(1),h.Yc("Editing Attacks: ",e.character.name,""),h.Rb(1),h.zc("ngIf",e.allAttacks),h.Rb(1),h.zc("ngIf",!e.allAttacks),h.Rb(4),h.zc("disabled",e.saveButtonDisabled),h.Rb(1),h.Xc(e.saveButtonValue))},directives:[x.i,o.t,x.c,W.b,x.d,x.f,r.f,S.c,S.g,D.a,o.s,A.j,r.b,P.a,g.a,z.a,r.g,V.a,l.c,l.n,l.q,r.e,N.a,L.a,T.c],styles:[".beefy-divider[_ngcontent-%COMP%]{margin-bottom:1em}.error-text[_ngcontent-%COMP%]{color:red}"]});var J=i("zkoq"),H=i("Wp6s");function $(t,e){if(1&t&&(h.jc(0,"mat-card",5),h.jc(1,"mat-grid-list",6),h.jc(2,"mat-grid-tile"),h.ec(3,"img",7),h.vc(4,"async"),h.ic(),h.jc(5,"mat-grid-tile",8),h.jc(6,"div"),h.jc(7,"h1",9),h.Wc(8),h.vc(9,"async"),h.jc(10,"span",10),h.Wc(11),h.vc(12,"async"),h.ic(),h.ic(),h.jc(13,"p",11),h.Wc(14),h.vc(15,"async"),h.ec(16,"br"),h.Wc(17),h.vc(18,"async"),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()),2&t){var c,a,n,i,o,r=h.uc();h.Rb(3),h.zc("src",null==(c=h.wc(4,5,r.userInfo))?null:c.avatarUrl,h.Nc),h.Rb(5),h.Yc(" ",null==(a=h.wc(9,7,r.userInfo))?null:a.username,""),h.Rb(3),h.Yc("#",null==(n=h.wc(12,9,r.userInfo))?null:n.discriminator,""),h.Rb(3),h.Yc(" Characters: ",null==(i=h.wc(15,11,r.userStats))?null:i.numCharacters,""),h.Rb(3),h.Yc(" Customizations: ",null==(o=h.wc(18,13,r.userStats))?null:o.numCustomizations," ")}}function Y(t,e){if(1&t&&(h.jc(0,"p",21),h.Wc(1),h.ic()),2&t){var c=h.uc().$implicit,a=h.uc();h.Rb(1),h.Yc(" ",a.getInitials(c.name)," ")}}function Q(t,e){if(1&t&&h.ec(0,"img",22),2&t){var c=h.uc().$implicit,a=h.uc();h.zc("src",a.getImage(c),h.Nc)("alt","Image for "+c.name)}}function K(t,e){if(1&t){var c=h.kc();h.jc(0,"mat-grid-tile",12),h.jc(1,"div",13),h.Vc(2,Y,2,1,"p",14),h.ic(),h.Vc(3,Q,1,2,"img",15),h.jc(4,"div",16),h.jc(5,"div",17),h.jc(6,"h3"),h.Wc(7),h.ic(),h.Wc(8),h.ic(),h.jc(9,"div",18),h.jc(10,"a",19),h.jc(11,"mat-icon"),h.Wc(12,"menu_book"),h.ic(),h.ic(),h.jc(13,"button",20),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().beginEditAttacks(t)})),h.jc(14,"mat-icon"),h.Wc(15,"build"),h.ic(),h.ic(),h.ic(),h.ic(),h.ic()}if(2&t){var a=e.$implicit,n=h.uc();h.Rb(2),h.zc("ngIf",!n.getImage(a)),h.Rb(1),h.zc("ngIf",n.getImage(a)),h.Rb(4),h.Yc(" ",a.name," "),h.Rb(1),h.Yc(" ",n.getDescription(a)," "),h.Rb(2),h.zc("href",n.getUpstreamURL(a.upstream),h.Nc),h.Rb(3),h.zc("matTooltip",a.import_version<n.MIN_CHARACTER_AUTOMATION_VERSION?"Please !update your character to use Automation.":"Edit Attacks")}}var Z=function(){function t(e,a){c(this,t),this.dashboardService=e,this.dialog=a,this.MIN_CHARACTER_AUTOMATION_VERSION=17}return n(t,[{key:"ngOnInit",value:function(){this.getUserInfo(),this.getUserStats(),this.getCharacters(),this.onResize(null)}},{key:"getUserInfo",value:function(){this.userInfo=Object(C.a)(Object(O.d)())}},{key:"getUserStats",value:function(){this.userStats=this.dashboardService.getUserStats()}},{key:"getCharacters",value:function(){this.characters=this.dashboardService.getCharacterMeta()}},{key:"getInitials",value:function(t){var e=t.match(/\b\w/g)||[];return((e.shift()||"")+(e.pop()||"")).toUpperCase()}},{key:"getImage",value:function(t){return t.overrides.image||t.image}},{key:"getDescription",value:function(t){return t.overrides.desc||t.description}},{key:"getUpstreamURL",value:function(t){return t.startsWith("dicecloud-")?"https://dicecloud.com/character/"+t.slice(10):t.startsWith("google-")?"https://docs.google.com/spreadsheets/d/"+t.slice(7):t.startsWith("beyond-")?"https://ddb.ac/characters/"+t.slice(7):""}},{key:"beginEditAttacks",value:function(t){t.import_version<this.MIN_CHARACTER_AUTOMATION_VERSION||this.dialog.open(B,{width:"75%",disableClose:!0,data:t}).afterClosed().subscribe((function(t){console.log(t)}))}},{key:"onResize",value:function(t){window.innerWidth<600?this.numCols=1:window.innerWidth<1024?this.numCols=2:window.innerWidth<1440?this.numCols=4:this.numCols=6}}]),t}();Z.\u0275fac=function(t){return new(t||Z)(h.dc(f.a),h.dc(x.b))},Z.\u0275cmp=h.Xb({type:Z,selectors:[["avr-characters"]],decls:7,vars:7,consts:[[1,"characterList"],["class","user-card",4,"ngIf"],[1,"spacer-8px"],["rowHeight","5:6","gutterSize","8",3,"cols","resize"],["class","character-tile",4,"ngFor","ngForOf"],[1,"user-card"],["cols","4","rowHeight","1:1"],["alt","avatar",1,"avatarImg","mat-elevation-z1",3,"src"],["colspan","3"],[1,"mat-display-2","smallmargin"],[1,"mat-small"],[1,"mat-h3"],[1,"character-tile"],[1,"character-name-underlay","mat-typography","character-image"],["class","ignore-theme",4,"ngIf"],["class","character-image",3,"src","alt",4,"ngIf"],[1,"character-meta"],[1,"mat-typography","ignore-theme","character-text"],[1,"mat-typography","ignore-theme","character-actions"],["mat-icon-button","","matTooltip","View Sheet","target","_blank",3,"href"],["mat-icon-button","",3,"matTooltip","click"],[1,"ignore-theme"],[1,"character-image",3,"src","alt"]],template:function(t,e){1&t&&(h.jc(0,"div",0),h.Vc(1,$,19,15,"mat-card",1),h.vc(2,"async"),h.ec(3,"div",2),h.jc(4,"mat-grid-list",3),h.qc("resize",(function(t){return e.onResize(t)}),!1,h.Kc),h.Vc(5,K,16,6,"mat-grid-tile",4),h.vc(6,"async"),h.ic(),h.ic()),2&t&&(h.Rb(1),h.zc("ngIf",h.wc(2,3,e.userInfo)),h.Rb(3),h.zc("cols",e.numCols),h.Rb(1),h.zc("ngForOf",h.wc(6,5,e.characters)))},directives:[o.t,J.b,o.s,H.a,J.d,W.a,P.a,g.a,W.b],pipes:[o.b],styles:[".characterList[_ngcontent-%COMP%]{margin:8px}.avatarImg[_ngcontent-%COMP%]{position:center;height:80%;width:80%;border-radius:50%}.smallmargin[_ngcontent-%COMP%]{margin-bottom:16px}.spacer-8px[_ngcontent-%COMP%]{margin:8px}.character-tile[_ngcontent-%COMP%]{border-radius:10px}.ignore-theme[_ngcontent-%COMP%]{color:#fff}.character-text[_ngcontent-%COMP%]{margin:1em 1em 0;height:calc(100% - (3em + 40px));word-wrap:break-word;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.character-text[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.character-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.character-actions[_ngcontent-%COMP%]{margin:1em;height:40px}.character-name-underlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;background:#424242;z-index:-1}.character-name-underlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative;top:50%;transform:translateY(-50%);font-size:xx-large}.character-tile[_ngcontent-%COMP%]   .character-image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;transition:all .5s ease}.character-tile[_ngcontent-%COMP%]:hover   .character-image[_ngcontent-%COMP%]{webkit-filter:blur(3px) brightness(.7);filter:blur(3px) brightness(.7);transform:scale(1.05)}.character-meta[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;opacity:0;transition:all .5s ease}.character-meta[_ngcontent-%COMP%]:hover{opacity:1}"]});var tt=i("wZkO"),et=i("D33r"),ct=i("AytR"),at=i("JIr8"),nt=i("tk/3"),it=ct.a.apiURL+"/customizations/aliases",ot=ct.a.apiURL+"/customizations/snippets",rt=ct.a.apiURL+"/customizations/uvars",lt=function(){function t(e){c(this,t),this.http=e}return n(t,[{key:"getAliases",value:function(){return this.http.get(it,Object(O.b)())}},{key:"updateAlias",value:function(t){return this.http.post("".concat(it,"/").concat(t.name),t,Object(O.c)()).pipe(Object(at.a)(this.handleTextError("updateAlias")))}},{key:"deleteAlias",value:function(t){return this.http.delete("".concat(it,"/").concat(t.name),Object(O.c)()).pipe(Object(at.a)(this.handleTextError("deleteAlias")))}},{key:"getSnippets",value:function(){return this.http.get(ot,Object(O.b)())}},{key:"updateSnippet",value:function(t){return this.http.post("".concat(ot,"/").concat(t.name),t,Object(O.c)()).pipe(Object(at.a)(this.handleTextError("updateSnippet")))}},{key:"deleteSnippet",value:function(t){return this.http.delete("".concat(ot,"/").concat(t.name),Object(O.c)()).pipe(Object(at.a)(this.handleTextError("deleteSnippet")))}},{key:"getUvars",value:function(){return this.http.get(rt,Object(O.b)())}},{key:"updateUvar",value:function(t){return this.http.post("".concat(rt,"/").concat(t.name),t,Object(O.c)()).pipe(Object(at.a)(this.handleTextError("updateUvar")))}},{key:"deleteUvar",value:function(t){return this.http.delete("".concat(rt,"/").concat(t.name),Object(O.c)()).pipe(Object(at.a)(this.handleTextError("deleteUvar")))}},{key:"handleTextError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation";return function(e){return console.error(e),Object(C.a)("".concat(t," failed: ").concat(e.error))}}}]),t}();lt.\u0275fac=function(t){return new(t||lt)(h.nc(nt.b))},lt.\u0275prov=h.Zb({token:lt,factory:lt.\u0275fac,providedIn:"root"});var st=function(){function t(e){c(this,t),this.data=e}return n(t,[{key:"ngOnInit",value:function(){}}]),t}();function ut(t,e){if(1&t){var c=h.kc();h.jc(0,"mat-form-field"),h.jc(1,"input",7),h.qc("ngModelChange",(function(t){return h.Lc(c),h.uc().name=t})),h.ic(),h.ic()}if(2&t){var a=h.uc();h.Rb(1),h.zc("ngModel",a.name)}}st.\u0275fac=function(t){return new(t||st)(h.dc(x.a))},st.\u0275cmp=h.Xb({type:st,selectors:[["avr-edit-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["matInput","","spellcheck","false",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(h.jc(0,"h2",0),h.Wc(1),h.ic(),h.jc(2,"mat-dialog-content",1),h.jc(3,"mat-form-field"),h.jc(4,"textarea",2),h.qc("ngModelChange",(function(t){return e.data.content=t})),h.ic(),h.ic(),h.ic(),h.jc(5,"mat-dialog-actions"),h.jc(6,"button",3),h.Wc(7,"Cancel"),h.ic(),h.jc(8,"button",4),h.Wc(9,"Done"),h.ic(),h.ic()),2&t&&(h.Rb(1),h.Yc("Editing ",e.data.name,""),h.Rb(3),h.zc("ngModel",e.data.content),h.Rb(4),h.zc("mat-dialog-close",e.data.content))},directives:[x.i,x.f,S.c,V.a,l.c,l.n,l.q,x.c,W.b,x.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-family:Courier New,monospace}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){min-height:200px}"]});var dt=function(t,e){return{name:t,value:e}},mt=function(){function t(e){c(this,t),this.data=e}return n(t,[{key:"ngOnInit",value:function(){}}]),t}();mt.\u0275fac=function(t){return new(t||mt)(h.dc(x.a))},mt.\u0275cmp=h.Xb({type:mt,selectors:[["avr-new-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],[4,"ngIf"],["matInput","","placeholder","Value",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(h.jc(0,"h2",0),h.Wc(1),h.ic(),h.jc(2,"mat-dialog-content",1),h.jc(3,"div",2),h.Vc(4,ut,2,1,"mat-form-field",3),h.jc(5,"mat-form-field"),h.jc(6,"textarea",4),h.qc("ngModelChange",(function(t){return e.value=t})),h.ic(),h.ic(),h.ic(),h.ic(),h.jc(7,"mat-dialog-actions"),h.jc(8,"button",5),h.Wc(9,"Cancel"),h.ic(),h.jc(10,"button",6),h.Wc(11,"Done"),h.ic(),h.ic()),2&t&&(h.Rb(1),h.Yc("New ",e.data.type,"..."),h.Rb(3),h.zc("ngIf",e.data.showName),h.Rb(2),h.zc("ngModel",e.value),h.Rb(4),h.zc("mat-dialog-close",h.Ec(4,dt,e.name,e.value)))},directives:[x.i,x.f,o.t,S.c,V.a,l.c,l.n,l.q,x.c,W.b,x.d],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace}"]});var ft=i("dNgK"),ht=i("+0xr");function pt(t,e){1&t&&(h.jc(0,"th",12),h.Wc(1,"Name"),h.ic())}function vt(t,e){if(1&t&&(h.jc(0,"td",13),h.Wc(1),h.ic()),2&t){var c=e.$implicit;h.Rb(1),h.Xc(c.name)}}function bt(t,e){1&t&&(h.jc(0,"td",14),h.Wc(1,"Create New"),h.ic())}function gt(t,e){1&t&&(h.jc(0,"th",15),h.Wc(1,"Commands"),h.ic())}function kt(t,e){if(1&t&&(h.jc(0,"td",13),h.jc(1,"pre"),h.Wc(2),h.ic(),h.ic()),2&t){var c=e.$implicit;h.Rb(2),h.Xc(c.commands)}}function yt(t,e){1&t&&h.ec(0,"td",14)}function jt(t,e){1&t&&h.ec(0,"th",16)}function wt(t,e){if(1&t){var c=h.kc();h.jc(0,"td",13),h.jc(1,"button",17),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().beginEdit(t)})),h.jc(2,"mat-icon",18),h.Wc(3,"edit"),h.ic(),h.ic(),h.jc(4,"button",19),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().confirmDelete(t)})),h.jc(5,"mat-icon",20),h.Wc(6,"delete"),h.ic(),h.ic(),h.ic()}}function Ct(t,e){if(1&t){var c=h.kc();h.jc(0,"td",14),h.jc(1,"button",17),h.qc("click",(function(){return h.Lc(c),h.uc().beginNew()})),h.jc(2,"mat-icon",21),h.Wc(3,"launch"),h.ic(),h.ic(),h.ic()}}function Ot(t,e){1&t&&h.ec(0,"tr",22)}function xt(t,e){1&t&&h.ec(0,"tr",23)}function Rt(t,e){1&t&&h.ec(0,"tr",24)}var Mt=function(){function t(e,a,n){c(this,t),this.dialog=e,this.snackBar=a,this.custService=n,this.columnsToDisplay=["name","commands","buttons"]}return n(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){var t=this;this.custService.getAliases().subscribe((function(e){return t.data=e}))}},{key:"beginNew",value:function(){var t=this;this.dialog.open(mt,{data:{showName:!0,type:"alias"},width:"60%"}).afterClosed().subscribe((function(e){if(e){if(!e.name||!e.value)return void t.snackBar.open("Name or commands cannot be empty.");var c={name:e.name,commands:e.value};if(c.name.includes(" "))return void t.snackBar.open("Name cannot contain whitespace.");t.post(c)}}))}},{key:"beginEdit",value:function(t){var e=this;this.dialog.open(st,{data:{name:t.name,content:t.commands},width:"60%"}).afterClosed().subscribe((function(c){c&&(t.commands=c,e.post(t))}))}},{key:"confirmDelete",value:function(t){var e=this;this.dialog.open(et.a,{data:{name:t.name}}).afterClosed().subscribe((function(c){c&&e.delete(t)}))}},{key:"post",value:function(t){var e=this;this.custService.updateAlias(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}},{key:"delete",value:function(t){var e=this;this.custService.deleteAlias(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}}]),t}();function It(t,e){1&t&&(h.jc(0,"th",12),h.Wc(1,"Name"),h.ic())}function _t(t,e){if(1&t&&(h.jc(0,"td",13),h.Wc(1),h.ic()),2&t){var c=e.$implicit;h.Rb(1),h.Xc(c.name)}}function Wt(t,e){1&t&&(h.jc(0,"td",14),h.Wc(1,"Create New"),h.ic())}function St(t,e){1&t&&(h.jc(0,"th",15),h.Wc(1,"Value"),h.ic())}function Dt(t,e){if(1&t&&(h.jc(0,"td",13),h.jc(1,"pre"),h.Wc(2),h.ic(),h.ic()),2&t){var c=e.$implicit;h.Rb(2),h.Xc(c.snippet)}}function At(t,e){1&t&&h.ec(0,"td",14)}function Pt(t,e){1&t&&h.ec(0,"th",16)}function zt(t,e){if(1&t){var c=h.kc();h.jc(0,"td",13),h.jc(1,"button",17),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().beginEdit(t)})),h.jc(2,"mat-icon",18),h.Wc(3,"edit"),h.ic(),h.ic(),h.jc(4,"button",19),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().confirmDelete(t)})),h.jc(5,"mat-icon",20),h.Wc(6,"delete"),h.ic(),h.ic(),h.ic()}}function Vt(t,e){if(1&t){var c=h.kc();h.jc(0,"td",14),h.jc(1,"button",17),h.qc("click",(function(){return h.Lc(c),h.uc().beginNew()})),h.jc(2,"mat-icon",21),h.Wc(3,"launch"),h.ic(),h.ic(),h.ic()}}function Nt(t,e){1&t&&h.ec(0,"tr",22)}function Lt(t,e){1&t&&h.ec(0,"tr",23)}function Tt(t,e){1&t&&h.ec(0,"tr",24)}Mt.\u0275fac=function(t){return new(t||Mt)(h.dc(x.b),h.dc(ft.b),h.dc(lt))},Mt.\u0275cmp=h.Xb({type:Mt,selectors:[["avr-alias-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","commands"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(h.jc(0,"table",0),h.hc(1,1),h.Vc(2,pt,2,0,"th",2),h.Vc(3,vt,2,1,"td",3),h.Vc(4,bt,2,0,"td",4),h.gc(),h.hc(5,5),h.Vc(6,gt,2,0,"th",6),h.Vc(7,kt,3,1,"td",3),h.Vc(8,yt,1,0,"td",4),h.gc(),h.hc(9,7),h.Vc(10,jt,1,0,"th",8),h.Vc(11,wt,7,0,"td",3),h.Vc(12,Ct,4,0,"td",4),h.gc(),h.Vc(13,Ot,1,0,"tr",9),h.Vc(14,xt,1,0,"tr",10),h.Vc(15,Rt,1,0,"tr",11),h.ic()),2&t&&(h.zc("dataSource",e.data),h.Rb(13),h.zc("matHeaderRowDef",e.columnsToDisplay),h.Rb(1),h.zc("matRowDefColumns",e.columnsToDisplay),h.Rb(1),h.zc("matFooterRowDef",e.columnsToDisplay))},directives:[ht.o,ht.c,ht.i,ht.b,ht.e,ht.k,ht.n,ht.g,ht.h,ht.a,ht.d,W.b,g.a,ht.j,ht.m,ht.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});var qt=function(){function t(e,a,n){c(this,t),this.dialog=e,this.snackBar=a,this.custService=n,this.columnsToDisplay=["name","snippet","buttons"]}return n(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){var t=this;this.custService.getSnippets().subscribe((function(e){return t.data=e}))}},{key:"beginNew",value:function(){var t=this;this.dialog.open(mt,{data:{showName:!0,type:"snippet"},width:"60%"}).afterClosed().subscribe((function(e){if(e){if(!e.name||!e.value)return void t.snackBar.open("Name or value cannot be empty.");var c={name:e.name,snippet:e.value};if(c.name.includes(" "))return void t.snackBar.open("Name cannot contain whitespace.");if(c.name.length<2)return void t.snackBar.open("Name must be at least 2 characters.");t.post(c)}}))}},{key:"beginEdit",value:function(t){var e=this;this.dialog.open(st,{data:{name:t.name,content:t.snippet},width:"60%"}).afterClosed().subscribe((function(c){c&&(t.snippet=c,e.post(t))}))}},{key:"confirmDelete",value:function(t){var e=this;this.dialog.open(et.a,{data:{name:t.name}}).afterClosed().subscribe((function(c){c&&e.delete(t)}))}},{key:"post",value:function(t){var e=this;this.custService.updateSnippet(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}},{key:"delete",value:function(t){var e=this;this.custService.deleteSnippet(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}}]),t}();function Et(t,e){1&t&&(h.jc(0,"th",12),h.Wc(1,"Name"),h.ic())}function Xt(t,e){if(1&t&&(h.jc(0,"td",13),h.Wc(1),h.ic()),2&t){var c=e.$implicit;h.Rb(1),h.Xc(c.name)}}function Gt(t,e){1&t&&(h.jc(0,"td",14),h.Wc(1,"Create New"),h.ic())}function Ft(t,e){1&t&&(h.jc(0,"th",15),h.Wc(1,"Value"),h.ic())}function Ut(t,e){if(1&t&&(h.jc(0,"td",13),h.jc(1,"pre"),h.Wc(2),h.ic(),h.ic()),2&t){var c=e.$implicit;h.Rb(2),h.Xc(c.value)}}function Bt(t,e){1&t&&h.ec(0,"td",14)}function Jt(t,e){1&t&&h.ec(0,"th",16)}function Ht(t,e){if(1&t){var c=h.kc();h.jc(0,"td",13),h.jc(1,"button",17),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().beginEdit(t)})),h.jc(2,"mat-icon",18),h.Wc(3,"edit"),h.ic(),h.ic(),h.jc(4,"button",19),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().confirmDelete(t)})),h.jc(5,"mat-icon",20),h.Wc(6,"delete"),h.ic(),h.ic(),h.ic()}}function $t(t,e){if(1&t){var c=h.kc();h.jc(0,"td",14),h.jc(1,"button",17),h.qc("click",(function(){return h.Lc(c),h.uc().beginNew()})),h.jc(2,"mat-icon",21),h.Wc(3,"launch"),h.ic(),h.ic(),h.ic()}}function Yt(t,e){1&t&&h.ec(0,"tr",22)}function Qt(t,e){1&t&&h.ec(0,"tr",23)}function Kt(t,e){1&t&&h.ec(0,"tr",24)}qt.\u0275fac=function(t){return new(t||qt)(h.dc(x.b),h.dc(ft.b),h.dc(lt))},qt.\u0275cmp=h.Xb({type:qt,selectors:[["avr-snippet-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","snippet"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(h.jc(0,"table",0),h.hc(1,1),h.Vc(2,It,2,0,"th",2),h.Vc(3,_t,2,1,"td",3),h.Vc(4,Wt,2,0,"td",4),h.gc(),h.hc(5,5),h.Vc(6,St,2,0,"th",6),h.Vc(7,Dt,3,1,"td",3),h.Vc(8,At,1,0,"td",4),h.gc(),h.hc(9,7),h.Vc(10,Pt,1,0,"th",8),h.Vc(11,zt,7,0,"td",3),h.Vc(12,Vt,4,0,"td",4),h.gc(),h.Vc(13,Nt,1,0,"tr",9),h.Vc(14,Lt,1,0,"tr",10),h.Vc(15,Tt,1,0,"tr",11),h.ic()),2&t&&(h.zc("dataSource",e.data),h.Rb(13),h.zc("matHeaderRowDef",e.columnsToDisplay),h.Rb(1),h.zc("matRowDefColumns",e.columnsToDisplay),h.Rb(1),h.zc("matFooterRowDef",e.columnsToDisplay))},directives:[ht.o,ht.c,ht.i,ht.b,ht.e,ht.k,ht.n,ht.g,ht.h,ht.a,ht.d,W.b,g.a,ht.j,ht.m,ht.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});var Zt=function(){function t(e,a,n){c(this,t),this.dialog=e,this.snackBar=a,this.custService=n,this.columnsToDisplay=["name","value","buttons"]}return n(t,[{key:"ngOnInit",value:function(){}},{key:"refresh",value:function(){var t=this;this.custService.getUvars().subscribe((function(e){return t.data=e}))}},{key:"beginNew",value:function(){var t=this;this.dialog.open(mt,{data:{showName:!0,type:"uvar"},width:"60%"}).afterClosed().subscribe((function(e){if(e){if(!e.name||!e.value)return void t.snackBar.open("Name or value cannot be empty.");var c={name:e.name,value:e.value};t.post(c)}}))}},{key:"beginEdit",value:function(t){var e=this;this.dialog.open(st,{data:{name:t.name,content:t.value},width:"60%"}).afterClosed().subscribe((function(c){c&&(t.value=c,e.post(t))}))}},{key:"confirmDelete",value:function(t){var e=this;this.dialog.open(et.a,{data:{name:t.name}}).afterClosed().subscribe((function(c){c&&e.delete(t)}))}},{key:"post",value:function(t){var e=this;this.custService.updateUvar(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}},{key:"delete",value:function(t){var e=this;this.custService.deleteUvar(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}}]),t}();Zt.\u0275fac=function(t){return new(t||Zt)(h.dc(x.b),h.dc(ft.b),h.dc(lt))},Zt.\u0275cmp=h.Xb({type:Zt,selectors:[["avr-uvar-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(h.jc(0,"table",0),h.hc(1,1),h.Vc(2,Et,2,0,"th",2),h.Vc(3,Xt,2,1,"td",3),h.Vc(4,Gt,2,0,"td",4),h.gc(),h.hc(5,5),h.Vc(6,Ft,2,0,"th",6),h.Vc(7,Ut,3,1,"td",3),h.Vc(8,Bt,1,0,"td",4),h.gc(),h.hc(9,7),h.Vc(10,Jt,1,0,"th",8),h.Vc(11,Ht,7,0,"td",3),h.Vc(12,$t,4,0,"td",4),h.gc(),h.Vc(13,Yt,1,0,"tr",9),h.Vc(14,Qt,1,0,"tr",10),h.Vc(15,Kt,1,0,"tr",11),h.ic()),2&t&&(h.zc("dataSource",e.data),h.Rb(13),h.zc("matHeaderRowDef",e.columnsToDisplay),h.Rb(1),h.zc("matRowDefColumns",e.columnsToDisplay),h.Rb(1),h.zc("matFooterRowDef",e.columnsToDisplay))},directives:[ht.o,ht.c,ht.i,ht.b,ht.e,ht.k,ht.n,ht.g,ht.h,ht.a,ht.d,W.b,g.a,ht.j,ht.m,ht.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});var te=function(){function t(e){c(this,t),this.dashboardService=e}return n(t,[{key:"ngOnInit",value:function(){this.getCustomizations()}},{key:"getCustomizations",value:function(){this.customizations=this.dashboardService.getCustomizations()}}]),t}();te.\u0275fac=function(t){return new(t||te)(h.dc(f.a))},te.\u0275cmp=h.Xb({type:te,selectors:[["avr-customization"]],decls:12,vars:9,consts:[[1,"container"],["label","Aliases"],[3,"data"],["label","Snippets"],["label","Uvars"]],template:function(t,e){var c,a,n;(1&t&&(h.jc(0,"div",0),h.jc(1,"mat-card"),h.jc(2,"mat-tab-group"),h.jc(3,"mat-tab",1),h.ec(4,"avr-alias-list",2),h.vc(5,"async"),h.ic(),h.jc(6,"mat-tab",3),h.ec(7,"avr-snippet-list",2),h.vc(8,"async"),h.ic(),h.jc(9,"mat-tab",4),h.ec(10,"avr-uvar-list",2),h.vc(11,"async"),h.ic(),h.ic(),h.ic(),h.ic()),2&t)&&(h.Rb(4),h.zc("data",null==(c=h.wc(5,3,e.customizations))?null:c.aliases),h.Rb(3),h.zc("data",null==(a=h.wc(8,5,e.customizations))?null:a.snippets),h.Rb(3),h.zc("data",null==(n=h.wc(11,7,e.customizations))?null:n.uvars))},directives:[H.a,tt.c,tt.a,Mt,qt,Zt],pipes:[o.b],styles:[".container[_ngcontent-%COMP%]{margin:8px}"]});var ee=ct.a.apiURL+"/customizations/gvars",ce=function(){function t(e){c(this,t),this.http=e}return n(t,[{key:"getAllGvars",value:function(){return this.http.get(ee,Object(O.b)())}},{key:"getGvars",value:function(t){return this.http.get("".concat(ee,"/").concat(t?"owned":"editable"),Object(O.b)())}},{key:"newGvar",value:function(t){return this.http.post(""+ee,t,Object(O.c)()).pipe(Object(at.a)(this.handleTextError("newGvar")))}},{key:"getGvar",value:function(t){return this.http.get("".concat(ee,"/").concat(t),Object(O.b)()).pipe(Object(at.a)((function(t){return Object(C.a)(!1)})))}},{key:"updateGvar",value:function(t){return this.http.post("".concat(ee,"/").concat(t.key),t,Object(O.c)()).pipe(Object(at.a)(this.handleTextError("updateGvar")))}},{key:"deleteGvar",value:function(t){return this.http.delete("".concat(ee,"/").concat(t.key),Object(O.c)()).pipe(Object(at.a)(this.handleTextError("deleteGvar")))}},{key:"handleTextError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation";return function(e){return console.error(e),Object(C.a)("".concat(t," failed: ").concat(e.error))}}}]),t}();function ae(t,e){1&t&&(h.jc(0,"th",11),h.Wc(1,"ID"),h.ic())}function ne(t,e){if(1&t&&(h.jc(0,"td",12),h.Wc(1),h.ic()),2&t){var c=e.$implicit;h.Rb(1),h.Xc(c.key)}}function ie(t,e){if(1&t&&(h.jc(0,"td",13),h.Wc(1),h.ic()),2&t){var c=h.uc();h.Rb(1),h.Xc(c.owned?"Create New":"")}}function oe(t,e){1&t&&(h.jc(0,"th",14),h.Wc(1,"Value"),h.ic())}function re(t,e){if(1&t&&(h.jc(0,"td",12),h.jc(1,"pre"),h.Wc(2),h.ic(),h.ic()),2&t){var c=e.$implicit;h.Rb(2),h.Xc(c.value)}}function le(t,e){1&t&&h.ec(0,"td",13)}function se(t,e){1&t&&h.ec(0,"th",11)}function ue(t,e){if(1&t){var c=h.kc();h.jc(0,"button",18),h.qc("click",(function(){h.Lc(c);var t=h.uc().$implicit;return h.uc().confirmDelete(t)})),h.jc(1,"mat-icon",19),h.Wc(2,"delete"),h.ic(),h.ic()}}function de(t,e){if(1&t){var c=h.kc();h.jc(0,"td",12),h.jc(1,"button",15),h.qc("click",(function(){h.Lc(c);var t=e.$implicit;return h.uc().beginEdit(t)})),h.jc(2,"mat-icon",16),h.Wc(3,"edit"),h.ic(),h.ic(),h.Vc(4,ue,3,0,"button",17),h.ic()}if(2&t){var a=h.uc();h.Rb(4),h.zc("ngIf",a.owned)}}function me(t,e){if(1&t){var c=h.kc();h.jc(0,"button",15),h.qc("click",(function(){return h.Lc(c),h.uc(2).beginNew()})),h.jc(1,"mat-icon",21),h.Wc(2,"launch"),h.ic(),h.ic()}}function fe(t,e){if(1&t&&(h.jc(0,"td",13),h.Vc(1,me,3,0,"button",20),h.ic()),2&t){var c=h.uc();h.Rb(1),h.zc("ngIf",c.owned)}}function he(t,e){1&t&&h.ec(0,"tr",22)}function pe(t,e){1&t&&h.ec(0,"tr",23)}function ve(t,e){1&t&&h.ec(0,"tr",25)}function be(t,e){if(1&t&&(h.jc(0,"div"),h.Vc(1,ve,1,0,"tr",24),h.ic()),2&t){var c=h.uc();h.Rb(1),h.zc("matFooterRowDef",c.columnsToDisplay)}}ce.\u0275fac=function(t){return new(t||ce)(h.nc(nt.b))},ce.\u0275prov=h.Zb({token:ce,factory:ce.\u0275fac,providedIn:"root"});var ge=function(){function t(e,a,n){c(this,t),this.dialog=e,this.snackBar=a,this.gvarService=n,this.columnsToDisplay=["name","value","buttons"]}return n(t,[{key:"ngOnInit",value:function(){}},{key:"sortedGvars",value:function(t){return null==t?void 0:t.sort((function(t,e){return t.key.localeCompare(e.key)}))}},{key:"refresh",value:function(){var t=this;this.gvarService.getGvars(this.owned).subscribe((function(e){return t.data=e}))}},{key:"beginNew",value:function(){var t=this;this.dialog.open(mt,{data:{showName:!1,type:"gvar"},width:"60%"}).afterClosed().subscribe((function(e){if(e){if(!e.value)return void t.snackBar.open("Value cannot be empty.");var c={value:e.value};t.new(c)}}))}},{key:"beginEdit",value:function(t){var e=this;this.dialog.open(st,{data:{name:t.key,content:t.value},width:"60%"}).afterClosed().subscribe((function(c){c&&(t.value=c,e.post(t))}))}},{key:"confirmDelete",value:function(t){var e=this;this.dialog.open(et.a,{data:{name:t.key}}).afterClosed().subscribe((function(c){c&&e.delete(t)}))}},{key:"new",value:function(t){var e=this;this.gvarService.newGvar(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}},{key:"post",value:function(t){var e=this;this.gvarService.updateGvar(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}},{key:"delete",value:function(t){var e=this;this.gvarService.deleteGvar(t).subscribe((function(t){e.refresh(),e.snackBar.open(t)}))}}]),t}();function ke(t,e){if(1&t&&(h.jc(0,"div"),h.jc(1,"p"),h.Wc(2),h.ic(),h.jc(3,"p"),h.jc(4,"i"),h.Wc(5),h.ic(),h.ic(),h.ec(6,"mat-divider"),h.jc(7,"div",5),h.jc(8,"pre",6),h.Wc(9),h.ic(),h.ic(),h.ic()),2&t){var c=h.uc();h.Rb(2),h.Yc(" ",c.activeGvar.key," "),h.Rb(3),h.Yc("Owned by: ",c.activeGvar.owner_name,""),h.Rb(4),h.Xc(c.activeGvar.value)}}function ye(t,e){if(1&t&&(h.jc(0,"div"),h.jc(1,"p",7),h.Wc(2),h.ic(),h.ic()),2&t){var c=h.uc();h.Rb(2),h.Yc(" ",c.error," ")}}ge.\u0275fac=function(t){return new(t||ge)(h.dc(x.b),h.dc(ft.b),h.dc(ce))},ge.\u0275cmp=h.Xb({type:ge,selectors:[["avr-gvar-list"]],inputs:{data:"data",owned:"owned"},decls:16,vars:4,consts:[["mat-table","",1,"list-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["mat-icon-button","",3,"click",4,"ngIf"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(t,e){1&t&&(h.jc(0,"table",0),h.hc(1,1),h.Vc(2,ae,2,0,"th",2),h.Vc(3,ne,2,1,"td",3),h.Vc(4,ie,2,1,"td",4),h.gc(),h.hc(5,5),h.Vc(6,oe,2,0,"th",6),h.Vc(7,re,3,1,"td",3),h.Vc(8,le,1,0,"td",4),h.gc(),h.hc(9,7),h.Vc(10,se,1,0,"th",2),h.Vc(11,de,5,1,"td",3),h.Vc(12,fe,2,1,"td",4),h.gc(),h.Vc(13,he,1,0,"tr",8),h.Vc(14,pe,1,0,"tr",9),h.Vc(15,be,2,1,"div",10),h.ic()),2&t&&(h.zc("dataSource",e.sortedGvars(e.data)),h.Rb(13),h.zc("matHeaderRowDef",e.columnsToDisplay),h.Rb(1),h.zc("matRowDefColumns",e.columnsToDisplay),h.Rb(1),h.zc("ngIf",e.owned))},directives:[ht.o,ht.c,ht.i,ht.b,ht.e,ht.k,ht.n,o.t,ht.h,ht.a,ht.d,W.b,g.a,ht.j,ht.m,ht.g,ht.f],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:55%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width:840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(2n){background:hsla(0,0%,80%,.15)}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:120px}"]});var je=function(){function t(e,a){c(this,t),this.gvarService=e,this.route=a}return n(t,[{key:"ngOnInit",value:function(){this.checkForLookupQuery()}},{key:"lookupGvar",value:function(t){var e=this;t=t.trim(),console.log(t);var c=new URLSearchParams(window.location.search);c.set("lookup",t);var a=window.location.pathname+"?"+c.toString();history.pushState(null,"",a),this.gvarService.getGvar(t).subscribe((function(t){e.activeGvar=null,e.error=null,!1===t?e.error="Failed to get gvar.":e.activeGvar=t}))}},{key:"checkForLookupQuery",value:function(){var t=this.route.snapshot.queryParamMap.get("lookup");t&&this.lookupGvar(t)}}]),t}();je.\u0275fac=function(t){return new(t||je)(h.dc(ce),h.dc(d.a))},je.\u0275cmp=h.Xb({type:je,selectors:[["avr-gvar-lookup"]],decls:7,vars:2,consts:[[1,"lookup-id-input"],["matInput","","placeholder","Gvar ID"],["lookupIdInput",""],["mat-flat-button","","color","primary",3,"click"],[4,"ngIf"],[1,"gvar-value-container"],[1,"gvar-value-display"],[2,"color","red"]],template:function(t,e){if(1&t){var c=h.kc();h.jc(0,"mat-form-field",0),h.ec(1,"input",1,2),h.ic(),h.jc(3,"button",3),h.qc("click",(function(){h.Lc(c);var t=h.Ic(2);return e.lookupGvar(t.value)})),h.Wc(4,"Lookup"),h.ic(),h.Vc(5,ke,10,3,"div",4),h.Vc(6,ye,3,1,"div",4)}2&t&&(h.Rb(5),h.zc("ngIf",e.activeGvar),h.Rb(1),h.zc("ngIf",e.error))},directives:[S.c,V.a,W.b,o.t,z.a],styles:[".lookup-id-input[_ngcontent-%COMP%]{margin-right:4px;width:50%}.gvar-value-container[_ngcontent-%COMP%]{padding-top:1em}.gvar-value-display[_ngcontent-%COMP%]{white-space:pre-wrap;background-color:rgba(0,0,0,.1);margin:0;border:1px solid rgba(0,0,0,.15);border-radius:6px}"]});var we=function(){function t(e,a){c(this,t),this.gvarService=e,this.route=a}return n(t,[{key:"ngOnInit",value:function(){this.getCustomizations(),this.checkForLookupQuery()}},{key:"getCustomizations",value:function(){this.gvars=this.gvarService.getAllGvars()}},{key:"checkForLookupQuery",value:function(){this.route.snapshot.queryParamMap.get("lookup")&&(this.forcedTabIndex=2)}}]),t}();we.\u0275fac=function(t){return new(t||we)(h.dc(ce),h.dc(d.a))},we.\u0275cmp=h.Xb({type:we,selectors:[["avr-gvars"]],decls:11,vars:9,consts:[[1,"container"],[3,"selectedIndex","selectedIndexChange"],["label","Owned"],[3,"data","owned"],["label","Editable"],["label","Lookup"]],template:function(t,e){var c,a;(1&t&&(h.jc(0,"div",0),h.jc(1,"mat-card"),h.jc(2,"mat-tab-group",1),h.qc("selectedIndexChange",(function(t){return e.forcedTabIndex=t})),h.jc(3,"mat-tab",2),h.ec(4,"avr-gvar-list",3),h.vc(5,"async"),h.ic(),h.jc(6,"mat-tab",4),h.ec(7,"avr-gvar-list",3),h.vc(8,"async"),h.ic(),h.jc(9,"mat-tab",5),h.ec(10,"avr-gvar-lookup"),h.ic(),h.ic(),h.ic(),h.ic()),2&t)&&(h.Rb(2),h.zc("selectedIndex",e.forcedTabIndex),h.Rb(2),h.zc("data",null==(c=h.wc(5,5,e.gvars))?null:c.owned)("owned",!0),h.Rb(3),h.zc("data",null==(a=h.wc(8,7,e.gvars))?null:a.editable)("owned",!1))},directives:[H.a,tt.c,tt.a,ge,je],pipes:[o.b],styles:[".container[_ngcontent-%COMP%]{margin:8px}"]});var Ce=i("E6a1"),Oe=function(){function t(e){c(this,t),this.router=e}return n(t,[{key:"canActivate",value:function(t,e){return!!Object(m.b)()||(Object(Ce.c)("after-login-redirect",e.url),Object(m.c)(),!1)}}]),t}();Oe.\u0275fac=function(t){return new(t||Oe)(h.nc(d.b))},Oe.\u0275prov=h.Zb({token:Oe,factory:Oe.\u0275fac,providedIn:"root"});var xe=[{path:"",canActivate:[Oe],component:w,children:[{path:"characters",component:Z},{path:"aliases",component:te},{path:"gvars",component:we},{path:"homebrew",loadChildren:function(){return i.e(11).then(i.bind(null,"XljO")).then((function(t){return t.HomebrewModule}))}},{path:"workshop",loadChildren:function(){return i.e(10).then(i.bind(null,"vTLJ")).then((function(t){return t.WorkshopModule}))}},{path:"",redirectTo:"characters",pathMatch:"full"}]}],Re=function t(){c(this,t)};Re.\u0275mod=h.bc({type:Re}),Re.\u0275inj=h.ac({factory:function(t){return new(t||Re)},imports:[[d.d.forChild(xe)],d.d]});var Me=function t(){c(this,t)};Me.\u0275mod=h.bc({type:Me}),Me.\u0275inj=h.ac({factory:function(t){return new(t||Me)},imports:[[o.c,s.a,l.h,Re,r.i,u.a]]})},XwxW:function(t,e,a){"use strict";a.d(e,"a",(function(){return k}));var i=a("0IaG"),o=a("fXoL"),r=a("ofXK"),l=a("bTqV"),s=a("kmnG"),u=a("qFsG"),d=a("3Pt+"),m=a("MutI"),f=a("Xa2L");function h(t,e){if(1&t){var c=o.kc();o.jc(0,"mat-list-item",9),o.qc("click",(function(){o.Lc(c);var t=e.$implicit;return o.uc(3).select(t)})),o.Wc(1),o.ic()}if(2&t){var a=e.$implicit,n=o.uc(3);o.Rb(1),o.Yc(" ",n.data.namer(a)," ")}}function p(t,e){if(1&t&&(o.jc(0,"div",7),o.jc(1,"mat-list"),o.Vc(2,h,2,1,"mat-list-item",8),o.ic(),o.ic()),2&t){var c=o.uc(2);o.Rb(2),o.zc("ngForOf",c.filteredTemplates)}}function v(t,e){1&t&&(o.jc(0,"div",7),o.Wc(1," No results found. "),o.ic())}function b(t,e){if(1&t){var c=o.kc();o.jc(0,"mat-dialog-content",3),o.jc(1,"div",4),o.jc(2,"mat-form-field"),o.jc(3,"input",5),o.qc("ngModelChange",(function(t){return o.Lc(c),o.uc().search=t}))("keyup",(function(){return o.Lc(c),o.uc().filterTemplates()})),o.ic(),o.ic(),o.ic(),o.Vc(4,p,3,1,"div",6),o.Vc(5,v,2,0,"div",6),o.ic()}if(2&t){var a=o.uc();o.Rb(3),o.zc("ngModel",a.search),o.Rb(1),o.zc("ngIf",null==a.filteredTemplates?null:a.filteredTemplates.length),o.Rb(1),o.zc("ngIf",!(null!=a.filteredTemplates&&a.filteredTemplates.length))}}function g(t,e){1&t&&(o.jc(0,"mat-dialog-content",3),o.ec(1,"mat-spinner",10),o.ic()),2&t&&(o.Rb(1),o.zc("diameter",24))}var k=function(){function t(e,a){c(this,t),this.data=e,this.dialogRef=a,this.search=""}return n(t,[{key:"ngOnInit",value:function(){this.getTemplates()}},{key:"select",value:function(t){this.dialogRef.close(t)}},{key:"filterTemplates",value:function(){var t=this;this.filteredTemplates=this.templates.filter((function(e){return t.data.namer(e).toLowerCase().includes(t.search.toLowerCase())}))}},{key:"getTemplates",value:function(){var t=this;this.data.getter().subscribe((function(e){t.templates=e,t.filterTemplates()}))}}]),t}();k.\u0275fac=function(t){return new(t||k)(o.dc(i.a),o.dc(i.h))},k.\u0275cmp=o.Xb({type:k,selectors:[["avr-srd-copy-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","keyup"],["class","results",4,"ngIf"],[1,"results"],["class","hoverable pointer",3,"click",4,"ngFor","ngForOf"],[1,"hoverable","pointer",3,"click"],[3,"diameter"]],template:function(t,e){1&t&&(o.jc(0,"h2",0),o.Wc(1,"Copying SRD object..."),o.ic(),o.Vc(2,b,6,3,"mat-dialog-content",1),o.Vc(3,g,2,1,"mat-dialog-content",1),o.jc(4,"mat-dialog-actions"),o.jc(5,"button",2),o.Wc(6,"Cancel"),o.ic(),o.ic()),2&t&&(o.Rb(2),o.zc("ngIf",e.templates),o.Rb(1),o.zc("ngIf",!e.templates))},directives:[i.i,r.t,i.c,l.b,i.d,i.f,s.c,u.a,d.c,d.n,d.q,m.a,r.s,m.d,f.c],encapsulation:2})},hMdP:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));var i=a("0IaG"),o=a("fXoL"),r=a("kmnG"),l=a("qFsG"),s=a("bTqV"),u=a("Qu3c"),d=a("NFeN"),m=function(){function t(e){c(this,t),this.data=e,this.jsonData=JSON.stringify(this.data.data)}return n(t,[{key:"ngOnInit",value:function(){}},{key:"copy",value:function(t){t.select(),document.execCommand("copy"),t.setSelectionRange(0,0)}}]),t}();m.\u0275fac=function(t){return new(t||m)(o.dc(i.a))},m.\u0275cmp=o.Xb({type:m,selectors:[["avr-json-export-dialog"]],decls:13,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],["matInput","","readonly","","placeholder","JSON","rows","10",3,"value"],["jsonElem",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Copy","matTooltip","Copy to clipboard",3,"click"],["mat-button","","mat-dialog-close",""]],template:function(t,e){if(1&t){var c=o.kc();o.jc(0,"h2",0),o.Wc(1),o.ic(),o.jc(2,"mat-dialog-content",1),o.jc(3,"div",2),o.jc(4,"mat-form-field"),o.ec(5,"textarea",3,4),o.jc(7,"button",5),o.qc("click",(function(){o.Lc(c);var t=o.Ic(6);return e.copy(t)})),o.jc(8,"mat-icon"),o.Wc(9,"file_copy"),o.ic(),o.ic(),o.ic(),o.ic(),o.ic(),o.jc(10,"mat-dialog-actions"),o.jc(11,"button",6),o.Wc(12,"Done"),o.ic(),o.ic()}2&t&&(o.Rb(1),o.Yc("JSON - ",e.data.name,""),o.Rb(4),o.zc("value",e.jsonData))},directives:[i.i,i.f,r.c,l.a,s.b,r.j,u.a,d.a,i.c,i.d],styles:[".form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]})}}])}();
//# sourceMappingURL=9-es5.5d9a363e773e8013200b.js.map