{"version":3,"mappings":"iMAYO,QAELA,YAAoBC,EAA+BC,EAAwBC,EACvDC,GADAC,aAA+BA,cAAwBA,YACvDA,uBAGpBC,WACED,KAAKE,MAAMC,SAASC,UAClBR,GAAUI,KAAKK,eAAeT,EAAOU,IAAI,QAI7CD,eAAeT,GACbI,KAAKO,gBAAgBC,cAAcZ,GAChCQ,UAAUP,IACLA,EAASY,SACXT,KAAKU,sBAAsBb,EAASc,QAK5CD,sBAAsBd,GACpBI,KAAKY,KAAKC,UAAU,CAClBC,KAAM,cACNC,QAAS,GAAGnB,EAAWoB,qBAAqBpB,EAAWkB,8BAA8BG,SAEvFjB,KAAKY,KAAKC,UACR,CAACK,SAAU,WAAYH,QAASnB,EAAWkB,OAE7Cd,KAAKY,KAAKC,UACR,CAACK,SAAU,SAAUH,QAAS,GAAGI,eAAuBnB,KAAKE,MAAMkB,SAASC,IAAIC,KAAK,SAEnF1B,EAAW2B,OACbvB,KAAKY,KAAKC,UACR,CAACK,SAAU,WAAYH,QAASnB,EAAW2B,QAG/CvB,KAAKY,KAAKC,UAAU,CAClBK,SAAU,iBACVH,QAAS,GAAGnB,EAAWoB,qBAAqBpB,EAAWkB,8BAA8BG,gDAvC9EO,GAA8BC,yEAA9BD,EAA8BE,sGCR3C,MAAMC,EAAiB,CACrB,CAACC,KAAM,yBAA0BC,UAAWL,GAC5C,CAACI,KAAM,OAOF,+CAAME,4DAHF,CAACC,cAAsBJ,IACtBI,QCGL,+CAAMC,4DALF,CACPC,KACAH","names":["constructor","t","i","g","f","this","ngOnInit","route","paramMap","subscribe","loadCollection","get","workshopService","getCollection","success","setMetaFromCollection","data","meta","updateTag","name","content","description","trim","property","m","snapshot","url","join","image","a","o","selectors","d","path","component","s","p","n","h"],"sources":["./src/app/ssr/workshop-collection-ssr.component.ts","./src/app/ssr/ssr-routing.module.ts","./src/app/ssr/ssr.module.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Meta} from '@angular/platform-browser';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {environment} from '../../environments/environment';\nimport {WorkshopService} from '../dashboard/workshop/workshop.service';\nimport {WorkshopCollection} from '../schemas/Workshop';\n\n@Component({\n  selector: 'avr-workshop-collection-ssr',\n  template: ``,  // show the dark void of nothingness - servers don't care anyway\n  styles: []\n})\nexport class WorkshopCollectionSsrComponent implements OnInit {\n\n  constructor(private route: ActivatedRoute, private router: Router, private meta: Meta,\n              private workshopService: WorkshopService) {\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe(\n      params => this.loadCollection(params.get('id'))\n    );\n  }\n\n  loadCollection(id: string) {\n    this.workshopService.getCollection(id)\n      .subscribe(response => {\n        if (response.success) {\n          this.setMetaFromCollection(response.data);\n        }\n      });\n  }\n\n  setMetaFromCollection(collection: WorkshopCollection) {\n    this.meta.updateTag({\n      name: 'description',\n      content: `${collection.description}\\nView ${collection.name} on the Alias Workshop.`.trim()\n    });\n    this.meta.updateTag(\n      {property: 'og:title', content: collection.name}\n    );\n    this.meta.updateTag(\n      {property: 'og:url', content: `${environment.baseURL}/${this.route.snapshot.url.join('/')}`}\n    );\n    if (collection.image) {\n      this.meta.updateTag(\n        {property: 'og:image', content: collection.image}\n      );\n    }\n    this.meta.updateTag({\n      property: 'og:description',\n      content: `${collection.description}\\nView ${collection.name} on the Alias Workshop.`.trim()\n    });\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {WorkshopCollectionSsrComponent} from './workshop-collection-ssr.component';\n\nconst routes: Routes = [\n  {path: 'dashboard/workshop/:id', component: WorkshopCollectionSsrComponent},  // Alias Workshop collection meta (#350)\n  {path: '**'}  // no component, this page is not ssr-able - render just background color until client renders it\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SsrRoutingModule {\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\n\nimport {SsrRoutingModule} from './ssr-routing.module';\nimport { WorkshopCollectionSsrComponent } from './workshop-collection-ssr.component';\n\n\n@NgModule({\n  declarations: [WorkshopCollectionSsrComponent],\n  imports: [\n    CommonModule,\n    SsrRoutingModule\n  ]\n})\nexport class SsrModule {\n}\n"],"sourceRoot":"webpack:///","file":"904.048d67a56c0d0e2e.js"}