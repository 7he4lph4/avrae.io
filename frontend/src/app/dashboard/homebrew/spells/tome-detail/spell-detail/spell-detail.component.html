<mat-expansion-panel (opened)="opened.emit()">
  <mat-expansion-panel-header>
    <mat-panel-title>
      <div>
        {{spell.name}}
      </div>
    </mat-panel-title>
    <mat-panel-description markdown [data]="'placeholder'">
    </mat-panel-description>
  </mat-expansion-panel-header>

  <div class="form-container">
    <div fxLayout="row" fxLayoutGap="4px">
      <mat-form-field fxFlex>
        <input matInput placeholder="Name" (change)="emitChange()" [(ngModel)]="spell.name">
      </mat-form-field>
      <mat-form-field fxFlex *ngIf="spell.image != undefined">
        <input matInput placeholder="Image URL" (change)="emitChange()" [(ngModel)]="spell.image">
      </mat-form-field>
    </div>
    <mat-form-field>
      <textarea matInput placeholder="Description" rows="7" (change)="emitChange()"
                [(ngModel)]="spell.description"></textarea>
    </mat-form-field>
  </div>

  <div class="actions" fxLayout="row">
    <span fxFlex *ngIf="spell.image === undefined">
      <button mat-icon-button matTooltip="Add image" (click)="spell.image=''; emitChange()">
        <mat-icon aria-label="Add image">add_photo_alternate</mat-icon>
      </button>
    </span>
    <span fxFlex>
      <button mat-icon-button matTooltip="Export to JSON" (click)="beginJSONExport()">
        <mat-icon aria-label="Export to JSON">import_export</mat-icon>
      </button>
    </span>
    <span fxFlex="grow"></span>
    <span fxFlex>
      <button mat-icon-button color="warn" (click)="delete.emit()">
        <mat-icon aria-label="Delete">delete</mat-icon>
      </button>
    </span>
  </div>
</mat-expansion-panel>
