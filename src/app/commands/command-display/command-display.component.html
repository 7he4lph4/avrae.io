<mat-divider></mat-divider>

<div class="command-display" [id]="getQualifiedId()">
  <div class="click-to-expand" (click)="toggleOpen()">
    <div class="command-header">
      <p>
        <code>{{command.signature}}</code>
        <mat-icon>{{isOpen ? 'expand_less' : 'expand_more'}}</mat-icon>
      </p>
    </div>
    <div class="command-closed-desc" *ngIf="!isOpen">
      <markdown>{{debrace(command.short)}}</markdown>
      <p class="mat-small has-subcommands" *ngIf="command.subcommands.length"><i>Has subcommands.</i></p>
    </div>
  </div>

  <div class="command-desc" *ngIf="isOpen">
    <markdown>{{debrace(command.docs)}}</markdown>

    <table class="command-arguments" *ngIf="command.args.length">
      <tr>
        <th>Arguments</th>
      </tr>
      <tr *ngFor="let arg of command.args">
        <td><code>{{arg.name}}</code>{{getArgDescriptors(arg)}} - {{arg.desc}}</td>
      </tr>
    </table>

    <div class="command-subcommands" *ngIf="command.subcommands.length">
      <h4><b>Subcommands</b></h4>
      <mat-accordion>
        <avr-command-display *ngFor="let subcommand of command.subcommands" [command]="subcommand"
                             [parentId]="getQualifiedId()"></avr-command-display>
      </mat-accordion>
    </div>
  </div>
</div>
